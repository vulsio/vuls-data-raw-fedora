{
	"alias": "FEDORA-2019-185e366042",
	"bugs": [
		{
			"bug_id": 1514762,
			"feedback": [
				{
					"bug_id": 1514762,
					"comment": {
						"id": 927360,
						"karma": -1,
						"text": "In cockpit we regularly build a Fedora (29 currently) with updates-testing enabled: Last run today: https://github.com/cockpit-project/cockpit/pull/11572 This shows that this [breaks kubernetes](https://209.132.184.41:8493/logs/pull-11572-20190412-133131-076fa3b6-verify-fedora-testing/log.html). The [journal](https://209.132.184.41:8493/logs/pull-11572-20190412-133131-076fa3b6-verify-fedora-testing/TestKubernetes-testPendingClaim-fedora-testing-127.0.0.2-2401-FAIL.log) says this:\n```\nApr 12 11:20:31 localhost.localdomain systemd[1]: Starting Etcd Server...\nApr 12 11:20:31 localhost.localdomain bash[5877]: /usr/bin/etcd: line 1: syntax error near unexpected token `newline'\nApr 12 11:20:31 localhost.localdomain bash[5877]: /usr/bin/etcd: line 1: `!<arch>'\nApr 12 11:20:31 localhost.localdomain audit[1]: SERVICE_START pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=etcd comm=\"systemd\" exe=\"/usr/lib/systemd/systemd\" hostname=? addr=? terminal=? res=failed'\nApr 12 11:20:31 localhost.localdomain systemd[1]: etcd.service: Main process exited, code=exited, status=2/INVALIDARGUMENT\nApr 12 11:20:31 localhost.localdomain systemd[1]: etcd.service: Failed with result 'exit-code'.\n```\nI haven't reproduced this yet, but as this is dangerously close to slipping into stable, I want to raise a red flag here.",
						"timestamp": "2019-04-12 15:33:55",
						"update_id": 136204,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 927360
				},
				{
					"bug_id": 1514762,
					"comment": {
						"id": 927367,
						"text": "Note that in the [corresponding fedora-29 update](https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af), etcd has a regression. I have not tested this on F30.",
						"timestamp": "2019-04-12 15:35:17",
						"update_id": 136197,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 927367
				},
				{
					"bug_id": 1514762,
					"comment": {
						"id": 929173,
						"karma": -1,
						"text": "Exactly the same failure as in the [previous update](https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af):\n```\nApr 15 05:13:18 localhost.localdomain bash[4139]: /usr/bin/etcd: line 1: syntax error near unexpected token `newline'\nApr 15 05:13:18 localhost.localdomain bash[4139]: /usr/bin/etcd: line 1: `!<arch>'\n```\n\n[full journal](https://209.132.184.41:8493/logs/pull-11595-20190415-074444-6f078131-verify-fedora-testing/TestKubernetes-testDelete-fedora-testing-127.0.0.2-2701-FAIL.log), [pull request that exhibits this](https://github.com/cockpit-project/cockpit/pull/11595)",
						"timestamp": "2019-04-15 12:13:02",
						"update_id": 136727,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 929173
				},
				{
					"bug_id": 1514762,
					"comment": {
						"id": 929898,
						"karma": -1,
						"text": "This *still* fails, but differently now. On a current and clean F-29, with etcd-3.2.16-6.fc29.x86_64:\n```\n# systemctl status -l etcd\n● etcd.service - Etcd Server\n   Loaded: loaded (/usr/lib/systemd/system/etcd.service; disabled; vendor preset: disabled)\n   Active: active (running) since Tue 2019-04-16 02:18:20 EDT; 35s ago\n Main PID: 7797 (etcd)\n    Tasks: 9 (limit: 1147)\n   Memory: 35.6M\n      CPU: 226ms\n   CGroup: /system.slice/etcd.service\n           └─7797 /usr/bin/etcd --name=default --data-dir=/var/lib/etcd/default.etcd --listen-client-urls=http://localhost:2379\n\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: 8e9e05c52164694d received MsgVoteResp from 8e9e05c52164694d at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: 8e9e05c52164694d became leader at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: raft.node: 8e9e05c52164694d elected leader 8e9e05c52164694d at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: setting up the initial cluster version to 3.2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: published {Name:default ClientURLs:[http://localhost:2379]} to cluster cdf818194e3a8c32\nApr 16 02:18:20 m1.cockpit.lan systemd[1]: Started Etcd Server.\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: ready to serve client requests\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: serving insecure client requests on 127.0.0.1:2379, this is strongly discouraged!\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: set the initial cluster version to 3.2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: enabled capabilities for version 3.2\n```\n\nSomehow `dnf upgrade --enablerepo=updates-testing etcd` and `dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2019-049b108f40` say \"nothing to do\", so it seems this isn't yet published. However, I downloaded the build manually with `koji download-build`, and it fails again:\n```\n# systemctl status -l etcd\n● etcd.service - Etcd Server\n   Loaded: loaded (/usr/lib/systemd/system/etcd.service; disabled; vendor preset: disabled)\n   Active: failed (Result: exit-code) since Tue 2019-04-16 02:25:42 EDT; 2min 33s ago\n  Process: 23291 ExecStart=/bin/bash -c GOMAXPROCS=$(nproc) /usr/bin/etcd --name=\"${ETCD_NAME}\" --data-dir=\"${ETCD_DATA_DIR}\" --listen-client-urls=\"${ETCD_LISTEN_>\n Main PID: 23291 (code=exited, status=1/FAILURE)\n      CPU: 16ms\n\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: Starting Etcd Server...\nApr 16 02:25:42 m1.cockpit.lan etcd[23291]: recognized and used environment variable ETCD_ADVERTISE_CLIENT_URLS=http://localhost:2379\nApr 16 02:25:42 m1.cockpit.lan etcd[23291]: conflicting environment variable \"ETCD_LISTEN_CLIENT_URLS\" is shadowed by corresponding command-line flag (either unset environment variable or disable flag)\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: etcd.service: Main process exited, code=exited, status=1/FAILURE\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: etcd.service: Failed with result 'exit-code'.\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: Failed to start Etcd Server.\n```",
						"timestamp": "2019-04-16 06:30:18",
						"update_id": 136840,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 929898
				},
				{
					"bug_id": 1514762,
					"comment": {
						"id": 930089,
						"text": "Caused by https://github.com/etcd-io/etcd/pull/9382\nWill fix our service file accordingly.",
						"timestamp": "2019-04-16 13:54:29",
						"update_id": 136840,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/d39b265ba4de0763d7a95d149ca7ee52cc5ff3e3a3dc13eecee1652927748f2b?s=24&d=retro",
							"email": "zebob.m@gmail.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "provenpackager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "go-sig"
								}
							],
							"id": 3743,
							"name": "eclipseo",
							"openid": "eclipseo.id.fedoraproject.org"
						},
						"user_id": 3743
					},
					"comment_id": 930089
				},
				{
					"bug_id": 1514762,
					"comment": {
						"id": 930169,
						"karma": 1,
						"text": "Upgrade starts up fine now. I also tested it with kubernetes and cockpit-kubernetes' tests. Thanks!",
						"timestamp": "2019-04-16 19:27:25",
						"update_id": 136947,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 930169
				}
			],
			"title": "etcd-3.3.12 is available",
			"bugzilla": {
				"bug_id": "1514762",
				"creation_ts": "2017-11-18 12:13:29 +0000",
				"short_desc": "etcd-3.3.12 is available",
				"delta_ts": "2019-05-06 04:14:56 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "FutureFeature, Triaged",
				"priority": "unspecified",
				"bug_severity": "unspecified",
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "11009300",
						"comment_count": "0",
						"who": {
							"text": "upstream-release-monitoring",
							"name": "Upstream Release Monitoring"
						},
						"bug_when": "2017-11-18 12:13:29 +0000",
						"thetext": "Latest upstream release: 3.2.10\nCurrent version/release in rawhide: 3.2.7-1.fc28\nURL: https://github.com/coreos/etcd\n\nPlease consult the package updates policy before you issue an update to a stable branch: https://fedoraproject.org/wiki/Updates_Policy\n\nMore information about the service that created this bug can be found at: https://fedoraproject.org/wiki/Upstream_release_monitoring\n\nPlease keep in mind that with any upstream change, there may also be packaging changes that need to be made. Specifically, please remember that it is your responsibility to review the new version to ensure that the licensing is still correct and that no non-free or legally problematic items have been added upstream.\n\nBased on the information from anitya:  https://release-monitoring.org/project/760/"
					},
					{
						"isprivate": "0",
						"commentid": "11009301",
						"comment_count": "1",
						"who": {
							"text": "upstream-release-monitoring",
							"name": "Upstream Release Monitoring"
						},
						"bug_when": "2017-11-18 12:13:39 +0000",
						"thetext": "One or more of the specfile's Sources is not a valid URL so we cannot automatically build the new version for you. Please use a URL in your Source declarations if possible."
					},
					{
						"isprivate": "0",
						"commentid": "11167887",
						"comment_count": "2",
						"who": {
							"text": "upstream-release-monitoring",
							"name": "Upstream Release Monitoring"
						},
						"bug_when": "2018-01-09 12:12:11 +0000",
						"thetext": "Latest upstream release: 3.3.0-rc.0\nCurrent version/release in rawhide: 3.2.7-3.fc28\nURL: https://github.com/coreos/etcd\n\nPlease consult the package updates policy before you issue an update to a stable branch: https://fedoraproject.org/wiki/Updates_Policy\n\nMore information about the service that created this bug can be found at: https://fedoraproject.org/wiki/Upstream_release_monitoring\n\nPlease keep in mind that with any upstream change, there may also be packaging changes that need to be made. Specifically, please remember that it is your responsibility to review the new version to ensure that the licensing is still correct and that no non-free or legally problematic items have been added upstream.\n\nBased on the information from anitya:  https://release-monitoring.org/project/760/"
					},
					{
						"isprivate": "0",
						"commentid": "11167889",
						"comment_count": "3",
						"who": {
							"text": "upstream-release-monitoring",
							"name": "Upstream Release Monitoring"
						},
						"bug_when": "2018-01-09 12:12:18 +0000",
						"thetext": "One or more of the specfile's Sources is not a valid URL so we cannot automatically build the new version for you. Please use a URL in your Source declarations if possible."
					},
					{
						"isprivate": "0",
						"commentid": "11267569",
						"comment_count": "4",
						"who": {
							"text": "upstream-release-monitoring",
							"name": "Upstream Release Monitoring"
						},
						"bug_when": "2018-02-09 00:12:30 +0000",
						"thetext": "Latest upstream release: 3.3.0\nCurrent version/release in rawhide: 3.2.7-3.fc28\nURL: https://github.com/coreos/etcd\n\nPlease consult the package updates policy before you issue an update to a stable branch: https://fedoraproject.org/wiki/Updates_Policy\n\nMore information about the service that created this bug can be found at: https://fedoraproject.org/wiki/Upstream_release_monitoring\n\nPlease keep in mind that with any upstream change, there may also be packaging changes that need to be made. Specifically, please remember that it is your responsibility to review the new version to ensure that the licensing is still correct and that no non-free or legally problematic items have been added upstream.\n\nBased on the information from anitya:  https://release-monitoring.org/project/760/"
					},
					{
						"isprivate": "0",
						"commentid": "11319213",
						"comment_count": "5",
						"who": {
							"text": "upstream-release-monitoring",
							"name": "Upstream Release Monitoring"
						},
						"bug_when": "2018-02-26 00:18:27 +0000",
						"thetext": "Latest upstream release: 3.3.1\nCurrent version/release in rawhide: 3.2.7-4.fc28\nURL: https://github.com/coreos/etcd\n\nPlease consult the package updates policy before you issue an update to a stable branch: https://fedoraproject.org/wiki/Updates_Policy\n\nMore information about the service that created this bug can be found at: https://fedoraproject.org/wiki/Upstream_release_monitoring\n\nPlease keep in mind that with any upstream change, there may also be packaging changes that need to be made. Specifically, please remember that it is your responsibility to review the new version to ensure that the licensing is still correct and that no non-free or legally problematic items have been added upstream.\n\nBased on the information from anitya:  https://release-monitoring.org/project/760/"
					},
					{
						"isprivate": "0",
						"commentid": "11423505",
						"comment_count": "6",
						"who": {
							"text": "upstream-release-monitoring",
							"name": "Upstream Release Monitoring"
						},
						"bug_when": "2018-03-28 00:13:25 +0000",
						"thetext": "Latest upstream release: 3.3.2\nCurrent version/release in rawhide: 3.2.16-2.fc29\nURL: https://github.com/coreos/etcd\n\nPlease consult the package updates policy before you issue an update to a stable branch: https://fedoraproject.org/wiki/Updates_Policy\n\nMore information about the service that created this bug can be found at: https://fedoraproject.org/wiki/Upstream_release_monitoring\n\nPlease keep in mind that with any upstream change, there may also be packaging changes that need to be made. Specifically, please remember that it is your responsibility to review the new version to ensure that the licensing is still correct and that no non-free or legally problematic items have been added upstream.\n\nBased on the information from anitya:  https://release-monitoring.org/project/760/"
					},
					{
						"isprivate": "0",
						"commentid": "11431253",
						"comment_count": "7",
						"who": {
							"text": "upstream-release-monitoring",
							"name": "Upstream Release Monitoring"
						},
						"bug_when": "2018-03-29 12:13:57 +0000",
						"thetext": "Latest upstream release: 3.3.3\nCurrent version/release in rawhide: 3.2.16-2.fc29\nURL: https://github.com/coreos/etcd\n\nPlease consult the package updates policy before you issue an update to a stable branch: https://fedoraproject.org/wiki/Updates_Policy\n\nMore information about the service that created this bug can be found at: https://fedoraproject.org/wiki/Upstream_release_monitoring\n\nPlease keep in mind that with any upstream change, there may also be packaging changes that need to be made. Specifically, please remember that it is your responsibility to review the new version to ensure that the licensing is still correct and that no non-free or legally problematic items have been added upstream.\n\nBased on the information from anitya:  https://release-monitoring.org/project/760/"
					},
					{
						"isprivate": "0",
						"commentid": "11598728",
						"comment_count": "8",
						"who": {
							"text": "upstream-release-monitoring",
							"name": "Upstream Release Monitoring"
						},
						"bug_when": "2018-05-15 12:12:31 +0000",
						"thetext": "Latest upstream release: 3.3.5\nCurrent version/release in rawhide: 3.2.16-2.fc29\nURL: https://github.com/coreos/etcd\n\nPlease consult the package updates policy before you issue an update to a stable branch: https://fedoraproject.org/wiki/Updates_Policy\n\nMore information about the service that created this bug can be found at: https://fedoraproject.org/wiki/Upstream_release_monitoring\n\nPlease keep in mind that with any upstream change, there may also be packaging changes that need to be made. Specifically, please remember that it is your responsibility to review the new version to ensure that the licensing is still correct and that no non-free or legally problematic items have been added upstream.\n\nBased on the information from anitya:  https://release-monitoring.org/project/760/"
					},
					{
						"isprivate": "0",
						"commentid": "11718037",
						"comment_count": "9",
						"who": {
							"text": "upstream-release-monitoring",
							"name": "Upstream Release Monitoring"
						},
						"bug_when": "2018-06-19 12:12:35 +0000",
						"thetext": "Latest upstream release: 3.3.8\nCurrent version/release in rawhide: 3.2.16-2.fc29\nURL: https://github.com/coreos/etcd\n\nPlease consult the package updates policy before you issue an update to a stable branch: https://fedoraproject.org/wiki/Updates_Policy\n\nMore information about the service that created this bug can be found at: https://fedoraproject.org/wiki/Upstream_release_monitoring\n\nPlease keep in mind that with any upstream change, there may also be packaging changes that need to be made. Specifically, please remember that it is your responsibility to review the new version to ensure that the licensing is still correct and that no non-free or legally problematic items have been added upstream.\n\nBased on the information from anitya:  https://release-monitoring.org/project/760/"
					},
					{
						"isprivate": "0",
						"commentid": "11852239",
						"comment_count": "10",
						"who": {
							"text": "upstream-release-monitoring",
							"name": "Upstream Release Monitoring"
						},
						"bug_when": "2018-07-28 00:12:34 +0000",
						"thetext": "Latest upstream release: 3.3.9\nCurrent version/release in rawhide: 3.2.16-2.fc29\nURL: https://github.com/coreos/etcd\n\nPlease consult the package updates policy before you issue an update to a stable branch: https://fedoraproject.org/wiki/Updates_Policy\n\nMore information about the service that created this bug can be found at: https://fedoraproject.org/wiki/Upstream_release_monitoring\n\nPlease keep in mind that with any upstream change, there may also be packaging changes that need to be made. Specifically, please remember that it is your responsibility to review the new version to ensure that the licensing is still correct and that no non-free or legally problematic items have been added upstream.\n\nBased on the information from anitya:  https://release-monitoring.org/project/760/"
					},
					{
						"isprivate": "0",
						"commentid": "12132655",
						"comment_count": "11",
						"who": {
							"text": "upstream-release-monitoring",
							"name": "Upstream Release Monitoring"
						},
						"bug_when": "2018-10-23 13:51:30 +0000",
						"thetext": "Latest upstream release: 3.3.10\nCurrent version/release in rawhide: 3.2.16-2.fc29\nURL: https://github.com/etcd-io/etcd\n\nPlease consult the package updates policy before you issue an update to a stable branch: https://fedoraproject.org/wiki/Updates_Policy\n\nMore information about the service that created this bug can be found at: https://fedoraproject.org/wiki/Upstream_release_monitoring\n\nPlease keep in mind that with any upstream change, there may also be packaging changes that need to be made. Specifically, please remember that it is your responsibility to review the new version to ensure that the licensing is still correct and that no non-free or legally problematic items have been added upstream.\n\nBased on the information from anitya:  https://release-monitoring.org/project/760/"
					},
					{
						"isprivate": "0",
						"commentid": "12429939",
						"comment_count": "12",
						"who": {
							"text": "upstream-release-monitoring",
							"name": "Upstream Release Monitoring"
						},
						"bug_when": "2019-02-07 19:05:36 +0000",
						"thetext": "Latest upstream release: 3.3.12\nCurrent version/release in rawhide: 3.2.16-2.fc29\nURL: https://github.com/etcd-io/etcd\n\nPlease consult the package updates policy before you issue an update to a stable branch: https://fedoraproject.org/wiki/Updates_Policy\n\nMore information about the service that created this bug can be found at: https://fedoraproject.org/wiki/Upstream_release_monitoring\n\nPlease keep in mind that with any upstream change, there may also be packaging changes that need to be made. Specifically, please remember that it is your responsibility to review the new version to ensure that the licensing is still correct and that no non-free or legally problematic items have been added upstream.\n\nBased on the information from anitya:  https://release-monitoring.org/project/760/"
					},
					{
						"isprivate": "0",
						"commentid": "12620698",
						"comment_count": "13",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-08 19:52:28 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc30 has been submitted as an update to Fedora 30. https://bodhi.fedoraproject.org/updates/FEDORA-2019-833466697f"
					},
					{
						"isprivate": "0",
						"commentid": "12620813",
						"comment_count": "14",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-08 20:42:28 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc29 has been submitted as an update to Fedora 29. https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af"
					},
					{
						"isprivate": "0",
						"commentid": "12621305",
						"comment_count": "15",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-09 01:48:03 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc30 has been pushed to the Fedora 30 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-833466697f"
					},
					{
						"isprivate": "0",
						"commentid": "12621489",
						"comment_count": "16",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-09 03:14:06 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af"
					},
					{
						"isprivate": "0",
						"commentid": "12636431",
						"comment_count": "17",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-13 00:04:36 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc30 has been pushed to the Fedora 30 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "12637224",
						"comment_count": "18",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-13 21:20:11 +0000",
						"thetext": "etcd-3.3.12-2.20190413gitf29b1ad.fc29 has been submitted as an update to Fedora 29. https://bodhi.fedoraproject.org/updates/FEDORA-2019-185e366042"
					},
					{
						"isprivate": "0",
						"commentid": "12637421",
						"comment_count": "19",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-14 04:46:03 +0000",
						"thetext": "etcd-3.3.12-2.20190413gitf29b1ad.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-185e366042"
					},
					{
						"isprivate": "0",
						"commentid": "12640269",
						"comment_count": "20",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-15 14:30:02 +0000",
						"thetext": "etcd-3.3.12-3.20190413gitf29b1ad.fc29 has been submitted as an update to Fedora 29. https://bodhi.fedoraproject.org/updates/FEDORA-2019-049b108f40"
					},
					{
						"isprivate": "0",
						"commentid": "12642084",
						"comment_count": "21",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-16 04:34:42 +0000",
						"thetext": "etcd-3.3.12-3.20190413gitf29b1ad.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-049b108f40"
					},
					{
						"isprivate": "0",
						"commentid": "12644140",
						"comment_count": "22",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-16 14:54:42 +0000",
						"thetext": "etcd-3.3.12-4.20190413gitf29b1ad.fc29 has been submitted as an update to Fedora 29. https://bodhi.fedoraproject.org/updates/FEDORA-2019-219b0b0b6a"
					},
					{
						"isprivate": "0",
						"commentid": "12652089",
						"comment_count": "23",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-18 22:12:54 +0000",
						"thetext": "etcd-3.3.12-4.20190413gitf29b1ad.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-219b0b0b6a"
					},
					{
						"isprivate": "0",
						"commentid": "12703665",
						"comment_count": "24",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-05-06 04:14:56 +0000",
						"thetext": "etcd-3.3.12-4.20190413gitf29b1ad.fc29 has been pushed to the Fedora 29 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1552714,
			"feedback": [
				{
					"bug_id": 1552714,
					"comment": {
						"id": 927360,
						"karma": -1,
						"text": "In cockpit we regularly build a Fedora (29 currently) with updates-testing enabled: Last run today: https://github.com/cockpit-project/cockpit/pull/11572 This shows that this [breaks kubernetes](https://209.132.184.41:8493/logs/pull-11572-20190412-133131-076fa3b6-verify-fedora-testing/log.html). The [journal](https://209.132.184.41:8493/logs/pull-11572-20190412-133131-076fa3b6-verify-fedora-testing/TestKubernetes-testPendingClaim-fedora-testing-127.0.0.2-2401-FAIL.log) says this:\n```\nApr 12 11:20:31 localhost.localdomain systemd[1]: Starting Etcd Server...\nApr 12 11:20:31 localhost.localdomain bash[5877]: /usr/bin/etcd: line 1: syntax error near unexpected token `newline'\nApr 12 11:20:31 localhost.localdomain bash[5877]: /usr/bin/etcd: line 1: `!<arch>'\nApr 12 11:20:31 localhost.localdomain audit[1]: SERVICE_START pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=etcd comm=\"systemd\" exe=\"/usr/lib/systemd/systemd\" hostname=? addr=? terminal=? res=failed'\nApr 12 11:20:31 localhost.localdomain systemd[1]: etcd.service: Main process exited, code=exited, status=2/INVALIDARGUMENT\nApr 12 11:20:31 localhost.localdomain systemd[1]: etcd.service: Failed with result 'exit-code'.\n```\nI haven't reproduced this yet, but as this is dangerously close to slipping into stable, I want to raise a red flag here.",
						"timestamp": "2019-04-12 15:33:55",
						"update_id": 136204,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 927360
				},
				{
					"bug_id": 1552714,
					"comment": {
						"id": 927367,
						"text": "Note that in the [corresponding fedora-29 update](https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af), etcd has a regression. I have not tested this on F30.",
						"timestamp": "2019-04-12 15:35:17",
						"update_id": 136197,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 927367
				},
				{
					"bug_id": 1552714,
					"comment": {
						"id": 929173,
						"karma": -1,
						"text": "Exactly the same failure as in the [previous update](https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af):\n```\nApr 15 05:13:18 localhost.localdomain bash[4139]: /usr/bin/etcd: line 1: syntax error near unexpected token `newline'\nApr 15 05:13:18 localhost.localdomain bash[4139]: /usr/bin/etcd: line 1: `!<arch>'\n```\n\n[full journal](https://209.132.184.41:8493/logs/pull-11595-20190415-074444-6f078131-verify-fedora-testing/TestKubernetes-testDelete-fedora-testing-127.0.0.2-2701-FAIL.log), [pull request that exhibits this](https://github.com/cockpit-project/cockpit/pull/11595)",
						"timestamp": "2019-04-15 12:13:02",
						"update_id": 136727,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 929173
				},
				{
					"bug_id": 1552714,
					"comment": {
						"id": 929898,
						"karma": -1,
						"text": "This *still* fails, but differently now. On a current and clean F-29, with etcd-3.2.16-6.fc29.x86_64:\n```\n# systemctl status -l etcd\n● etcd.service - Etcd Server\n   Loaded: loaded (/usr/lib/systemd/system/etcd.service; disabled; vendor preset: disabled)\n   Active: active (running) since Tue 2019-04-16 02:18:20 EDT; 35s ago\n Main PID: 7797 (etcd)\n    Tasks: 9 (limit: 1147)\n   Memory: 35.6M\n      CPU: 226ms\n   CGroup: /system.slice/etcd.service\n           └─7797 /usr/bin/etcd --name=default --data-dir=/var/lib/etcd/default.etcd --listen-client-urls=http://localhost:2379\n\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: 8e9e05c52164694d received MsgVoteResp from 8e9e05c52164694d at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: 8e9e05c52164694d became leader at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: raft.node: 8e9e05c52164694d elected leader 8e9e05c52164694d at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: setting up the initial cluster version to 3.2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: published {Name:default ClientURLs:[http://localhost:2379]} to cluster cdf818194e3a8c32\nApr 16 02:18:20 m1.cockpit.lan systemd[1]: Started Etcd Server.\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: ready to serve client requests\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: serving insecure client requests on 127.0.0.1:2379, this is strongly discouraged!\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: set the initial cluster version to 3.2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: enabled capabilities for version 3.2\n```\n\nSomehow `dnf upgrade --enablerepo=updates-testing etcd` and `dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2019-049b108f40` say \"nothing to do\", so it seems this isn't yet published. However, I downloaded the build manually with `koji download-build`, and it fails again:\n```\n# systemctl status -l etcd\n● etcd.service - Etcd Server\n   Loaded: loaded (/usr/lib/systemd/system/etcd.service; disabled; vendor preset: disabled)\n   Active: failed (Result: exit-code) since Tue 2019-04-16 02:25:42 EDT; 2min 33s ago\n  Process: 23291 ExecStart=/bin/bash -c GOMAXPROCS=$(nproc) /usr/bin/etcd --name=\"${ETCD_NAME}\" --data-dir=\"${ETCD_DATA_DIR}\" --listen-client-urls=\"${ETCD_LISTEN_>\n Main PID: 23291 (code=exited, status=1/FAILURE)\n      CPU: 16ms\n\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: Starting Etcd Server...\nApr 16 02:25:42 m1.cockpit.lan etcd[23291]: recognized and used environment variable ETCD_ADVERTISE_CLIENT_URLS=http://localhost:2379\nApr 16 02:25:42 m1.cockpit.lan etcd[23291]: conflicting environment variable \"ETCD_LISTEN_CLIENT_URLS\" is shadowed by corresponding command-line flag (either unset environment variable or disable flag)\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: etcd.service: Main process exited, code=exited, status=1/FAILURE\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: etcd.service: Failed with result 'exit-code'.\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: Failed to start Etcd Server.\n```",
						"timestamp": "2019-04-16 06:30:18",
						"update_id": 136840,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 929898
				},
				{
					"bug_id": 1552714,
					"comment": {
						"id": 930089,
						"text": "Caused by https://github.com/etcd-io/etcd/pull/9382\nWill fix our service file accordingly.",
						"timestamp": "2019-04-16 13:54:29",
						"update_id": 136840,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/d39b265ba4de0763d7a95d149ca7ee52cc5ff3e3a3dc13eecee1652927748f2b?s=24&d=retro",
							"email": "zebob.m@gmail.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "provenpackager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "go-sig"
								}
							],
							"id": 3743,
							"name": "eclipseo",
							"openid": "eclipseo.id.fedoraproject.org"
						},
						"user_id": 3743
					},
					"comment_id": 930089
				},
				{
					"bug_id": 1552714,
					"comment": {
						"id": 930169,
						"karma": 1,
						"text": "Upgrade starts up fine now. I also tested it with kubernetes and cockpit-kubernetes' tests. Thanks!",
						"timestamp": "2019-04-16 19:27:25",
						"update_id": 136947,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 930169
				}
			],
			"parent": true,
			"security": true,
			"title": "CVE-2018-1098 etcd: Cross-site request forgery via crafted local POST forms",
			"bugzilla": {
				"bug_id": "1552714",
				"alias": "CVE-2018-1098",
				"creation_ts": "2018-03-07 15:29:46 +0000",
				"short_desc": "CVE-2018-1098 etcd: Cross-site request forgery via crafted local POST forms",
				"delta_ts": "2021-10-21 19:56:17 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security",
				"priority": "medium",
				"bug_severity": "medium",
				"depends_on": [
					"1552720",
					"1552721",
					"1553762",
					"1553763",
					"1566226",
					"1590309"
				],
				"blocked": [
					{
						"bug_id": "1552719",
						"error": "NotPermitted"
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "11356996",
						"comment_count": "0",
						"who": {
							"text": "psampaio",
							"name": "Pedro Sampaio"
						},
						"bug_when": "2018-03-07 15:29:46 +0000",
						"thetext": "A cross-site request forgery flaw was found in etcd 3.3.1 and earlier. An attacker can set up a website that tries to send a POST request to the etcd server and modify a key. Adding a key is done with PUT so it is theoretically safe (can't PUT from an HTML form or such) but POST allows creating in-order keys that an attacker can send.\n\nUpstream bug:\n\nhttps://github.com/coreos/etcd/issues/9353"
					},
					{
						"isprivate": "0",
						"commentid": "11357114",
						"comment_count": "1",
						"who": {
							"text": "psampaio",
							"name": "Pedro Sampaio"
						},
						"bug_when": "2018-03-07 15:42:22 +0000",
						"thetext": "Created etcd tracking bugs for this issue:\n\nAffects: fedora-all [bug 1552720]"
					},
					{
						"isprivate": "0",
						"commentid": "11695692",
						"comment_count": "6",
						"who": {
							"text": "rschiron",
							"name": "Riccardo Schirone"
						},
						"bug_when": "2018-06-12 09:58:25 +0000",
						"thetext": "Reference:\nhttps://www.twistlock.com/2018/02/28/dear-developers-beware-dns-rebinding/"
					},
					{
						"isprivate": "0",
						"commentid": "11696177",
						"comment_count": "8",
						"who": {
							"text": "rschiron",
							"name": "Riccardo Schirone"
						},
						"bug_when": "2018-06-12 12:17:11 +0000",
						"thetext": "If etcd supports the new v3 API, the attacker can run more operations through POST, as described in the reference blog post."
					},
					{
						"isprivate": "0",
						"commentid": "11717223",
						"comment_count": "11",
						"who": {
							"text": "rschiron",
							"name": "Riccardo Schirone"
						},
						"bug_when": "2018-06-19 08:13:19 +0000",
						"thetext": "Mitigation:\n\nConfigure and enable authentication on the etcd server."
					}
				]
			}
		},
		{
			"bug_id": 1552717,
			"feedback": [
				{
					"bug_id": 1552717,
					"comment": {
						"id": 927360,
						"karma": -1,
						"text": "In cockpit we regularly build a Fedora (29 currently) with updates-testing enabled: Last run today: https://github.com/cockpit-project/cockpit/pull/11572 This shows that this [breaks kubernetes](https://209.132.184.41:8493/logs/pull-11572-20190412-133131-076fa3b6-verify-fedora-testing/log.html). The [journal](https://209.132.184.41:8493/logs/pull-11572-20190412-133131-076fa3b6-verify-fedora-testing/TestKubernetes-testPendingClaim-fedora-testing-127.0.0.2-2401-FAIL.log) says this:\n```\nApr 12 11:20:31 localhost.localdomain systemd[1]: Starting Etcd Server...\nApr 12 11:20:31 localhost.localdomain bash[5877]: /usr/bin/etcd: line 1: syntax error near unexpected token `newline'\nApr 12 11:20:31 localhost.localdomain bash[5877]: /usr/bin/etcd: line 1: `!<arch>'\nApr 12 11:20:31 localhost.localdomain audit[1]: SERVICE_START pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=etcd comm=\"systemd\" exe=\"/usr/lib/systemd/systemd\" hostname=? addr=? terminal=? res=failed'\nApr 12 11:20:31 localhost.localdomain systemd[1]: etcd.service: Main process exited, code=exited, status=2/INVALIDARGUMENT\nApr 12 11:20:31 localhost.localdomain systemd[1]: etcd.service: Failed with result 'exit-code'.\n```\nI haven't reproduced this yet, but as this is dangerously close to slipping into stable, I want to raise a red flag here.",
						"timestamp": "2019-04-12 15:33:55",
						"update_id": 136204,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 927360
				},
				{
					"bug_id": 1552717,
					"comment": {
						"id": 927367,
						"text": "Note that in the [corresponding fedora-29 update](https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af), etcd has a regression. I have not tested this on F30.",
						"timestamp": "2019-04-12 15:35:17",
						"update_id": 136197,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 927367
				},
				{
					"bug_id": 1552717,
					"comment": {
						"id": 929173,
						"karma": -1,
						"text": "Exactly the same failure as in the [previous update](https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af):\n```\nApr 15 05:13:18 localhost.localdomain bash[4139]: /usr/bin/etcd: line 1: syntax error near unexpected token `newline'\nApr 15 05:13:18 localhost.localdomain bash[4139]: /usr/bin/etcd: line 1: `!<arch>'\n```\n\n[full journal](https://209.132.184.41:8493/logs/pull-11595-20190415-074444-6f078131-verify-fedora-testing/TestKubernetes-testDelete-fedora-testing-127.0.0.2-2701-FAIL.log), [pull request that exhibits this](https://github.com/cockpit-project/cockpit/pull/11595)",
						"timestamp": "2019-04-15 12:13:02",
						"update_id": 136727,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 929173
				},
				{
					"bug_id": 1552717,
					"comment": {
						"id": 929898,
						"karma": -1,
						"text": "This *still* fails, but differently now. On a current and clean F-29, with etcd-3.2.16-6.fc29.x86_64:\n```\n# systemctl status -l etcd\n● etcd.service - Etcd Server\n   Loaded: loaded (/usr/lib/systemd/system/etcd.service; disabled; vendor preset: disabled)\n   Active: active (running) since Tue 2019-04-16 02:18:20 EDT; 35s ago\n Main PID: 7797 (etcd)\n    Tasks: 9 (limit: 1147)\n   Memory: 35.6M\n      CPU: 226ms\n   CGroup: /system.slice/etcd.service\n           └─7797 /usr/bin/etcd --name=default --data-dir=/var/lib/etcd/default.etcd --listen-client-urls=http://localhost:2379\n\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: 8e9e05c52164694d received MsgVoteResp from 8e9e05c52164694d at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: 8e9e05c52164694d became leader at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: raft.node: 8e9e05c52164694d elected leader 8e9e05c52164694d at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: setting up the initial cluster version to 3.2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: published {Name:default ClientURLs:[http://localhost:2379]} to cluster cdf818194e3a8c32\nApr 16 02:18:20 m1.cockpit.lan systemd[1]: Started Etcd Server.\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: ready to serve client requests\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: serving insecure client requests on 127.0.0.1:2379, this is strongly discouraged!\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: set the initial cluster version to 3.2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: enabled capabilities for version 3.2\n```\n\nSomehow `dnf upgrade --enablerepo=updates-testing etcd` and `dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2019-049b108f40` say \"nothing to do\", so it seems this isn't yet published. However, I downloaded the build manually with `koji download-build`, and it fails again:\n```\n# systemctl status -l etcd\n● etcd.service - Etcd Server\n   Loaded: loaded (/usr/lib/systemd/system/etcd.service; disabled; vendor preset: disabled)\n   Active: failed (Result: exit-code) since Tue 2019-04-16 02:25:42 EDT; 2min 33s ago\n  Process: 23291 ExecStart=/bin/bash -c GOMAXPROCS=$(nproc) /usr/bin/etcd --name=\"${ETCD_NAME}\" --data-dir=\"${ETCD_DATA_DIR}\" --listen-client-urls=\"${ETCD_LISTEN_>\n Main PID: 23291 (code=exited, status=1/FAILURE)\n      CPU: 16ms\n\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: Starting Etcd Server...\nApr 16 02:25:42 m1.cockpit.lan etcd[23291]: recognized and used environment variable ETCD_ADVERTISE_CLIENT_URLS=http://localhost:2379\nApr 16 02:25:42 m1.cockpit.lan etcd[23291]: conflicting environment variable \"ETCD_LISTEN_CLIENT_URLS\" is shadowed by corresponding command-line flag (either unset environment variable or disable flag)\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: etcd.service: Main process exited, code=exited, status=1/FAILURE\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: etcd.service: Failed with result 'exit-code'.\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: Failed to start Etcd Server.\n```",
						"timestamp": "2019-04-16 06:30:18",
						"update_id": 136840,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 929898
				},
				{
					"bug_id": 1552717,
					"comment": {
						"id": 930089,
						"text": "Caused by https://github.com/etcd-io/etcd/pull/9382\nWill fix our service file accordingly.",
						"timestamp": "2019-04-16 13:54:29",
						"update_id": 136840,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/d39b265ba4de0763d7a95d149ca7ee52cc5ff3e3a3dc13eecee1652927748f2b?s=24&d=retro",
							"email": "zebob.m@gmail.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "provenpackager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "go-sig"
								}
							],
							"id": 3743,
							"name": "eclipseo",
							"openid": "eclipseo.id.fedoraproject.org"
						},
						"user_id": 3743
					},
					"comment_id": 930089
				},
				{
					"bug_id": 1552717,
					"comment": {
						"id": 930169,
						"karma": 1,
						"text": "Upgrade starts up fine now. I also tested it with kubernetes and cockpit-kubernetes' tests. Thanks!",
						"timestamp": "2019-04-16 19:27:25",
						"update_id": 136947,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 930169
				}
			],
			"parent": true,
			"security": true,
			"title": "CVE-2018-1099 etcd: DNS rebinding vulnerability in etcd server",
			"bugzilla": {
				"bug_id": "1552717",
				"alias": "CVE-2018-1099",
				"creation_ts": "2018-03-07 15:38:43 +0000",
				"short_desc": "CVE-2018-1099 etcd: DNS rebinding vulnerability in etcd server",
				"delta_ts": "2021-10-21 19:56:27 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security",
				"priority": "medium",
				"bug_severity": "medium",
				"depends_on": [
					"1552720",
					"1552721",
					"1553764",
					"1566227",
					"1566228",
					"1590239"
				],
				"blocked": [
					{
						"bug_id": "1552719",
						"error": "NotPermitted"
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "11357079",
						"comment_count": "0",
						"who": {
							"text": "psampaio",
							"name": "Pedro Sampaio"
						},
						"bug_when": "2018-03-07 15:38:43 +0000",
						"thetext": "etcd 3.3.1 and earlier does not correctly restrict access to resources based on\nthe hostname, thus allowing a DNS rebinding attack. An attacker can control his\nDNS records and trick the browser into sending requests to an etcd server on an\ninternal network and bypassing the same-origin policy.\n\nUpstream issue:\nhttps://github.com/coreos/etcd/issues/9353"
					},
					{
						"isprivate": "0",
						"commentid": "11357116",
						"comment_count": "1",
						"who": {
							"text": "psampaio",
							"name": "Pedro Sampaio"
						},
						"bug_when": "2018-03-07 15:42:41 +0000",
						"thetext": "Created etcd tracking bugs for this issue:\n\nAffects: fedora-all [bug 1552720]"
					},
					{
						"isprivate": "0",
						"commentid": "11691507",
						"comment_count": "5",
						"who": {
							"text": "rschiron",
							"name": "Riccardo Schirone"
						},
						"bug_when": "2018-06-11 09:04:21 +0000",
						"thetext": "Patch:\nhttps://github.com/coreos/etcd/commit/a7e5790c82039945639798ae9a3289fe787f5e56"
					},
					{
						"isprivate": "0",
						"commentid": "11695496",
						"comment_count": "6",
						"who": {
							"text": "rschiron",
							"name": "Riccardo Schirone"
						},
						"bug_when": "2018-06-12 09:06:40 +0000",
						"thetext": "Reference:\nhttps://www.twistlock.com/2018/02/28/dear-developers-beware-dns-rebinding/"
					},
					{
						"isprivate": "0",
						"commentid": "11695634",
						"comment_count": "7",
						"who": {
							"text": "rschiron",
							"name": "Riccardo Schirone"
						},
						"bug_when": "2018-06-12 09:39:46 +0000",
						"thetext": "Mitigation:\n\nConfigure and enable authentication on the etcd server or secure your client connection via HTTPS."
					}
				]
			}
		},
		{
			"bug_id": 1552720,
			"feedback": [
				{
					"bug_id": 1552720,
					"comment": {
						"id": 927360,
						"karma": -1,
						"text": "In cockpit we regularly build a Fedora (29 currently) with updates-testing enabled: Last run today: https://github.com/cockpit-project/cockpit/pull/11572 This shows that this [breaks kubernetes](https://209.132.184.41:8493/logs/pull-11572-20190412-133131-076fa3b6-verify-fedora-testing/log.html). The [journal](https://209.132.184.41:8493/logs/pull-11572-20190412-133131-076fa3b6-verify-fedora-testing/TestKubernetes-testPendingClaim-fedora-testing-127.0.0.2-2401-FAIL.log) says this:\n```\nApr 12 11:20:31 localhost.localdomain systemd[1]: Starting Etcd Server...\nApr 12 11:20:31 localhost.localdomain bash[5877]: /usr/bin/etcd: line 1: syntax error near unexpected token `newline'\nApr 12 11:20:31 localhost.localdomain bash[5877]: /usr/bin/etcd: line 1: `!<arch>'\nApr 12 11:20:31 localhost.localdomain audit[1]: SERVICE_START pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=etcd comm=\"systemd\" exe=\"/usr/lib/systemd/systemd\" hostname=? addr=? terminal=? res=failed'\nApr 12 11:20:31 localhost.localdomain systemd[1]: etcd.service: Main process exited, code=exited, status=2/INVALIDARGUMENT\nApr 12 11:20:31 localhost.localdomain systemd[1]: etcd.service: Failed with result 'exit-code'.\n```\nI haven't reproduced this yet, but as this is dangerously close to slipping into stable, I want to raise a red flag here.",
						"timestamp": "2019-04-12 15:33:55",
						"update_id": 136204,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 927360
				},
				{
					"bug_id": 1552720,
					"comment": {
						"id": 927367,
						"text": "Note that in the [corresponding fedora-29 update](https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af), etcd has a regression. I have not tested this on F30.",
						"timestamp": "2019-04-12 15:35:17",
						"update_id": 136197,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 927367
				},
				{
					"bug_id": 1552720,
					"comment": {
						"id": 929173,
						"karma": -1,
						"text": "Exactly the same failure as in the [previous update](https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af):\n```\nApr 15 05:13:18 localhost.localdomain bash[4139]: /usr/bin/etcd: line 1: syntax error near unexpected token `newline'\nApr 15 05:13:18 localhost.localdomain bash[4139]: /usr/bin/etcd: line 1: `!<arch>'\n```\n\n[full journal](https://209.132.184.41:8493/logs/pull-11595-20190415-074444-6f078131-verify-fedora-testing/TestKubernetes-testDelete-fedora-testing-127.0.0.2-2701-FAIL.log), [pull request that exhibits this](https://github.com/cockpit-project/cockpit/pull/11595)",
						"timestamp": "2019-04-15 12:13:02",
						"update_id": 136727,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 929173
				},
				{
					"bug_id": 1552720,
					"comment": {
						"id": 929898,
						"karma": -1,
						"text": "This *still* fails, but differently now. On a current and clean F-29, with etcd-3.2.16-6.fc29.x86_64:\n```\n# systemctl status -l etcd\n● etcd.service - Etcd Server\n   Loaded: loaded (/usr/lib/systemd/system/etcd.service; disabled; vendor preset: disabled)\n   Active: active (running) since Tue 2019-04-16 02:18:20 EDT; 35s ago\n Main PID: 7797 (etcd)\n    Tasks: 9 (limit: 1147)\n   Memory: 35.6M\n      CPU: 226ms\n   CGroup: /system.slice/etcd.service\n           └─7797 /usr/bin/etcd --name=default --data-dir=/var/lib/etcd/default.etcd --listen-client-urls=http://localhost:2379\n\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: 8e9e05c52164694d received MsgVoteResp from 8e9e05c52164694d at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: 8e9e05c52164694d became leader at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: raft.node: 8e9e05c52164694d elected leader 8e9e05c52164694d at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: setting up the initial cluster version to 3.2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: published {Name:default ClientURLs:[http://localhost:2379]} to cluster cdf818194e3a8c32\nApr 16 02:18:20 m1.cockpit.lan systemd[1]: Started Etcd Server.\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: ready to serve client requests\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: serving insecure client requests on 127.0.0.1:2379, this is strongly discouraged!\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: set the initial cluster version to 3.2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: enabled capabilities for version 3.2\n```\n\nSomehow `dnf upgrade --enablerepo=updates-testing etcd` and `dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2019-049b108f40` say \"nothing to do\", so it seems this isn't yet published. However, I downloaded the build manually with `koji download-build`, and it fails again:\n```\n# systemctl status -l etcd\n● etcd.service - Etcd Server\n   Loaded: loaded (/usr/lib/systemd/system/etcd.service; disabled; vendor preset: disabled)\n   Active: failed (Result: exit-code) since Tue 2019-04-16 02:25:42 EDT; 2min 33s ago\n  Process: 23291 ExecStart=/bin/bash -c GOMAXPROCS=$(nproc) /usr/bin/etcd --name=\"${ETCD_NAME}\" --data-dir=\"${ETCD_DATA_DIR}\" --listen-client-urls=\"${ETCD_LISTEN_>\n Main PID: 23291 (code=exited, status=1/FAILURE)\n      CPU: 16ms\n\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: Starting Etcd Server...\nApr 16 02:25:42 m1.cockpit.lan etcd[23291]: recognized and used environment variable ETCD_ADVERTISE_CLIENT_URLS=http://localhost:2379\nApr 16 02:25:42 m1.cockpit.lan etcd[23291]: conflicting environment variable \"ETCD_LISTEN_CLIENT_URLS\" is shadowed by corresponding command-line flag (either unset environment variable or disable flag)\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: etcd.service: Main process exited, code=exited, status=1/FAILURE\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: etcd.service: Failed with result 'exit-code'.\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: Failed to start Etcd Server.\n```",
						"timestamp": "2019-04-16 06:30:18",
						"update_id": 136840,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 929898
				},
				{
					"bug_id": 1552720,
					"comment": {
						"id": 930089,
						"text": "Caused by https://github.com/etcd-io/etcd/pull/9382\nWill fix our service file accordingly.",
						"timestamp": "2019-04-16 13:54:29",
						"update_id": 136840,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/d39b265ba4de0763d7a95d149ca7ee52cc5ff3e3a3dc13eecee1652927748f2b?s=24&d=retro",
							"email": "zebob.m@gmail.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "provenpackager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "go-sig"
								}
							],
							"id": 3743,
							"name": "eclipseo",
							"openid": "eclipseo.id.fedoraproject.org"
						},
						"user_id": 3743
					},
					"comment_id": 930089
				},
				{
					"bug_id": 1552720,
					"comment": {
						"id": 930169,
						"karma": 1,
						"text": "Upgrade starts up fine now. I also tested it with kubernetes and cockpit-kubernetes' tests. Thanks!",
						"timestamp": "2019-04-16 19:27:25",
						"update_id": 136947,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 930169
				}
			],
			"security": true,
			"title": "CVE-2018-1098 CVE-2018-1099 etcd: various flaws [fedora-all]",
			"bugzilla": {
				"bug_id": "1552720",
				"creation_ts": "2018-03-07 15:42:10 +0000",
				"short_desc": "CVE-2018-1098 CVE-2018-1099 etcd: various flaws [fedora-all]",
				"delta_ts": "2019-05-06 04:14:58 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security, SecurityTracking",
				"priority": "medium",
				"bug_severity": "medium",
				"blocked": [
					{
						"bug_id": "1552714",
						"alias": "CVE-2018-1098",
						"creation_ts": "2018-03-07 15:29:46 +0000",
						"short_desc": "CVE-2018-1098 etcd: Cross-site request forgery via crafted local POST forms",
						"delta_ts": "2021-10-21 19:56:17 +0000",
						"bug_status": "CLOSED",
						"resolution": "ERRATA",
						"keywords": "Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"1552720",
							"1552721",
							"1553762",
							"1553763",
							"1566226",
							"1590309"
						],
						"blocked": [
							{
								"bug_id": "1552719",
								"error": "NotPermitted"
							}
						],
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "11356996",
								"comment_count": "0",
								"who": {
									"text": "psampaio",
									"name": "Pedro Sampaio"
								},
								"bug_when": "2018-03-07 15:29:46 +0000",
								"thetext": "A cross-site request forgery flaw was found in etcd 3.3.1 and earlier. An attacker can set up a website that tries to send a POST request to the etcd server and modify a key. Adding a key is done with PUT so it is theoretically safe (can't PUT from an HTML form or such) but POST allows creating in-order keys that an attacker can send.\n\nUpstream bug:\n\nhttps://github.com/coreos/etcd/issues/9353"
							},
							{
								"isprivate": "0",
								"commentid": "11357114",
								"comment_count": "1",
								"who": {
									"text": "psampaio",
									"name": "Pedro Sampaio"
								},
								"bug_when": "2018-03-07 15:42:22 +0000",
								"thetext": "Created etcd tracking bugs for this issue:\n\nAffects: fedora-all [bug 1552720]"
							},
							{
								"isprivate": "0",
								"commentid": "11695692",
								"comment_count": "6",
								"who": {
									"text": "rschiron",
									"name": "Riccardo Schirone"
								},
								"bug_when": "2018-06-12 09:58:25 +0000",
								"thetext": "Reference:\nhttps://www.twistlock.com/2018/02/28/dear-developers-beware-dns-rebinding/"
							},
							{
								"isprivate": "0",
								"commentid": "11696177",
								"comment_count": "8",
								"who": {
									"text": "rschiron",
									"name": "Riccardo Schirone"
								},
								"bug_when": "2018-06-12 12:17:11 +0000",
								"thetext": "If etcd supports the new v3 API, the attacker can run more operations through POST, as described in the reference blog post."
							},
							{
								"isprivate": "0",
								"commentid": "11717223",
								"comment_count": "11",
								"who": {
									"text": "rschiron",
									"name": "Riccardo Schirone"
								},
								"bug_when": "2018-06-19 08:13:19 +0000",
								"thetext": "Mitigation:\n\nConfigure and enable authentication on the etcd server."
							}
						]
					},
					{
						"bug_id": "1552717",
						"alias": "CVE-2018-1099",
						"creation_ts": "2018-03-07 15:38:43 +0000",
						"short_desc": "CVE-2018-1099 etcd: DNS rebinding vulnerability in etcd server",
						"delta_ts": "2021-10-21 19:56:27 +0000",
						"bug_status": "CLOSED",
						"resolution": "ERRATA",
						"keywords": "Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"1552720",
							"1552721",
							"1553764",
							"1566227",
							"1566228",
							"1590239"
						],
						"blocked": [
							{
								"bug_id": "1552719",
								"error": "NotPermitted"
							}
						],
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "11357079",
								"comment_count": "0",
								"who": {
									"text": "psampaio",
									"name": "Pedro Sampaio"
								},
								"bug_when": "2018-03-07 15:38:43 +0000",
								"thetext": "etcd 3.3.1 and earlier does not correctly restrict access to resources based on\nthe hostname, thus allowing a DNS rebinding attack. An attacker can control his\nDNS records and trick the browser into sending requests to an etcd server on an\ninternal network and bypassing the same-origin policy.\n\nUpstream issue:\nhttps://github.com/coreos/etcd/issues/9353"
							},
							{
								"isprivate": "0",
								"commentid": "11357116",
								"comment_count": "1",
								"who": {
									"text": "psampaio",
									"name": "Pedro Sampaio"
								},
								"bug_when": "2018-03-07 15:42:41 +0000",
								"thetext": "Created etcd tracking bugs for this issue:\n\nAffects: fedora-all [bug 1552720]"
							},
							{
								"isprivate": "0",
								"commentid": "11691507",
								"comment_count": "5",
								"who": {
									"text": "rschiron",
									"name": "Riccardo Schirone"
								},
								"bug_when": "2018-06-11 09:04:21 +0000",
								"thetext": "Patch:\nhttps://github.com/coreos/etcd/commit/a7e5790c82039945639798ae9a3289fe787f5e56"
							},
							{
								"isprivate": "0",
								"commentid": "11695496",
								"comment_count": "6",
								"who": {
									"text": "rschiron",
									"name": "Riccardo Schirone"
								},
								"bug_when": "2018-06-12 09:06:40 +0000",
								"thetext": "Reference:\nhttps://www.twistlock.com/2018/02/28/dear-developers-beware-dns-rebinding/"
							},
							{
								"isprivate": "0",
								"commentid": "11695634",
								"comment_count": "7",
								"who": {
									"text": "rschiron",
									"name": "Riccardo Schirone"
								},
								"bug_when": "2018-06-12 09:39:46 +0000",
								"thetext": "Mitigation:\n\nConfigure and enable authentication on the etcd server or secure your client connection via HTTPS."
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "11357111",
						"comment_count": "0",
						"who": {
							"text": "psampaio",
							"name": "Pedro Sampaio"
						},
						"bug_when": "2018-03-07 15:42:10 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof fedora-all.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate."
					},
					{
						"isprivate": "0",
						"commentid": "11357113",
						"comment_count": "1",
						"who": {
							"text": "psampaio",
							"name": "Pedro Sampaio"
						},
						"bug_when": "2018-03-07 15:42:17 +0000",
						"thetext": "Use the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1552714,1552717,1552720\n\n# Description of your update\nnotes=Security fix for [PUT CVEs HERE]\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi web interface to submit updates:\n\nhttps://bodhi.fedoraproject.org/updates/new"
					},
					{
						"isprivate": "0",
						"commentid": "12242527",
						"comment_count": "2",
						"who": {
							"text": "bcotton",
							"name": "Ben Cotton"
						},
						"bug_when": "2018-11-27 15:11:47 +0000",
						"thetext": "This message is a reminder that Fedora 27 is nearing its end of life.\nOn 2018-Nov-30  Fedora will stop maintaining and issuing updates for\nFedora 27. It is Fedora's policy to close all bug reports from releases\nthat are no longer maintained. At that time this bug will be closed as\nEOL if it remains open with a Fedora  'version' of '27'.\n\nPackage Maintainer: If you wish for this bug to remain open because you\nplan to fix it in a currently maintained version, simply change the 'version' \nto a later Fedora version.\n\nThank you for reporting this issue and we are sorry that we were not \nable to fix it before Fedora 27 is end of life. If you would still like \nto see this bug fixed and are able to reproduce it against a later version \nof Fedora, you are encouraged  change the 'version' to a later Fedora \nversion prior this bug is closed as described in the policy above.\n\nAlthough we aim to fix as many bugs as possible during every release's \nlifetime, sometimes those efforts are overtaken by events. Often a \nmore recent Fedora release includes newer upstream software that fixes \nbugs or makes them obsolete."
					},
					{
						"isprivate": "0",
						"commentid": "12620700",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-08 19:52:32 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc30 has been submitted as an update to Fedora 30. https://bodhi.fedoraproject.org/updates/FEDORA-2019-833466697f"
					},
					{
						"isprivate": "0",
						"commentid": "12620815",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-08 20:42:32 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc29 has been submitted as an update to Fedora 29. https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af"
					},
					{
						"isprivate": "0",
						"commentid": "12621307",
						"comment_count": "5",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-09 01:48:05 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc30 has been pushed to the Fedora 30 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-833466697f"
					},
					{
						"isprivate": "0",
						"commentid": "12621491",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-09 03:14:08 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af"
					},
					{
						"isprivate": "0",
						"commentid": "12636433",
						"comment_count": "7",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-13 00:04:41 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc30 has been pushed to the Fedora 30 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "12637226",
						"comment_count": "8",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-13 21:20:15 +0000",
						"thetext": "etcd-3.3.12-2.20190413gitf29b1ad.fc29 has been submitted as an update to Fedora 29. https://bodhi.fedoraproject.org/updates/FEDORA-2019-185e366042"
					},
					{
						"isprivate": "0",
						"commentid": "12637423",
						"comment_count": "9",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-14 04:46:05 +0000",
						"thetext": "etcd-3.3.12-2.20190413gitf29b1ad.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-185e366042"
					},
					{
						"isprivate": "0",
						"commentid": "12640271",
						"comment_count": "10",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-15 14:30:05 +0000",
						"thetext": "etcd-3.3.12-3.20190413gitf29b1ad.fc29 has been submitted as an update to Fedora 29. https://bodhi.fedoraproject.org/updates/FEDORA-2019-049b108f40"
					},
					{
						"isprivate": "0",
						"commentid": "12642086",
						"comment_count": "11",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-16 04:34:44 +0000",
						"thetext": "etcd-3.3.12-3.20190413gitf29b1ad.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-049b108f40"
					},
					{
						"isprivate": "0",
						"commentid": "12644143",
						"comment_count": "12",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-16 14:54:48 +0000",
						"thetext": "etcd-3.3.12-4.20190413gitf29b1ad.fc29 has been submitted as an update to Fedora 29. https://bodhi.fedoraproject.org/updates/FEDORA-2019-219b0b0b6a"
					},
					{
						"isprivate": "0",
						"commentid": "12652091",
						"comment_count": "13",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-18 22:12:56 +0000",
						"thetext": "etcd-3.3.12-4.20190413gitf29b1ad.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-219b0b0b6a"
					},
					{
						"isprivate": "0",
						"commentid": "12703667",
						"comment_count": "14",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-05-06 04:14:58 +0000",
						"thetext": "etcd-3.3.12-4.20190413gitf29b1ad.fc29 has been pushed to the Fedora 29 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1607180,
			"feedback": [
				{
					"bug_id": 1607180,
					"comment": {
						"id": 927360,
						"karma": -1,
						"text": "In cockpit we regularly build a Fedora (29 currently) with updates-testing enabled: Last run today: https://github.com/cockpit-project/cockpit/pull/11572 This shows that this [breaks kubernetes](https://209.132.184.41:8493/logs/pull-11572-20190412-133131-076fa3b6-verify-fedora-testing/log.html). The [journal](https://209.132.184.41:8493/logs/pull-11572-20190412-133131-076fa3b6-verify-fedora-testing/TestKubernetes-testPendingClaim-fedora-testing-127.0.0.2-2401-FAIL.log) says this:\n```\nApr 12 11:20:31 localhost.localdomain systemd[1]: Starting Etcd Server...\nApr 12 11:20:31 localhost.localdomain bash[5877]: /usr/bin/etcd: line 1: syntax error near unexpected token `newline'\nApr 12 11:20:31 localhost.localdomain bash[5877]: /usr/bin/etcd: line 1: `!<arch>'\nApr 12 11:20:31 localhost.localdomain audit[1]: SERVICE_START pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=etcd comm=\"systemd\" exe=\"/usr/lib/systemd/systemd\" hostname=? addr=? terminal=? res=failed'\nApr 12 11:20:31 localhost.localdomain systemd[1]: etcd.service: Main process exited, code=exited, status=2/INVALIDARGUMENT\nApr 12 11:20:31 localhost.localdomain systemd[1]: etcd.service: Failed with result 'exit-code'.\n```\nI haven't reproduced this yet, but as this is dangerously close to slipping into stable, I want to raise a red flag here.",
						"timestamp": "2019-04-12 15:33:55",
						"update_id": 136204,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 927360
				},
				{
					"bug_id": 1607180,
					"comment": {
						"id": 927367,
						"text": "Note that in the [corresponding fedora-29 update](https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af), etcd has a regression. I have not tested this on F30.",
						"timestamp": "2019-04-12 15:35:17",
						"update_id": 136197,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 927367
				},
				{
					"bug_id": 1607180,
					"comment": {
						"id": 929173,
						"karma": -1,
						"text": "Exactly the same failure as in the [previous update](https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af):\n```\nApr 15 05:13:18 localhost.localdomain bash[4139]: /usr/bin/etcd: line 1: syntax error near unexpected token `newline'\nApr 15 05:13:18 localhost.localdomain bash[4139]: /usr/bin/etcd: line 1: `!<arch>'\n```\n\n[full journal](https://209.132.184.41:8493/logs/pull-11595-20190415-074444-6f078131-verify-fedora-testing/TestKubernetes-testDelete-fedora-testing-127.0.0.2-2701-FAIL.log), [pull request that exhibits this](https://github.com/cockpit-project/cockpit/pull/11595)",
						"timestamp": "2019-04-15 12:13:02",
						"update_id": 136727,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 929173
				},
				{
					"bug_id": 1607180,
					"comment": {
						"id": 929898,
						"karma": -1,
						"text": "This *still* fails, but differently now. On a current and clean F-29, with etcd-3.2.16-6.fc29.x86_64:\n```\n# systemctl status -l etcd\n● etcd.service - Etcd Server\n   Loaded: loaded (/usr/lib/systemd/system/etcd.service; disabled; vendor preset: disabled)\n   Active: active (running) since Tue 2019-04-16 02:18:20 EDT; 35s ago\n Main PID: 7797 (etcd)\n    Tasks: 9 (limit: 1147)\n   Memory: 35.6M\n      CPU: 226ms\n   CGroup: /system.slice/etcd.service\n           └─7797 /usr/bin/etcd --name=default --data-dir=/var/lib/etcd/default.etcd --listen-client-urls=http://localhost:2379\n\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: 8e9e05c52164694d received MsgVoteResp from 8e9e05c52164694d at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: 8e9e05c52164694d became leader at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: raft.node: 8e9e05c52164694d elected leader 8e9e05c52164694d at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: setting up the initial cluster version to 3.2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: published {Name:default ClientURLs:[http://localhost:2379]} to cluster cdf818194e3a8c32\nApr 16 02:18:20 m1.cockpit.lan systemd[1]: Started Etcd Server.\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: ready to serve client requests\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: serving insecure client requests on 127.0.0.1:2379, this is strongly discouraged!\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: set the initial cluster version to 3.2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: enabled capabilities for version 3.2\n```\n\nSomehow `dnf upgrade --enablerepo=updates-testing etcd` and `dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2019-049b108f40` say \"nothing to do\", so it seems this isn't yet published. However, I downloaded the build manually with `koji download-build`, and it fails again:\n```\n# systemctl status -l etcd\n● etcd.service - Etcd Server\n   Loaded: loaded (/usr/lib/systemd/system/etcd.service; disabled; vendor preset: disabled)\n   Active: failed (Result: exit-code) since Tue 2019-04-16 02:25:42 EDT; 2min 33s ago\n  Process: 23291 ExecStart=/bin/bash -c GOMAXPROCS=$(nproc) /usr/bin/etcd --name=\"${ETCD_NAME}\" --data-dir=\"${ETCD_DATA_DIR}\" --listen-client-urls=\"${ETCD_LISTEN_>\n Main PID: 23291 (code=exited, status=1/FAILURE)\n      CPU: 16ms\n\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: Starting Etcd Server...\nApr 16 02:25:42 m1.cockpit.lan etcd[23291]: recognized and used environment variable ETCD_ADVERTISE_CLIENT_URLS=http://localhost:2379\nApr 16 02:25:42 m1.cockpit.lan etcd[23291]: conflicting environment variable \"ETCD_LISTEN_CLIENT_URLS\" is shadowed by corresponding command-line flag (either unset environment variable or disable flag)\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: etcd.service: Main process exited, code=exited, status=1/FAILURE\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: etcd.service: Failed with result 'exit-code'.\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: Failed to start Etcd Server.\n```",
						"timestamp": "2019-04-16 06:30:18",
						"update_id": 136840,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 929898
				},
				{
					"bug_id": 1607180,
					"comment": {
						"id": 930089,
						"text": "Caused by https://github.com/etcd-io/etcd/pull/9382\nWill fix our service file accordingly.",
						"timestamp": "2019-04-16 13:54:29",
						"update_id": 136840,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/d39b265ba4de0763d7a95d149ca7ee52cc5ff3e3a3dc13eecee1652927748f2b?s=24&d=retro",
							"email": "zebob.m@gmail.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "provenpackager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "go-sig"
								}
							],
							"id": 3743,
							"name": "eclipseo",
							"openid": "eclipseo.id.fedoraproject.org"
						},
						"user_id": 3743
					},
					"comment_id": 930089
				},
				{
					"bug_id": 1607180,
					"comment": {
						"id": 930169,
						"karma": 1,
						"text": "Upgrade starts up fine now. I also tested it with kubernetes and cockpit-kubernetes' tests. Thanks!",
						"timestamp": "2019-04-16 19:27:25",
						"update_id": 136947,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 930169
				}
			],
			"title": "during build, vendor'ed files are used",
			"bugzilla": {
				"bug_id": "1607180",
				"creation_ts": "2018-07-22 23:38:36 +0000",
				"short_desc": "during build, vendor'ed files are used",
				"delta_ts": "2019-05-06 04:14:54 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"priority": "unspecified",
				"bug_severity": "unspecified",
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "11830076",
						"comment_count": "0",
						"who": {
							"text": "puiterwijk",
							"name": "Patrick Uiterwijk"
						},
						"bug_when": "2018-07-22 23:38:36 +0000",
						"thetext": "In the koji logs for etcd builds, it seems that while it buildrequires all the correct packages, the vendored files are still used during build.\ne.g. https://kojipkgs.fedoraproject.org//packages/etcd/3.2.16/2.fc27/data/logs/x86_64/build.log: cd /builddir/build/BUILD/etcd-3.2.16/_build/src/github.com/coreos/etcd/cmd/vendor/google.golang.org/grpc/internal\n/usr/lib/golang/pkg/tool/linux_amd64/compile -o $WORK/github.com/coreos/etcd/cmd/vendor/google.golang.org/grpc/internal.a -trimpath $WORK -shared -goversion go1.9.4 -p github.com/coreos/etcd/cmd/vendor/google.golang.org/grpc/internal -complete -installsuffix shared -buildid 56974cdbe911fd83ba9595410b6c317a1d33b42a -D _/builddir/build/BUILD/etcd-3.2.16/_build/src/github.com/coreos/etcd/cmd/vendor/google.golang.org/grpc/internal -I $WORK -pack ./internal.go\n\nYou should probably do something like \"rm -rf cmd/vendor\" in the %prep stage."
					},
					{
						"isprivate": "0",
						"commentid": "11906771",
						"comment_count": "1",
						"who": {
							"text": "jkurik",
							"name": "Jan Kurik"
						},
						"bug_when": "2018-08-14 08:42:35 +0000",
						"thetext": "This bug appears to have been reported against 'rawhide' during the Fedora 29 development cycle.\nChanging version to '29'."
					},
					{
						"isprivate": "0",
						"commentid": "12620697",
						"comment_count": "2",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-08 19:52:27 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc30 has been submitted as an update to Fedora 30. https://bodhi.fedoraproject.org/updates/FEDORA-2019-833466697f"
					},
					{
						"isprivate": "0",
						"commentid": "12620812",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-08 20:42:26 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc29 has been submitted as an update to Fedora 29. https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af"
					},
					{
						"isprivate": "0",
						"commentid": "12621304",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-09 01:48:02 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc30 has been pushed to the Fedora 30 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-833466697f"
					},
					{
						"isprivate": "0",
						"commentid": "12621488",
						"comment_count": "5",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-09 03:14:05 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af"
					},
					{
						"isprivate": "0",
						"commentid": "12636430",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-13 00:04:35 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc30 has been pushed to the Fedora 30 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "12637223",
						"comment_count": "7",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-13 21:20:10 +0000",
						"thetext": "etcd-3.3.12-2.20190413gitf29b1ad.fc29 has been submitted as an update to Fedora 29. https://bodhi.fedoraproject.org/updates/FEDORA-2019-185e366042"
					},
					{
						"isprivate": "0",
						"commentid": "12637420",
						"comment_count": "8",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-14 04:46:02 +0000",
						"thetext": "etcd-3.3.12-2.20190413gitf29b1ad.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-185e366042"
					},
					{
						"isprivate": "0",
						"commentid": "12640268",
						"comment_count": "9",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-15 14:30:01 +0000",
						"thetext": "etcd-3.3.12-3.20190413gitf29b1ad.fc29 has been submitted as an update to Fedora 29. https://bodhi.fedoraproject.org/updates/FEDORA-2019-049b108f40"
					},
					{
						"isprivate": "0",
						"commentid": "12642083",
						"comment_count": "10",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-16 04:34:41 +0000",
						"thetext": "etcd-3.3.12-3.20190413gitf29b1ad.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-049b108f40"
					},
					{
						"isprivate": "0",
						"commentid": "12644139",
						"comment_count": "11",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-16 14:54:40 +0000",
						"thetext": "etcd-3.3.12-4.20190413gitf29b1ad.fc29 has been submitted as an update to Fedora 29. https://bodhi.fedoraproject.org/updates/FEDORA-2019-219b0b0b6a"
					},
					{
						"isprivate": "0",
						"commentid": "12652088",
						"comment_count": "12",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-18 22:12:53 +0000",
						"thetext": "etcd-3.3.12-4.20190413gitf29b1ad.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-219b0b0b6a"
					},
					{
						"isprivate": "0",
						"commentid": "12703664",
						"comment_count": "13",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-05-06 04:14:54 +0000",
						"thetext": "etcd-3.3.12-4.20190413gitf29b1ad.fc29 has been pushed to the Fedora 29 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1651034,
			"feedback": [
				{
					"bug_id": 1651034,
					"comment": {
						"id": 927360,
						"karma": -1,
						"text": "In cockpit we regularly build a Fedora (29 currently) with updates-testing enabled: Last run today: https://github.com/cockpit-project/cockpit/pull/11572 This shows that this [breaks kubernetes](https://209.132.184.41:8493/logs/pull-11572-20190412-133131-076fa3b6-verify-fedora-testing/log.html). The [journal](https://209.132.184.41:8493/logs/pull-11572-20190412-133131-076fa3b6-verify-fedora-testing/TestKubernetes-testPendingClaim-fedora-testing-127.0.0.2-2401-FAIL.log) says this:\n```\nApr 12 11:20:31 localhost.localdomain systemd[1]: Starting Etcd Server...\nApr 12 11:20:31 localhost.localdomain bash[5877]: /usr/bin/etcd: line 1: syntax error near unexpected token `newline'\nApr 12 11:20:31 localhost.localdomain bash[5877]: /usr/bin/etcd: line 1: `!<arch>'\nApr 12 11:20:31 localhost.localdomain audit[1]: SERVICE_START pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=etcd comm=\"systemd\" exe=\"/usr/lib/systemd/systemd\" hostname=? addr=? terminal=? res=failed'\nApr 12 11:20:31 localhost.localdomain systemd[1]: etcd.service: Main process exited, code=exited, status=2/INVALIDARGUMENT\nApr 12 11:20:31 localhost.localdomain systemd[1]: etcd.service: Failed with result 'exit-code'.\n```\nI haven't reproduced this yet, but as this is dangerously close to slipping into stable, I want to raise a red flag here.",
						"timestamp": "2019-04-12 15:33:55",
						"update_id": 136204,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 927360
				},
				{
					"bug_id": 1651034,
					"comment": {
						"id": 927367,
						"text": "Note that in the [corresponding fedora-29 update](https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af), etcd has a regression. I have not tested this on F30.",
						"timestamp": "2019-04-12 15:35:17",
						"update_id": 136197,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 927367
				},
				{
					"bug_id": 1651034,
					"comment": {
						"id": 929173,
						"karma": -1,
						"text": "Exactly the same failure as in the [previous update](https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af):\n```\nApr 15 05:13:18 localhost.localdomain bash[4139]: /usr/bin/etcd: line 1: syntax error near unexpected token `newline'\nApr 15 05:13:18 localhost.localdomain bash[4139]: /usr/bin/etcd: line 1: `!<arch>'\n```\n\n[full journal](https://209.132.184.41:8493/logs/pull-11595-20190415-074444-6f078131-verify-fedora-testing/TestKubernetes-testDelete-fedora-testing-127.0.0.2-2701-FAIL.log), [pull request that exhibits this](https://github.com/cockpit-project/cockpit/pull/11595)",
						"timestamp": "2019-04-15 12:13:02",
						"update_id": 136727,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 929173
				},
				{
					"bug_id": 1651034,
					"comment": {
						"id": 929898,
						"karma": -1,
						"text": "This *still* fails, but differently now. On a current and clean F-29, with etcd-3.2.16-6.fc29.x86_64:\n```\n# systemctl status -l etcd\n● etcd.service - Etcd Server\n   Loaded: loaded (/usr/lib/systemd/system/etcd.service; disabled; vendor preset: disabled)\n   Active: active (running) since Tue 2019-04-16 02:18:20 EDT; 35s ago\n Main PID: 7797 (etcd)\n    Tasks: 9 (limit: 1147)\n   Memory: 35.6M\n      CPU: 226ms\n   CGroup: /system.slice/etcd.service\n           └─7797 /usr/bin/etcd --name=default --data-dir=/var/lib/etcd/default.etcd --listen-client-urls=http://localhost:2379\n\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: 8e9e05c52164694d received MsgVoteResp from 8e9e05c52164694d at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: 8e9e05c52164694d became leader at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: raft.node: 8e9e05c52164694d elected leader 8e9e05c52164694d at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: setting up the initial cluster version to 3.2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: published {Name:default ClientURLs:[http://localhost:2379]} to cluster cdf818194e3a8c32\nApr 16 02:18:20 m1.cockpit.lan systemd[1]: Started Etcd Server.\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: ready to serve client requests\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: serving insecure client requests on 127.0.0.1:2379, this is strongly discouraged!\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: set the initial cluster version to 3.2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: enabled capabilities for version 3.2\n```\n\nSomehow `dnf upgrade --enablerepo=updates-testing etcd` and `dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2019-049b108f40` say \"nothing to do\", so it seems this isn't yet published. However, I downloaded the build manually with `koji download-build`, and it fails again:\n```\n# systemctl status -l etcd\n● etcd.service - Etcd Server\n   Loaded: loaded (/usr/lib/systemd/system/etcd.service; disabled; vendor preset: disabled)\n   Active: failed (Result: exit-code) since Tue 2019-04-16 02:25:42 EDT; 2min 33s ago\n  Process: 23291 ExecStart=/bin/bash -c GOMAXPROCS=$(nproc) /usr/bin/etcd --name=\"${ETCD_NAME}\" --data-dir=\"${ETCD_DATA_DIR}\" --listen-client-urls=\"${ETCD_LISTEN_>\n Main PID: 23291 (code=exited, status=1/FAILURE)\n      CPU: 16ms\n\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: Starting Etcd Server...\nApr 16 02:25:42 m1.cockpit.lan etcd[23291]: recognized and used environment variable ETCD_ADVERTISE_CLIENT_URLS=http://localhost:2379\nApr 16 02:25:42 m1.cockpit.lan etcd[23291]: conflicting environment variable \"ETCD_LISTEN_CLIENT_URLS\" is shadowed by corresponding command-line flag (either unset environment variable or disable flag)\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: etcd.service: Main process exited, code=exited, status=1/FAILURE\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: etcd.service: Failed with result 'exit-code'.\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: Failed to start Etcd Server.\n```",
						"timestamp": "2019-04-16 06:30:18",
						"update_id": 136840,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 929898
				},
				{
					"bug_id": 1651034,
					"comment": {
						"id": 930089,
						"text": "Caused by https://github.com/etcd-io/etcd/pull/9382\nWill fix our service file accordingly.",
						"timestamp": "2019-04-16 13:54:29",
						"update_id": 136840,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/d39b265ba4de0763d7a95d149ca7ee52cc5ff3e3a3dc13eecee1652927748f2b?s=24&d=retro",
							"email": "zebob.m@gmail.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "provenpackager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "go-sig"
								}
							],
							"id": 3743,
							"name": "eclipseo",
							"openid": "eclipseo.id.fedoraproject.org"
						},
						"user_id": 3743
					},
					"comment_id": 930089
				},
				{
					"bug_id": 1651034,
					"comment": {
						"id": 930169,
						"karma": 1,
						"text": "Upgrade starts up fine now. I also tested it with kubernetes and cockpit-kubernetes' tests. Thanks!",
						"timestamp": "2019-04-16 19:27:25",
						"update_id": 136947,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 930169
				}
			],
			"parent": true,
			"security": true,
			"title": "CVE-2018-16886 etcd: Improper Authentication in auth/store.go:AuthInfoFromTLS() via gRPC-gateway",
			"bugzilla": {
				"bug_id": "1651034",
				"alias": "CVE-2018-16886",
				"creation_ts": "2018-11-19 01:27:46 +0000",
				"short_desc": "CVE-2018-16886 etcd: Improper Authentication in auth/store.go:AuthInfoFromTLS() via gRPC-gateway",
				"delta_ts": "2021-02-16 22:46:11 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security",
				"priority": "medium",
				"bug_severity": "medium",
				"depends_on": [
					"1665782",
					"1665810",
					"1666154",
					"1666155",
					"1666156",
					"1666157",
					"1666159",
					"1685702"
				],
				"blocked": [
					{
						"bug_id": "1651035",
						"error": "NotPermitted"
					}
				],
				"external_bugs": {
					"text": "RHSA-2019:1352",
					"name": "Red Hat Product Errata"
				},
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "12216361",
						"comment_count": "0",
						"who": {
							"text": "sfowler",
							"name": "Sam Fowler"
						},
						"bug_when": "2018-11-19 01:27:46 +0000",
						"thetext": "Etcd, versions 3.2.0 through 3.2.25 and 3.3.0 through 3.3.10, are vulnerable to an improper authentication issue when role-based access control (RBAC) is used and client-cert-auth is enabled. If an etcd client server's TLS certificate contains a Common Name (CN) which matches a valid RBAC username, a remote attacker may authenticate as that user with any valid (trusted) client certificate in a REST API request to the gRPC-gateway.\n\nIntroduced in commit:\nhttps://github.com/etcd-io/etcd/commit/0191509637546621d6f2e18e074e955ab8ef374d\n\nUpstream issue:\nhttps://github.com/etcd-io/etcd/pull/10366\n\nUpstream patch:\nhttps://github.com/etcd-io/etcd/commit/bf9d0d8291dc71ecbfb2690612954e1a298154b2\nhttps://github.com/etcd-io/etcd/commit/a9a9466fb8ba11ad7bb6a44d7446fbd072d59887\nhttps://github.com/etcd-io/etcd/commit/99704e2a97e8710da942bdc737417fc9c9a2c03f\nhttps://github.com/etcd-io/etcd/commit/83c051b701d33261eef91a719e4421c81b000ba4"
					},
					{
						"isprivate": "0",
						"commentid": "12240350",
						"comment_count": "3",
						"who": {
							"text": "sbatsche",
							"name": "Sam Batschelet"
						},
						"bug_when": "2018-11-27 13:11:40 +0000",
						"thetext": "From my review, this issue is not reproducible. Those curious in my testing can review the following.\n\nhttps://docs.google.com/document/d/1ph7LOfUsdKo2qdgMvFahVSd7T6661c8yRr_mR2m3Gms/edit?usp=sharing\n\nMy feeling is given the data we have this embargo should be lifted."
					},
					{
						"isprivate": "0",
						"commentid": "12338080",
						"comment_count": "5",
						"who": {
							"text": "sfowler",
							"name": "Sam Fowler"
						},
						"bug_when": "2019-01-04 01:17:56 +0000",
						"thetext": "Acknowledgments:\n\nName: Matt Wheeler (Osirium)"
					},
					{
						"isprivate": "0",
						"commentid": "12338174",
						"comment_count": "6",
						"who": {
							"text": "sbatsche",
							"name": "Sam Batschelet"
						},
						"bug_when": "2019-01-04 02:29:24 +0000",
						"thetext": "Point release with fix scheduled for Tuesday January 8th. v3.3.11\n\nhttps://github.com/etcd-io/etcd/pull/10366"
					},
					{
						"isprivate": "0",
						"commentid": "12346047",
						"comment_count": "7",
						"who": {
							"text": "jchaloup",
							"name": "Jan Chaloupka"
						},
						"bug_when": "2019-01-08 11:53:31 +0000",
						"thetext": "Hi Sam,\n\n#10366 is not merged yet and the latest release available is v3.3.10. Is the patch ready to be merged and just waiting for finishing upstream review. Or, is there anything else left to be done before the PR can be accepted?"
					},
					{
						"isprivate": "0",
						"commentid": "12346186",
						"comment_count": "8",
						"who": {
							"text": "sbatsche",
							"name": "Sam Batschelet"
						},
						"bug_when": "2019-01-08 12:52:05 +0000",
						"thetext": "Jan,\nThe PR should be merged today and a new release cut shortly. As far as scope this also affects all etcd 3.2.x and 3.3.x that is using --client-cert-auth. So we are backporting fix to 3.2 as well."
					},
					{
						"isprivate": "0",
						"commentid": "12357148",
						"comment_count": "17",
						"who": {
							"text": "pharvey",
							"name": "Paul Harvey"
						},
						"bug_when": "2019-01-11 04:35:09 +0000",
						"thetext": "Setting CVSSv3 PR:L because an attacker still needs to obtain a valid TLS certificate that can be mutually authenticated by the server."
					},
					{
						"isprivate": "0",
						"commentid": "12357149",
						"comment_count": "18",
						"who": {
							"text": "pharvey",
							"name": "Paul Harvey"
						},
						"bug_when": "2019-01-11 04:43:09 +0000",
						"thetext": "Updated title to convey the scope of the vulnerability more concisely"
					},
					{
						"isprivate": "0",
						"commentid": "12357161",
						"comment_count": "19",
						"who": {
							"text": "pharvey",
							"name": "Paul Harvey"
						},
						"bug_when": "2019-01-11 04:59:32 +0000",
						"thetext": "Added doctext, mitigation and external references."
					},
					{
						"isprivate": "0",
						"commentid": "12357402",
						"comment_count": "22",
						"who": {
							"text": "pharvey",
							"name": "Paul Harvey"
						},
						"bug_when": "2019-01-11 07:57:57 +0000",
						"thetext": "Quick list of upstream versions affected:\n  $ git tag --contains 0191509637546621d6f2e18e074e955ab8ef374d | tr '\\n' ' '\n  v3.2.0 v3.2.0-rc.0 v3.2.0-rc.1 v3.2.1 v3.2.10 v3.2.11 v3.2.12 v3.2.13 v3.2.14 v3.2.15 v3.2.16 v3.2.17 v3.2.18 v3.2.19 v3.2.2 v3.2.20 v3.2.21 v3.2.22 v3.2.23 v3.2.24 v3.2.25 v3.2.3 v3.2.4 v3.2.5 v3.2.6 v3.2.7 v3.2.8 v3.2.9 v3.3.0 v3.3.0-rc.0 v3.3.0-rc.1 v3.3.0-rc.2 v3.3.0-rc.3 v3.3.0-rc.4 v3.3.1 v3.3.10 v3.3.2 v3.3.3 v3.3.4 v3.3.5 v3.3.6 v3.3.7 v3.3.8 v3.3.9"
					},
					{
						"isprivate": "0",
						"commentid": "12359171",
						"comment_count": "23",
						"who": {
							"text": "sbatsche",
							"name": "Sam Batschelet"
						},
						"bug_when": "2019-01-11 14:15:45 +0000",
						"thetext": "(In reply to Paul Harvey from comment #21)\n> Mitigation:\n> \n> If a gRPC proxy is used, remove it from the affected deployment such that\n> clients connect directly to etcd, or use an authentication method other than\n> client-cert-auth.\n\nFTR this issue does not require grpc-proxy.\n\nIf etcd is using RBAC and `--client-cert-auth` is enabled. Make sure that the client server certificate `--cert-file` does not include a common name. IF a common name is part of this certificate consider removing. If removal is not possible understand that a RBAC user with username = to CN can be exploited by any REST request to the gRPC-gateway. Essentially the username in the CA will always be used during authentication. \n\nopenssl x509 -noout -subject -in client.pem | grep -o 'CN.*'\n\nexample curl --key $key --cert $cert --cacert $ca -L https://localhost:2379/v3beta/kv/put \\\n  -X POST -d '{\"key\": \"Zm9v\", \"value\": \"YmFy\"}'"
					},
					{
						"isprivate": "0",
						"commentid": "12359557",
						"comment_count": "24",
						"who": {
							"text": "jchaloup",
							"name": "Jan Chaloupka"
						},
						"bug_when": "2019-01-11 15:41:05 +0000",
						"thetext": "Sam,\n\nchecking the etcd release [1] I still don't see any new update. Can we wait until 3.3.11 is out or do we need to downstream the PR ourselves?\n\n[1] https://github.com/etcd-io/etcd/releases"
					},
					{
						"isprivate": "0",
						"commentid": "12359558",
						"comment_count": "25",
						"who": {
							"text": "jchaloup",
							"name": "Jan Chaloupka"
						},
						"bug_when": "2019-01-11 15:41:23 +0000",
						"thetext": "By update I mean release."
					},
					{
						"isprivate": "0",
						"commentid": "12359591",
						"comment_count": "26",
						"who": {
							"text": "sbatsche",
							"name": "Sam Batschelet"
						},
						"bug_when": "2019-01-11 15:49:31 +0000",
						"thetext": "Hi Jan from above.\n\n> Yeah we would like to cut 3.3.11 with 3.2.26 but the maintainer from Google that does 3.2 releases has been delayed returning from holiday and should return Friday.\n\nI should know more today, I am sorry this process takes so long but we (etcd) currently are dependent on 2 specific maintainers to cut an etcd release. I am trying to get involved in this process to improve this turn around."
					},
					{
						"isprivate": "0",
						"commentid": "12360738",
						"comment_count": "28",
						"who": {
							"text": "sbatsche",
							"name": "Sam Batschelet"
						},
						"bug_when": "2019-01-11 22:06:06 +0000",
						"thetext": "https://github.com/etcd-io/etcd/releases\n\nv3.3.11 and v3.3.26 are now live."
					},
					{
						"isprivate": "0",
						"commentid": "12361899",
						"comment_count": "30",
						"who": {
							"text": "pharvey",
							"name": "Paul Harvey"
						},
						"bug_when": "2019-01-14 00:27:59 +0000",
						"thetext": "Re-worded flaw description according to common 23, thanks Sam. Could you please sanity-check my updated wording of the DocText and Mitigation section?"
					},
					{
						"isprivate": "0",
						"commentid": "12361903",
						"comment_count": "34",
						"who": {
							"text": "pharvey",
							"name": "Paul Harvey"
						},
						"bug_when": "2019-01-14 00:40:24 +0000",
						"thetext": "Mitigation:\n\nEnsure that the client server TLS certificate (specified in --cert-file argument or ETCD_CERT_FILE environment variable) does not include a CN (Common Name) field. If a Common Name field is part of this certificate, replace it with one which omits it.\n\nTo check the CN field of a certificate:\n  openssl x509 -noout -subject -in /path/to/client.crt | grep -o 'CN.*'\n\nTo check if there is a username matching the CN field in the TLS client certificate:\n  etcdctl user get <TLS client certificate CN>\n\nFor more information on TLS authentication features including how client-cert-auth is enabled, refer to the etcd transport security model documentation: https://github.com/etcd-io/etcd/blob/master/Documentation/op-guide/security.md\nFor more information on Role-based access control including how it is enabled, refer to the etcd role-based access control documentation: https://github.com/etcd-io/etcd/blob/master/Documentation/op-guide/authentication.md"
					},
					{
						"isprivate": "0",
						"commentid": "12361917",
						"comment_count": "35",
						"who": {
							"text": "pharvey",
							"name": "Paul Harvey"
						},
						"bug_when": "2019-01-14 01:04:09 +0000",
						"thetext": "https://github.com/etcd-io/etcd/blob/1eee465a43720d713bb69f7b7f5e120135fdb1ac/CHANGELOG-3.3.md#security-authentication\nhttps://github.com/etcd-io/etcd/blob/1eee465a43720d713bb69f7b7f5e120135fdb1ac/CHANGELOG-3.2.md#security-authentication"
					},
					{
						"isprivate": "0",
						"commentid": "12361974",
						"comment_count": "37",
						"who": {
							"text": "pharvey",
							"name": "Paul Harvey"
						},
						"bug_when": "2019-01-14 01:55:01 +0000",
						"thetext": "Created etcd tracking bugs for this issue:\n\nAffects: fedora-all [bug 1665782]"
					},
					{
						"isprivate": "0",
						"commentid": "12362149",
						"comment_count": "38",
						"who": {
							"text": "pharvey",
							"name": "Paul Harvey"
						},
						"bug_when": "2019-01-14 03:36:40 +0000",
						"thetext": "This isn't really an auth bypass; the mutual TLS authentication is still working, it's more that our REST endpoint is makeing an auth decision based on irrelevant data. Changed to CWE-287, Improper Authentication"
					},
					{
						"isprivate": "0",
						"commentid": "12394894",
						"comment_count": "45",
						"who": {
							"text": "pharvey",
							"name": "Paul Harvey"
						},
						"bug_when": "2019-01-25 06:07:07 +0000",
						"thetext": "openshift-enterprise-3.11: metrics-server component was incorrectly marked as affected; it is actually notaffected because the vendored etcd code in the upstream project was at version 3.1.10, which is not part of the vulnerable version range for this flaw."
					},
					{
						"isprivate": "0",
						"commentid": "12413004",
						"comment_count": "46",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2019-01-31 19:23:08 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 7 Extras\n\nVia RHSA-2019:0237 https://access.redhat.com/errata/RHSA-2019:0237"
					},
					{
						"isprivate": "0",
						"commentid": "12607804",
						"comment_count": "52",
						"who": {
							"text": "jshepherd",
							"name": "Jason Shepherd"
						},
						"bug_when": "2019-04-04 02:18:07 +0000",
						"thetext": "Statement:\n\nOpenShift Container Platform 3.x, and 4.1 versions do not use etcd Role-based access control so they are not affected."
					},
					{
						"isprivate": "0",
						"commentid": "12810154",
						"comment_count": "55",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2019-06-04 19:10:01 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 7 Extras\n\nVia RHSA-2019:1352 https://access.redhat.com/errata/RHSA-2019:1352"
					}
				]
			}
		},
		{
			"bug_id": 1665782,
			"feedback": [
				{
					"bug_id": 1665782,
					"comment": {
						"id": 927360,
						"karma": -1,
						"text": "In cockpit we regularly build a Fedora (29 currently) with updates-testing enabled: Last run today: https://github.com/cockpit-project/cockpit/pull/11572 This shows that this [breaks kubernetes](https://209.132.184.41:8493/logs/pull-11572-20190412-133131-076fa3b6-verify-fedora-testing/log.html). The [journal](https://209.132.184.41:8493/logs/pull-11572-20190412-133131-076fa3b6-verify-fedora-testing/TestKubernetes-testPendingClaim-fedora-testing-127.0.0.2-2401-FAIL.log) says this:\n```\nApr 12 11:20:31 localhost.localdomain systemd[1]: Starting Etcd Server...\nApr 12 11:20:31 localhost.localdomain bash[5877]: /usr/bin/etcd: line 1: syntax error near unexpected token `newline'\nApr 12 11:20:31 localhost.localdomain bash[5877]: /usr/bin/etcd: line 1: `!<arch>'\nApr 12 11:20:31 localhost.localdomain audit[1]: SERVICE_START pid=1 uid=0 auid=4294967295 ses=4294967295 subj=system_u:system_r:init_t:s0 msg='unit=etcd comm=\"systemd\" exe=\"/usr/lib/systemd/systemd\" hostname=? addr=? terminal=? res=failed'\nApr 12 11:20:31 localhost.localdomain systemd[1]: etcd.service: Main process exited, code=exited, status=2/INVALIDARGUMENT\nApr 12 11:20:31 localhost.localdomain systemd[1]: etcd.service: Failed with result 'exit-code'.\n```\nI haven't reproduced this yet, but as this is dangerously close to slipping into stable, I want to raise a red flag here.",
						"timestamp": "2019-04-12 15:33:55",
						"update_id": 136204,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 927360
				},
				{
					"bug_id": 1665782,
					"comment": {
						"id": 927367,
						"text": "Note that in the [corresponding fedora-29 update](https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af), etcd has a regression. I have not tested this on F30.",
						"timestamp": "2019-04-12 15:35:17",
						"update_id": 136197,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 927367
				},
				{
					"bug_id": 1665782,
					"comment": {
						"id": 929173,
						"karma": -1,
						"text": "Exactly the same failure as in the [previous update](https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af):\n```\nApr 15 05:13:18 localhost.localdomain bash[4139]: /usr/bin/etcd: line 1: syntax error near unexpected token `newline'\nApr 15 05:13:18 localhost.localdomain bash[4139]: /usr/bin/etcd: line 1: `!<arch>'\n```\n\n[full journal](https://209.132.184.41:8493/logs/pull-11595-20190415-074444-6f078131-verify-fedora-testing/TestKubernetes-testDelete-fedora-testing-127.0.0.2-2701-FAIL.log), [pull request that exhibits this](https://github.com/cockpit-project/cockpit/pull/11595)",
						"timestamp": "2019-04-15 12:13:02",
						"update_id": 136727,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 929173
				},
				{
					"bug_id": 1665782,
					"comment": {
						"id": 929898,
						"karma": -1,
						"text": "This *still* fails, but differently now. On a current and clean F-29, with etcd-3.2.16-6.fc29.x86_64:\n```\n# systemctl status -l etcd\n● etcd.service - Etcd Server\n   Loaded: loaded (/usr/lib/systemd/system/etcd.service; disabled; vendor preset: disabled)\n   Active: active (running) since Tue 2019-04-16 02:18:20 EDT; 35s ago\n Main PID: 7797 (etcd)\n    Tasks: 9 (limit: 1147)\n   Memory: 35.6M\n      CPU: 226ms\n   CGroup: /system.slice/etcd.service\n           └─7797 /usr/bin/etcd --name=default --data-dir=/var/lib/etcd/default.etcd --listen-client-urls=http://localhost:2379\n\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: 8e9e05c52164694d received MsgVoteResp from 8e9e05c52164694d at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: 8e9e05c52164694d became leader at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: raft.node: 8e9e05c52164694d elected leader 8e9e05c52164694d at term 2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: setting up the initial cluster version to 3.2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: published {Name:default ClientURLs:[http://localhost:2379]} to cluster cdf818194e3a8c32\nApr 16 02:18:20 m1.cockpit.lan systemd[1]: Started Etcd Server.\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: ready to serve client requests\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: serving insecure client requests on 127.0.0.1:2379, this is strongly discouraged!\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: set the initial cluster version to 3.2\nApr 16 02:18:20 m1.cockpit.lan etcd[7797]: enabled capabilities for version 3.2\n```\n\nSomehow `dnf upgrade --enablerepo=updates-testing etcd` and `dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2019-049b108f40` say \"nothing to do\", so it seems this isn't yet published. However, I downloaded the build manually with `koji download-build`, and it fails again:\n```\n# systemctl status -l etcd\n● etcd.service - Etcd Server\n   Loaded: loaded (/usr/lib/systemd/system/etcd.service; disabled; vendor preset: disabled)\n   Active: failed (Result: exit-code) since Tue 2019-04-16 02:25:42 EDT; 2min 33s ago\n  Process: 23291 ExecStart=/bin/bash -c GOMAXPROCS=$(nproc) /usr/bin/etcd --name=\"${ETCD_NAME}\" --data-dir=\"${ETCD_DATA_DIR}\" --listen-client-urls=\"${ETCD_LISTEN_>\n Main PID: 23291 (code=exited, status=1/FAILURE)\n      CPU: 16ms\n\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: Starting Etcd Server...\nApr 16 02:25:42 m1.cockpit.lan etcd[23291]: recognized and used environment variable ETCD_ADVERTISE_CLIENT_URLS=http://localhost:2379\nApr 16 02:25:42 m1.cockpit.lan etcd[23291]: conflicting environment variable \"ETCD_LISTEN_CLIENT_URLS\" is shadowed by corresponding command-line flag (either unset environment variable or disable flag)\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: etcd.service: Main process exited, code=exited, status=1/FAILURE\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: etcd.service: Failed with result 'exit-code'.\nApr 16 02:25:42 m1.cockpit.lan systemd[1]: Failed to start Etcd Server.\n```",
						"timestamp": "2019-04-16 06:30:18",
						"update_id": 136840,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 929898
				},
				{
					"bug_id": 1665782,
					"comment": {
						"id": 930089,
						"text": "Caused by https://github.com/etcd-io/etcd/pull/9382\nWill fix our service file accordingly.",
						"timestamp": "2019-04-16 13:54:29",
						"update_id": 136840,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/d39b265ba4de0763d7a95d149ca7ee52cc5ff3e3a3dc13eecee1652927748f2b?s=24&d=retro",
							"email": "zebob.m@gmail.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "provenpackager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "go-sig"
								}
							],
							"id": 3743,
							"name": "eclipseo",
							"openid": "eclipseo.id.fedoraproject.org"
						},
						"user_id": 3743
					},
					"comment_id": 930089
				},
				{
					"bug_id": 1665782,
					"comment": {
						"id": 930169,
						"karma": 1,
						"text": "Upgrade starts up fine now. I also tested it with kubernetes and cockpit-kubernetes' tests. Thanks!",
						"timestamp": "2019-04-16 19:27:25",
						"update_id": 136947,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
							"email": "mpitt@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "cockpitteam"
								},
								{
									"name": "ocp-cico-cockpit"
								}
							],
							"id": 3506,
							"name": "martinpitt",
							"openid": "martinpitt.id.fedoraproject.org"
						},
						"user_id": 3506
					},
					"comment_id": 930169
				}
			],
			"security": true,
			"title": "CVE-2018-16886 etcd: Improper Authentication in auth/store.go:AuthInfoFromTLS() via gRPC-gateway [fedora-all]",
			"bugzilla": {
				"bug_id": "1665782",
				"creation_ts": "2019-01-14 01:54:57 +0000",
				"short_desc": "CVE-2018-16886 etcd: Improper Authentication in auth/store.go:AuthInfoFromTLS() via gRPC-gateway [fedora-all]",
				"delta_ts": "2019-05-06 04:14:57 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security, SecurityTracking",
				"priority": "medium",
				"bug_severity": "medium",
				"blocked": [
					{
						"bug_id": "1651034",
						"alias": "CVE-2018-16886",
						"creation_ts": "2018-11-19 01:27:46 +0000",
						"short_desc": "CVE-2018-16886 etcd: Improper Authentication in auth/store.go:AuthInfoFromTLS() via gRPC-gateway",
						"delta_ts": "2021-02-16 22:46:11 +0000",
						"bug_status": "CLOSED",
						"resolution": "ERRATA",
						"keywords": "Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"1665782",
							"1665810",
							"1666154",
							"1666155",
							"1666156",
							"1666157",
							"1666159",
							"1685702"
						],
						"blocked": [
							{
								"bug_id": "1651035",
								"error": "NotPermitted"
							}
						],
						"external_bugs": {
							"text": "RHSA-2019:1352",
							"name": "Red Hat Product Errata"
						},
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "12216361",
								"comment_count": "0",
								"who": {
									"text": "sfowler",
									"name": "Sam Fowler"
								},
								"bug_when": "2018-11-19 01:27:46 +0000",
								"thetext": "Etcd, versions 3.2.0 through 3.2.25 and 3.3.0 through 3.3.10, are vulnerable to an improper authentication issue when role-based access control (RBAC) is used and client-cert-auth is enabled. If an etcd client server's TLS certificate contains a Common Name (CN) which matches a valid RBAC username, a remote attacker may authenticate as that user with any valid (trusted) client certificate in a REST API request to the gRPC-gateway.\n\nIntroduced in commit:\nhttps://github.com/etcd-io/etcd/commit/0191509637546621d6f2e18e074e955ab8ef374d\n\nUpstream issue:\nhttps://github.com/etcd-io/etcd/pull/10366\n\nUpstream patch:\nhttps://github.com/etcd-io/etcd/commit/bf9d0d8291dc71ecbfb2690612954e1a298154b2\nhttps://github.com/etcd-io/etcd/commit/a9a9466fb8ba11ad7bb6a44d7446fbd072d59887\nhttps://github.com/etcd-io/etcd/commit/99704e2a97e8710da942bdc737417fc9c9a2c03f\nhttps://github.com/etcd-io/etcd/commit/83c051b701d33261eef91a719e4421c81b000ba4"
							},
							{
								"isprivate": "0",
								"commentid": "12240350",
								"comment_count": "3",
								"who": {
									"text": "sbatsche",
									"name": "Sam Batschelet"
								},
								"bug_when": "2018-11-27 13:11:40 +0000",
								"thetext": "From my review, this issue is not reproducible. Those curious in my testing can review the following.\n\nhttps://docs.google.com/document/d/1ph7LOfUsdKo2qdgMvFahVSd7T6661c8yRr_mR2m3Gms/edit?usp=sharing\n\nMy feeling is given the data we have this embargo should be lifted."
							},
							{
								"isprivate": "0",
								"commentid": "12338080",
								"comment_count": "5",
								"who": {
									"text": "sfowler",
									"name": "Sam Fowler"
								},
								"bug_when": "2019-01-04 01:17:56 +0000",
								"thetext": "Acknowledgments:\n\nName: Matt Wheeler (Osirium)"
							},
							{
								"isprivate": "0",
								"commentid": "12338174",
								"comment_count": "6",
								"who": {
									"text": "sbatsche",
									"name": "Sam Batschelet"
								},
								"bug_when": "2019-01-04 02:29:24 +0000",
								"thetext": "Point release with fix scheduled for Tuesday January 8th. v3.3.11\n\nhttps://github.com/etcd-io/etcd/pull/10366"
							},
							{
								"isprivate": "0",
								"commentid": "12346047",
								"comment_count": "7",
								"who": {
									"text": "jchaloup",
									"name": "Jan Chaloupka"
								},
								"bug_when": "2019-01-08 11:53:31 +0000",
								"thetext": "Hi Sam,\n\n#10366 is not merged yet and the latest release available is v3.3.10. Is the patch ready to be merged and just waiting for finishing upstream review. Or, is there anything else left to be done before the PR can be accepted?"
							},
							{
								"isprivate": "0",
								"commentid": "12346186",
								"comment_count": "8",
								"who": {
									"text": "sbatsche",
									"name": "Sam Batschelet"
								},
								"bug_when": "2019-01-08 12:52:05 +0000",
								"thetext": "Jan,\nThe PR should be merged today and a new release cut shortly. As far as scope this also affects all etcd 3.2.x and 3.3.x that is using --client-cert-auth. So we are backporting fix to 3.2 as well."
							},
							{
								"isprivate": "0",
								"commentid": "12357148",
								"comment_count": "17",
								"who": {
									"text": "pharvey",
									"name": "Paul Harvey"
								},
								"bug_when": "2019-01-11 04:35:09 +0000",
								"thetext": "Setting CVSSv3 PR:L because an attacker still needs to obtain a valid TLS certificate that can be mutually authenticated by the server."
							},
							{
								"isprivate": "0",
								"commentid": "12357149",
								"comment_count": "18",
								"who": {
									"text": "pharvey",
									"name": "Paul Harvey"
								},
								"bug_when": "2019-01-11 04:43:09 +0000",
								"thetext": "Updated title to convey the scope of the vulnerability more concisely"
							},
							{
								"isprivate": "0",
								"commentid": "12357161",
								"comment_count": "19",
								"who": {
									"text": "pharvey",
									"name": "Paul Harvey"
								},
								"bug_when": "2019-01-11 04:59:32 +0000",
								"thetext": "Added doctext, mitigation and external references."
							},
							{
								"isprivate": "0",
								"commentid": "12357402",
								"comment_count": "22",
								"who": {
									"text": "pharvey",
									"name": "Paul Harvey"
								},
								"bug_when": "2019-01-11 07:57:57 +0000",
								"thetext": "Quick list of upstream versions affected:\n  $ git tag --contains 0191509637546621d6f2e18e074e955ab8ef374d | tr '\\n' ' '\n  v3.2.0 v3.2.0-rc.0 v3.2.0-rc.1 v3.2.1 v3.2.10 v3.2.11 v3.2.12 v3.2.13 v3.2.14 v3.2.15 v3.2.16 v3.2.17 v3.2.18 v3.2.19 v3.2.2 v3.2.20 v3.2.21 v3.2.22 v3.2.23 v3.2.24 v3.2.25 v3.2.3 v3.2.4 v3.2.5 v3.2.6 v3.2.7 v3.2.8 v3.2.9 v3.3.0 v3.3.0-rc.0 v3.3.0-rc.1 v3.3.0-rc.2 v3.3.0-rc.3 v3.3.0-rc.4 v3.3.1 v3.3.10 v3.3.2 v3.3.3 v3.3.4 v3.3.5 v3.3.6 v3.3.7 v3.3.8 v3.3.9"
							},
							{
								"isprivate": "0",
								"commentid": "12359171",
								"comment_count": "23",
								"who": {
									"text": "sbatsche",
									"name": "Sam Batschelet"
								},
								"bug_when": "2019-01-11 14:15:45 +0000",
								"thetext": "(In reply to Paul Harvey from comment #21)\n> Mitigation:\n> \n> If a gRPC proxy is used, remove it from the affected deployment such that\n> clients connect directly to etcd, or use an authentication method other than\n> client-cert-auth.\n\nFTR this issue does not require grpc-proxy.\n\nIf etcd is using RBAC and `--client-cert-auth` is enabled. Make sure that the client server certificate `--cert-file` does not include a common name. IF a common name is part of this certificate consider removing. If removal is not possible understand that a RBAC user with username = to CN can be exploited by any REST request to the gRPC-gateway. Essentially the username in the CA will always be used during authentication. \n\nopenssl x509 -noout -subject -in client.pem | grep -o 'CN.*'\n\nexample curl --key $key --cert $cert --cacert $ca -L https://localhost:2379/v3beta/kv/put \\\n  -X POST -d '{\"key\": \"Zm9v\", \"value\": \"YmFy\"}'"
							},
							{
								"isprivate": "0",
								"commentid": "12359557",
								"comment_count": "24",
								"who": {
									"text": "jchaloup",
									"name": "Jan Chaloupka"
								},
								"bug_when": "2019-01-11 15:41:05 +0000",
								"thetext": "Sam,\n\nchecking the etcd release [1] I still don't see any new update. Can we wait until 3.3.11 is out or do we need to downstream the PR ourselves?\n\n[1] https://github.com/etcd-io/etcd/releases"
							},
							{
								"isprivate": "0",
								"commentid": "12359558",
								"comment_count": "25",
								"who": {
									"text": "jchaloup",
									"name": "Jan Chaloupka"
								},
								"bug_when": "2019-01-11 15:41:23 +0000",
								"thetext": "By update I mean release."
							},
							{
								"isprivate": "0",
								"commentid": "12359591",
								"comment_count": "26",
								"who": {
									"text": "sbatsche",
									"name": "Sam Batschelet"
								},
								"bug_when": "2019-01-11 15:49:31 +0000",
								"thetext": "Hi Jan from above.\n\n> Yeah we would like to cut 3.3.11 with 3.2.26 but the maintainer from Google that does 3.2 releases has been delayed returning from holiday and should return Friday.\n\nI should know more today, I am sorry this process takes so long but we (etcd) currently are dependent on 2 specific maintainers to cut an etcd release. I am trying to get involved in this process to improve this turn around."
							},
							{
								"isprivate": "0",
								"commentid": "12360738",
								"comment_count": "28",
								"who": {
									"text": "sbatsche",
									"name": "Sam Batschelet"
								},
								"bug_when": "2019-01-11 22:06:06 +0000",
								"thetext": "https://github.com/etcd-io/etcd/releases\n\nv3.3.11 and v3.3.26 are now live."
							},
							{
								"isprivate": "0",
								"commentid": "12361899",
								"comment_count": "30",
								"who": {
									"text": "pharvey",
									"name": "Paul Harvey"
								},
								"bug_when": "2019-01-14 00:27:59 +0000",
								"thetext": "Re-worded flaw description according to common 23, thanks Sam. Could you please sanity-check my updated wording of the DocText and Mitigation section?"
							},
							{
								"isprivate": "0",
								"commentid": "12361903",
								"comment_count": "34",
								"who": {
									"text": "pharvey",
									"name": "Paul Harvey"
								},
								"bug_when": "2019-01-14 00:40:24 +0000",
								"thetext": "Mitigation:\n\nEnsure that the client server TLS certificate (specified in --cert-file argument or ETCD_CERT_FILE environment variable) does not include a CN (Common Name) field. If a Common Name field is part of this certificate, replace it with one which omits it.\n\nTo check the CN field of a certificate:\n  openssl x509 -noout -subject -in /path/to/client.crt | grep -o 'CN.*'\n\nTo check if there is a username matching the CN field in the TLS client certificate:\n  etcdctl user get <TLS client certificate CN>\n\nFor more information on TLS authentication features including how client-cert-auth is enabled, refer to the etcd transport security model documentation: https://github.com/etcd-io/etcd/blob/master/Documentation/op-guide/security.md\nFor more information on Role-based access control including how it is enabled, refer to the etcd role-based access control documentation: https://github.com/etcd-io/etcd/blob/master/Documentation/op-guide/authentication.md"
							},
							{
								"isprivate": "0",
								"commentid": "12361917",
								"comment_count": "35",
								"who": {
									"text": "pharvey",
									"name": "Paul Harvey"
								},
								"bug_when": "2019-01-14 01:04:09 +0000",
								"thetext": "https://github.com/etcd-io/etcd/blob/1eee465a43720d713bb69f7b7f5e120135fdb1ac/CHANGELOG-3.3.md#security-authentication\nhttps://github.com/etcd-io/etcd/blob/1eee465a43720d713bb69f7b7f5e120135fdb1ac/CHANGELOG-3.2.md#security-authentication"
							},
							{
								"isprivate": "0",
								"commentid": "12361974",
								"comment_count": "37",
								"who": {
									"text": "pharvey",
									"name": "Paul Harvey"
								},
								"bug_when": "2019-01-14 01:55:01 +0000",
								"thetext": "Created etcd tracking bugs for this issue:\n\nAffects: fedora-all [bug 1665782]"
							},
							{
								"isprivate": "0",
								"commentid": "12362149",
								"comment_count": "38",
								"who": {
									"text": "pharvey",
									"name": "Paul Harvey"
								},
								"bug_when": "2019-01-14 03:36:40 +0000",
								"thetext": "This isn't really an auth bypass; the mutual TLS authentication is still working, it's more that our REST endpoint is makeing an auth decision based on irrelevant data. Changed to CWE-287, Improper Authentication"
							},
							{
								"isprivate": "0",
								"commentid": "12394894",
								"comment_count": "45",
								"who": {
									"text": "pharvey",
									"name": "Paul Harvey"
								},
								"bug_when": "2019-01-25 06:07:07 +0000",
								"thetext": "openshift-enterprise-3.11: metrics-server component was incorrectly marked as affected; it is actually notaffected because the vendored etcd code in the upstream project was at version 3.1.10, which is not part of the vulnerable version range for this flaw."
							},
							{
								"isprivate": "0",
								"commentid": "12413004",
								"comment_count": "46",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2019-01-31 19:23:08 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 7 Extras\n\nVia RHSA-2019:0237 https://access.redhat.com/errata/RHSA-2019:0237"
							},
							{
								"isprivate": "0",
								"commentid": "12607804",
								"comment_count": "52",
								"who": {
									"text": "jshepherd",
									"name": "Jason Shepherd"
								},
								"bug_when": "2019-04-04 02:18:07 +0000",
								"thetext": "Statement:\n\nOpenShift Container Platform 3.x, and 4.1 versions do not use etcd Role-based access control so they are not affected."
							},
							{
								"isprivate": "0",
								"commentid": "12810154",
								"comment_count": "55",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2019-06-04 19:10:01 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 7 Extras\n\nVia RHSA-2019:1352 https://access.redhat.com/errata/RHSA-2019:1352"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "12361972",
						"comment_count": "0",
						"who": {
							"text": "pharvey",
							"name": "Paul Harvey"
						},
						"bug_when": "2019-01-14 01:54:57 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof fedora-all.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate."
					},
					{
						"isprivate": "0",
						"commentid": "12361973",
						"comment_count": "1",
						"who": {
							"text": "pharvey",
							"name": "Paul Harvey"
						},
						"bug_when": "2019-01-14 01:54:59 +0000",
						"thetext": "Use the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# low, medium, high, urgent (required)\nseverity=medium\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1651034,1665782\n\n# Description of your update\nnotes=Security fix for [PUT CVEs HERE]\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi web interface to submit updates:\n\nhttps://bodhi.fedoraproject.org/updates/new"
					},
					{
						"isprivate": "0",
						"commentid": "12620699",
						"comment_count": "2",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-08 19:52:30 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc30 has been submitted as an update to Fedora 30. https://bodhi.fedoraproject.org/updates/FEDORA-2019-833466697f"
					},
					{
						"isprivate": "0",
						"commentid": "12620814",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-08 20:42:29 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc29 has been submitted as an update to Fedora 29. https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af"
					},
					{
						"isprivate": "0",
						"commentid": "12621306",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-09 01:48:04 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc30 has been pushed to the Fedora 30 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-833466697f"
					},
					{
						"isprivate": "0",
						"commentid": "12621490",
						"comment_count": "5",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-09 03:14:07 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af"
					},
					{
						"isprivate": "0",
						"commentid": "12636432",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-13 00:04:37 +0000",
						"thetext": "etcd-3.3.12-1.20190314gite1ca3b4.fc30 has been pushed to the Fedora 30 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "12637225",
						"comment_count": "7",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-13 21:20:13 +0000",
						"thetext": "etcd-3.3.12-2.20190413gitf29b1ad.fc29 has been submitted as an update to Fedora 29. https://bodhi.fedoraproject.org/updates/FEDORA-2019-185e366042"
					},
					{
						"isprivate": "0",
						"commentid": "12637422",
						"comment_count": "8",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-14 04:46:05 +0000",
						"thetext": "etcd-3.3.12-2.20190413gitf29b1ad.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-185e366042"
					},
					{
						"isprivate": "0",
						"commentid": "12640270",
						"comment_count": "9",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-15 14:30:04 +0000",
						"thetext": "etcd-3.3.12-3.20190413gitf29b1ad.fc29 has been submitted as an update to Fedora 29. https://bodhi.fedoraproject.org/updates/FEDORA-2019-049b108f40"
					},
					{
						"isprivate": "0",
						"commentid": "12642085",
						"comment_count": "10",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-16 04:34:43 +0000",
						"thetext": "etcd-3.3.12-3.20190413gitf29b1ad.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-049b108f40"
					},
					{
						"isprivate": "0",
						"commentid": "12644142",
						"comment_count": "11",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-16 14:54:46 +0000",
						"thetext": "etcd-3.3.12-4.20190413gitf29b1ad.fc29 has been submitted as an update to Fedora 29. https://bodhi.fedoraproject.org/updates/FEDORA-2019-219b0b0b6a"
					},
					{
						"isprivate": "0",
						"commentid": "12652090",
						"comment_count": "12",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-04-18 22:12:55 +0000",
						"thetext": "etcd-3.3.12-4.20190413gitf29b1ad.fc29 has been pushed to the Fedora 29 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-219b0b0b6a"
					},
					{
						"isprivate": "0",
						"commentid": "12703666",
						"comment_count": "13",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-05-06 04:14:57 +0000",
						"thetext": "etcd-3.3.12-4.20190413gitf29b1ad.fc29 has been pushed to the Fedora 29 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		}
	],
	"builds": [
		{
			"epoch": 0,
			"nvr": "etcd-3.3.12-2.20190413gitf29b1ad.fc29",
			"release_id": 23,
			"signed": true,
			"type": "rpm",
			"package": {
				"aarch64": [
					{
						"name": "etcd-debugsource",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "aarch64"
					},
					{
						"name": "etcd",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "aarch64"
					},
					{
						"name": "etcd-debuginfo",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "aarch64"
					}
				],
				"armv7hl": [
					{
						"name": "etcd-debugsource",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "armv7hl"
					},
					{
						"name": "etcd",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "armv7hl"
					},
					{
						"name": "etcd-debuginfo",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "armv7hl"
					}
				],
				"i686": [
					{
						"name": "etcd",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "i686"
					},
					{
						"name": "etcd-debugsource",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "i686"
					},
					{
						"name": "etcd-debuginfo",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "i686"
					}
				],
				"noarch": [
					{
						"name": "etcd-devel",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "noarch"
					},
					{
						"name": "compat-golang-github-coreos-etcd-devel",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "noarch"
					}
				],
				"ppc64le": [
					{
						"name": "etcd-debuginfo",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "ppc64le"
					},
					{
						"name": "etcd-debugsource",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "ppc64le"
					},
					{
						"name": "etcd",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "ppc64le"
					}
				],
				"s390x": [
					{
						"name": "etcd",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "s390x"
					},
					{
						"name": "etcd-debugsource",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "s390x"
					},
					{
						"name": "etcd-debuginfo",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "s390x"
					}
				],
				"src": [
					{
						"name": "etcd",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "src"
					}
				],
				"x86_64": [
					{
						"name": "etcd-debugsource",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "x86_64"
					},
					{
						"name": "etcd",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "x86_64"
					},
					{
						"name": "etcd-debuginfo",
						"version": "3.3.12",
						"release": "2.20190413gitf29b1ad.fc29",
						"arch": "x86_64"
					}
				]
			}
		}
	],
	"close_bugs": true,
	"comments": [
		{
			"id": 928325,
			"text": "This update has been submitted for testing by eclipseo. ",
			"timestamp": "2019-04-13 21:20:03",
			"update_id": 136727,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 928327,
			"text": "This update has obsoleted [etcd-3.3.12-1.20190314gite1ca3b4.fc29](https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af), and has inherited its bugs and notes.",
			"timestamp": "2019-04-13 21:20:07",
			"update_id": 136727,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 928560,
			"text": "This update has been pushed to testing.",
			"timestamp": "2019-04-14 04:46:15",
			"update_id": 136727,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"bug_feedback": [
				{
					"bug": {
						"bug_id": 1514762,
						"title": "etcd-3.3.12 is available"
					},
					"bug_id": 1514762,
					"comment_id": 929173
				},
				{
					"bug": {
						"bug_id": 1552714,
						"parent": true,
						"security": true,
						"title": "CVE-2018-1098 etcd: Cross-site request forgery via crafted local POST forms"
					},
					"bug_id": 1552714,
					"comment_id": 929173
				},
				{
					"bug": {
						"bug_id": 1552717,
						"parent": true,
						"security": true,
						"title": "CVE-2018-1099 etcd: DNS rebinding vulnerability in etcd server"
					},
					"bug_id": 1552717,
					"comment_id": 929173
				},
				{
					"bug": {
						"bug_id": 1552720,
						"security": true,
						"title": "CVE-2018-1098 CVE-2018-1099 etcd: various flaws [fedora-all]"
					},
					"bug_id": 1552720,
					"comment_id": 929173
				},
				{
					"bug": {
						"bug_id": 1607180,
						"title": "during build, vendor'ed files are used"
					},
					"bug_id": 1607180,
					"comment_id": 929173
				},
				{
					"bug": {
						"bug_id": 1651034,
						"parent": true,
						"security": true,
						"title": "CVE-2018-16886 etcd: Improper Authentication in auth/store.go:AuthInfoFromTLS() via gRPC-gateway"
					},
					"bug_id": 1651034,
					"comment_id": 929173
				},
				{
					"bug": {
						"bug_id": 1665782,
						"security": true,
						"title": "CVE-2018-16886 etcd: Improper Authentication in auth/store.go:AuthInfoFromTLS() via gRPC-gateway [fedora-all]"
					},
					"bug_id": 1665782,
					"comment_id": 929173
				}
			],
			"id": 929173,
			"karma": -1,
			"text": "Exactly the same failure as in the [previous update](https://bodhi.fedoraproject.org/updates/FEDORA-2019-33646297af):\n```\nApr 15 05:13:18 localhost.localdomain bash[4139]: /usr/bin/etcd: line 1: syntax error near unexpected token `newline'\nApr 15 05:13:18 localhost.localdomain bash[4139]: /usr/bin/etcd: line 1: `!<arch>'\n```\n\n[full journal](https://209.132.184.41:8493/logs/pull-11595-20190415-074444-6f078131-verify-fedora-testing/TestKubernetes-testDelete-fedora-testing-127.0.0.2-2701-FAIL.log), [pull request that exhibits this](https://github.com/cockpit-project/cockpit/pull/11595)",
			"timestamp": "2019-04-15 12:13:02",
			"update_id": 136727,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/a6a00790fadaca10623f4464437e482d4ec110fe331397506ea9fe2664bec740?s=24&d=retro",
				"email": "mpitt@redhat.com",
				"groups": [
					{
						"name": "packager"
					},
					{
						"name": "ipausers"
					},
					{
						"name": "fedora-contributor"
					},
					{
						"name": "signed_fpca"
					},
					{
						"name": "fedorabugs"
					},
					{
						"name": "cockpitteam"
					},
					{
						"name": "ocp-cico-cockpit"
					}
				],
				"id": 3506,
				"name": "martinpitt",
				"openid": "martinpitt.id.fedoraproject.org"
			},
			"user_id": 3506
		},
		{
			"id": 929174,
			"text": "Bodhi is disabling automatic push to stable due to negative karma. The maintainer may push manually if they determine that the issue is not severe.",
			"timestamp": "2019-04-15 12:13:02",
			"update_id": 136727,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 929255,
			"text": "This update has been obsoleted by [etcd-3.3.12-3.20190413gitf29b1ad.fc29](https://bodhi.fedoraproject.org/updates/FEDORA-2019-049b108f40).",
			"timestamp": "2019-04-15 14:29:57",
			"update_id": 136727,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		}
	],
	"content_type": "rpm",
	"date_pushed": "2019-04-14 04:45:35",
	"date_submitted": "2019-04-13 21:20:03",
	"date_testing": "2019-04-14 04:45:35",
	"karma": -1,
	"meets_testing_requirements": true,
	"notes": "Bump to commit f29b1ada19713544b698dab8c94c97cfa1e83dac\n\n----\n\nBump to commit e1ca3b4434945e57e8e3a451cdbde74a903cc8e1\nSecurity fix for CVE-2018-16886\nSecurity fix for CVE-2018-1098 CVE-2018-1099",
	"release": {
		"branch": "f29",
		"candidate_tag": "f29-updates-candidate",
		"composed_by_bodhi": true,
		"create_automatic_updates": false,
		"dist_tag": "f29",
		"id_prefix": "FEDORA",
		"long_name": "Fedora 29",
		"mail_template": "fedora_errata_template",
		"name": "F29",
		"override_tag": "f29-override",
		"package_manager": "dnf",
		"pending_signing_tag": "f29-signing-pending",
		"pending_stable_tag": "f29-updates-pending",
		"pending_testing_tag": "f29-updates-testing-pending",
		"stable_tag": "f29-updates",
		"state": "archived",
		"testing_repository": "updates-testing",
		"testing_tag": "f29-updates-testing",
		"version": "29"
	},
	"require_bugs": true,
	"require_testcases": true,
	"severity": "unspecified",
	"stable_karma": 3,
	"status": "obsolete",
	"suggest": "unspecified",
	"test_gating_status": "ignored",
	"title": "etcd-3.3.12-2.20190413gitf29b1ad.fc29",
	"type": "security",
	"url": "https://bodhi.fedoraproject.org/updates/FEDORA-2019-185e366042",
	"unstable_karma": -3,
	"updateid": "FEDORA-2019-185e366042",
	"user": {
		"avatar": "https://seccdn.libravatar.org/avatar/d39b265ba4de0763d7a95d149ca7ee52cc5ff3e3a3dc13eecee1652927748f2b?s=24&d=retro",
		"email": "zebob.m@gmail.com",
		"groups": [
			{
				"name": "packager"
			},
			{
				"name": "provenpackager"
			},
			{
				"name": "ipausers"
			},
			{
				"name": "fedora-contributor"
			},
			{
				"name": "signed_fpca"
			},
			{
				"name": "fedorabugs"
			},
			{
				"name": "go-sig"
			}
		],
		"id": 3743,
		"name": "eclipseo",
		"openid": "eclipseo.id.fedoraproject.org"
	},
	"version_hash": "5e4427f2e0839a19209bbb89d70394bc56d8200f"
}
