{
	"alias": "FEDORA-2019-d47a9d4b8b",
	"bugs": [
		{
			"bug_id": 1688596,
			"feedback": [
				{
					"bug_id": 1688596,
					"comment": {
						"id": 1000687,
						"karma": 1,
						"text": "+1",
						"timestamp": "2019-08-14 09:19:06",
						"update_id": 142882,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/2f2b587171cdabe19e85c9fdbad151effb8675add0763640b9fd57bb67c02e65?s=24&d=retro",
							"email": "smithpeter835@yahoo.co.uk",
							"groups": [
								{
									"name": "ipausers"
								}
							],
							"id": 506,
							"name": "smithp",
							"openid": "smithp.id.fedoraproject.org"
						},
						"user_id": 506
					},
					"comment_id": 1000687
				},
				{
					"bug_id": 1688596,
					"comment": {
						"id": 992061,
						"karma": 1,
						"text": "Works",
						"timestamp": "2019-08-08 12:17:04",
						"update_id": 142882,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/cd6029d8d81108a2a69c38a2373d2a185c0e86224b8ee4971cd77bb6cdad7a20?s=24&d=retro",
							"email": "walter.pete@yandex.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "provenpackager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "trust admins"
								}
							],
							"id": 491,
							"name": "pwalter",
							"openid": "pwalter.id.fedoraproject.org"
						},
						"user_id": 491
					},
					"comment_id": 992061
				},
				{
					"bug_id": 1688596,
					"comment": {
						"id": 973718,
						"karma": 1,
						"karma_critpath": 1,
						"text": "My UEFI machines in virt-manager boot fine",
						"timestamp": "2019-07-17 12:19:41",
						"update_id": 142882,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/dcc9b804c7f4931d90ad5f9b8b2518e79df4743a418f53589057dc035bddcd0d?s=24&d=retro",
							"email": "kparal@redhat.com",
							"groups": [
								{
									"name": "qa-tools-sig"
								},
								{
									"name": "proventesters"
								},
								{
									"name": "qa"
								},
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "qa-admin"
								},
								{
									"name": "common-issues-triage"
								},
								{
									"name": "trust admins"
								}
							],
							"id": 411,
							"name": "kparal",
							"openid": "kparal.id.fedoraproject.org"
						},
						"user_id": 411
					},
					"comment_id": 973718
				}
			],
			"title": "edk2-ovmf-ia32 is missing OVMF_VARS",
			"bugzilla": {
				"bug_id": "1688596",
				"creation_ts": "2019-03-14 04:50:16 +0000",
				"short_desc": "edk2-ovmf-ia32 is missing OVMF_VARS",
				"delta_ts": "2019-08-15 18:08:32 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"priority": "unspecified",
				"bug_severity": "unspecified",
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "12543619",
						"comment_count": "0",
						"who": {
							"text": "phil",
							"name": "Philippe Troin"
						},
						"bug_when": "2019-03-14 04:50:16 +0000",
						"thetext": "Description of problem:\nedk2-ovmf-ia32 does not provide the OVMF_VARS* files (nvram variables and signature).\nThis prevents qemu or libvirt from creating a 32bit UEFI instance.\n\nVersion-Release number of selected component (if applicable):\nedk2-ovmf-ia32-20180815gitcb5f4f45ce-6.fc30.noarch\nAlso present in F29.\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\n1. Launch a libvirt instance with UEFI i686 BIOS.\n\nActual results:\nVM creation fails at:\nUnable to complete install: 'Failed to open file '/usr/share/edk2/ovmf-ia32/OVMF_VARS.fd': No such file or directory'\n\nTraceback (most recent call last):\n  File \"/usr/share/virt-manager/virtManager/asyncjob.py\", line 75, in cb_wrapper\n    callback(asyncjob, *args, **kwargs)\n  File \"/usr/share/virt-manager/virtManager/create.py\", line 2122, in _do_async_install\n    guest.installer_instance.start_install(guest, meter=meter)\n  File \"/usr/share/virt-manager/virtinst/installer.py\", line 415, in start_install\n    doboot, transient)\n  File \"/usr/share/virt-manager/virtinst/installer.py\", line 358, in _create_guest\n    domain = self.conn.createXML(install_xml or final_xml, 0)\n  File \"/usr/lib64/python3.7/site-packages/libvirt.py\", line 3718, in createXML\n    if ret is None:raise libvirtError('virDomainCreateXML() failed', conn=self)\nlibvirt.libvirtError: Failed to open file '/usr/share/edk2/ovmf-ia32/OVMF_VARS.fd': No such file or directory"
					},
					{
						"isprivate": "0",
						"commentid": "12549741",
						"comment_count": "1",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2019-03-15 17:26:39 +0000",
						"thetext": "Indeed it seems like we aren't generating ia32 ovmf vars in the rpm build. Patrick, is this just an oversight or does qemu-ovmf-secureboot need extending?"
					},
					{
						"isprivate": "0",
						"commentid": "12956438",
						"comment_count": "2",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2019-07-12 17:13:32 +0000",
						"thetext": "I misunderstood the issue here, it's just a simple packaging bug that doesn't involve the secureboot enrollment at all"
					},
					{
						"isprivate": "0",
						"commentid": "12961357",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-07-15 19:58:20 +0000",
						"thetext": "FEDORA-2019-d47a9d4b8b has been submitted as an update to Fedora 30. https://bodhi.fedoraproject.org/updates/FEDORA-2019-d47a9d4b8b"
					},
					{
						"isprivate": "0",
						"commentid": "12961863",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-07-16 00:54:29 +0000",
						"thetext": "edk2-20190501stable-2.fc30 has been pushed to the Fedora 30 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-d47a9d4b8b"
					},
					{
						"isprivate": "0",
						"commentid": "13058230",
						"comment_count": "5",
						"who": {
							"text": "bcotton",
							"name": "Ben Cotton"
						},
						"bug_when": "2019-08-13 17:02:11 +0000",
						"thetext": "This bug appears to have been reported against 'rawhide' during the Fedora 31 development cycle.\nChanging version to '31'."
					},
					{
						"isprivate": "0",
						"commentid": "13061663",
						"comment_count": "6",
						"who": {
							"text": "bcotton",
							"name": "Ben Cotton"
						},
						"bug_when": "2019-08-13 19:02:10 +0000",
						"thetext": "This bug appears to have been reported against 'rawhide' during the Fedora 31 development cycle.\nChanging version to 31."
					},
					{
						"isprivate": "0",
						"commentid": "13070201",
						"comment_count": "7",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-08-15 18:08:32 +0000",
						"thetext": "edk2-20190501stable-2.fc30 has been pushed to the Fedora 30 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1691645,
			"feedback": [
				{
					"bug_id": 1691645,
					"comment": {
						"id": 1000687,
						"karma": 1,
						"text": "+1",
						"timestamp": "2019-08-14 09:19:06",
						"update_id": 142882,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/2f2b587171cdabe19e85c9fdbad151effb8675add0763640b9fd57bb67c02e65?s=24&d=retro",
							"email": "smithpeter835@yahoo.co.uk",
							"groups": [
								{
									"name": "ipausers"
								}
							],
							"id": 506,
							"name": "smithp",
							"openid": "smithp.id.fedoraproject.org"
						},
						"user_id": 506
					},
					"comment_id": 1000687
				},
				{
					"bug_id": 1691645,
					"comment": {
						"id": 992061,
						"karma": 1,
						"text": "Works",
						"timestamp": "2019-08-08 12:17:04",
						"update_id": 142882,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/cd6029d8d81108a2a69c38a2373d2a185c0e86224b8ee4971cd77bb6cdad7a20?s=24&d=retro",
							"email": "walter.pete@yandex.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "provenpackager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "trust admins"
								}
							],
							"id": 491,
							"name": "pwalter",
							"openid": "pwalter.id.fedoraproject.org"
						},
						"user_id": 491
					},
					"comment_id": 992061
				},
				{
					"bug_id": 1691645,
					"comment": {
						"id": 973718,
						"karma": 1,
						"karma_critpath": 1,
						"text": "My UEFI machines in virt-manager boot fine",
						"timestamp": "2019-07-17 12:19:41",
						"update_id": 142882,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/dcc9b804c7f4931d90ad5f9b8b2518e79df4743a418f53589057dc035bddcd0d?s=24&d=retro",
							"email": "kparal@redhat.com",
							"groups": [
								{
									"name": "qa-tools-sig"
								},
								{
									"name": "proventesters"
								},
								{
									"name": "qa"
								},
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "qa-admin"
								},
								{
									"name": "common-issues-triage"
								},
								{
									"name": "trust admins"
								}
							],
							"id": 411,
							"name": "kparal",
							"openid": "kparal.id.fedoraproject.org"
						},
						"user_id": 411
					},
					"comment_id": 973718
				}
			],
			"security": true,
			"title": "CVE-2019-0160 edk2: buffer overflows in PartitionDxe and UdfDxe with long file names and invalid UDF media [fedora-all]",
			"bugzilla": {
				"bug_id": "1691645",
				"creation_ts": "2019-03-22 07:21:57 +0000",
				"short_desc": "CVE-2019-0160 edk2: buffer overflows in PartitionDxe and UdfDxe with long file names and invalid UDF media [fedora-all]",
				"delta_ts": "2019-08-15 18:08:52 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security, SecurityTracking",
				"priority": "medium",
				"bug_severity": "medium",
				"blocked": [
					{
						"bug_id": "1691640",
						"alias": "CVE-2019-0160",
						"creation_ts": "2019-03-22 07:15:09 +0000",
						"short_desc": "CVE-2019-0160 edk2: Buffer overflows in PartitionDxe and UdfDxe with long file names and invalid UDF media",
						"delta_ts": "2019-11-05 20:38:23 +0000",
						"bug_status": "CLOSED",
						"resolution": "ERRATA",
						"keywords": "Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"1691645",
							"1691646",
							"1691647",
							"1691648"
						],
						"blocked": [
							{
								"bug_id": "1683431",
								"error": "NotPermitted"
							}
						],
						"external_bugs": {
							"text": "RHSA-2019:3338",
							"name": "Red Hat Product Errata"
						},
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "12568906",
								"comment_count": "0",
								"who": {
									"text": "rschiron",
									"name": "Riccardo Schirone"
								},
								"bug_when": "2019-03-22 07:15:09 +0000",
								"thetext": "Buffer overflows on the stack/heap are found in UDF-related codes under MdeModulePkg\\Universal\\Disk\\PartitionDxe\\Udf.c and MdeModulePkg\\Universal\\Disk\\UdfDxe. The issue may be triggered with long file name (> 128 characters) or path name (> 256 characters) or with invalid formatted UDF media."
							},
							{
								"isprivate": "0",
								"commentid": "12568917",
								"comment_count": "1",
								"who": {
									"text": "rschiron",
									"name": "Riccardo Schirone"
								},
								"bug_when": "2019-03-22 07:18:00 +0000",
								"thetext": "See bug 1683404, bug 1683410, bug 1683413, bug 1683421, bug 1683425."
							},
							{
								"isprivate": "0",
								"commentid": "12568931",
								"comment_count": "2",
								"who": {
									"text": "rschiron",
									"name": "Riccardo Schirone"
								},
								"bug_when": "2019-03-22 07:20:39 +0000",
								"thetext": "Upstream patches:\nhttps://github.com/tianocore/edk2/commit/4df8f5bfa28b8b881e506437e8f08d92c1a00370\nhttps://github.com/tianocore/edk2/commit/b9ae1705adfdd43668027a25a2b03c2e81960219\nhttps://github.com/tianocore/edk2/commit/5c0748f43f4e1cc15fdd0be64a764eacd7df92f6\nhttps://github.com/tianocore/edk2/commit/89f75aa04a97293a8ed9db2a90851a5053730cf5\nhttps://github.com/tianocore/edk2/commit/3b30351b75d70ea65701ac999875fbb81a89a5ca"
							},
							{
								"isprivate": "0",
								"commentid": "12568939",
								"comment_count": "3",
								"who": {
									"text": "rschiron",
									"name": "Riccardo Schirone"
								},
								"bug_when": "2019-03-22 07:22:18 +0000",
								"thetext": "Created edk2 tracking bugs for this issue:\n\nAffects: epel-all [bug 1691646]\nAffects: fedora-all [bug 1691645]"
							},
							{
								"isprivate": "0",
								"commentid": "12570972",
								"comment_count": "5",
								"who": {
									"text": "lersek",
									"name": "Laszlo Ersek"
								},
								"bug_when": "2019-03-22 18:05:38 +0000",
								"thetext": "Testing method for virt-QE:\n\nSanity checking is sufficient.\n\n(1)   Install a new RHEL or Fedora guest from a Live or installer ISO.\n\n(2)   Boot the installed system\n\n(3.1) Partition a physical USB stick with MBR partition table format,\n      and create a single FAT32 partition on it. Copy a small text file\n      to the FAT32 filesystem. (You can use normal RHEL tools for this,\n      on the host.)\n\n(3.2) Assign the USB stick with virtio-scsi \"LUN passthrough\" to the\n      guest.\n\n      <disk type='block' device='lun'>\n      https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/virtualization_deployment_and_administration_guide/storage_vols#sect-Storage_Volumes-Adding_storage_devices_to_guests\n\n      Note that you should assign the device node from the host system\n      that represents the entire USB stick, i.e. not just a partition of\n      it.\n\n(3.3) Boot UefiShell.iso in the guest, and check with the TYPE shell\n      command whether the text file can be read. (For best results you\n      might have to use CRLF in the text file.)\n\n(4.1) Add two ISO images to a domain configuration, UefiShell.iso and\n      some Windows installer ISO. In this example I use\n      \"en_windows_server_2012_r2_x64_dvd_2707946.iso\", but other Windows\n      media should work too.\n\n(4.2) Add only UefiShell.iso to the boot order.\n\n(4.3) In the UEFI Shell, run the MAP command. Locate the \"FSx:\" alias\n      whose UEFI device path ends with a\n      VenMedia(C5BD4D42-1A76-4996-8956-73CDA326CD0A) device path node.\n      For example:\n\n> FS2: Alias(s):F0a1:;BLK8:\n>     PciRoot(0x0)/Pci(0x2,0x1)/Pci(0x0,0x0)/Scsi(0x0,0x1)/VenMedia(C5BD4D42-1A76-4996-8956-73CDA326CD0A)\n\n(4.4) Change to the filesystem in question, and list a file with the\n      TYPE command that is likely a text file. For example:\n\n> Shell> fs2:\n>\n> FS2:\\> dir\n> Directory of: FS2:\\\n> 08/22/2013  10:07       r         128  autorun.inf\n> 08/22/2013  10:07 <DIR> r         564  boot\n> 08/22/2013  10:07       r     427,680  bootmgr\n> 08/22/2013  10:07       r   1,612,128  bootmgr.efi\n> 08/22/2013  10:07 <DIR> r         148  efi\n> 08/22/2013  10:07       r      77,424  setup.exe\n> 08/22/2013  10:07 <DIR> r      13,128  sources\n> 08/22/2013  10:07 <DIR> r         252  support\n>           4 File(s)   2,117,360 bytes\n>           4 Dir(s)\n>\n> FS2:\\> type autorun.inf\n> [AutoRun.Amd64]\n> open=setup.exe\n> icon=setup.exe,0\n>\n> [AutoRun]\n> open=sources\\SetupError.exe x64\n> icon=sources\\SetupError.exe,0\n>\n> FS2:\\>\n\nStep (1) will regression-test ISO9960/ElTorito, when booting the ISO\nimage.\n\nStep (2) will regression-test GPT.\n\nStep (3) will regression-test MBR.\n\nStep (4) will regression-test UDF.\n\nThanks!"
							},
							{
								"isprivate": "0",
								"commentid": "12571286",
								"comment_count": "6",
								"who": {
									"text": "lersek",
									"name": "Laszlo Ersek"
								},
								"bug_when": "2019-03-22 19:53:39 +0000",
								"thetext": "(In reply to Laszlo Ersek from comment #5)\n> Testing method for virt-QE:\n\n> (3.1) Partition a physical USB stick with MBR partition table format,\n>       and create a single FAT32 partition on it. Copy a small text file\n>       to the FAT32 filesystem. (You can use normal RHEL tools for this,\n>       on the host.)\n> \n> (3.2) Assign the USB stick with virtio-scsi \"LUN passthrough\" to the\n>       guest.\n> \n>       <disk type='block' device='lun'>\n>      \n> https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/\n> html/virtualization_deployment_and_administration_guide/storage_vols#sect-\n> Storage_Volumes-Adding_storage_devices_to_guests\n> \n>       Note that you should assign the device node from the host system\n>       that represents the entire USB stick, i.e. not just a partition of\n>       it.\n\nDon't forget to unmount any filesystems located on the USB stick from the host, between steps (3.1) and (3.2)."
							},
							{
								"isprivate": "0",
								"commentid": "12571338",
								"comment_count": "7",
								"who": {
									"text": "lersek",
									"name": "Laszlo Ersek"
								},
								"bug_when": "2019-03-22 20:18:29 +0000",
								"thetext": "(In reply to Laszlo Ersek from comment #5)\n\n> (3.3) Boot UefiShell.iso in the guest, and check with the TYPE shell\n>       command whether the text file can be read. (For best results you\n>       might have to use CRLF in the text file.)\n\n> (4.3) In the UEFI Shell, run the MAP command. Locate the \"FSx:\" alias\n>       whose UEFI device path ends with a\n>       VenMedia(C5BD4D42-1A76-4996-8956-73CDA326CD0A) device path node.\n>       For example:\n> \n> > FS2: Alias(s):F0a1:;BLK8:\n> >     PciRoot(0x0)/Pci(0x2,0x1)/Pci(0x0,0x0)/Scsi(0x0,0x1)/VenMedia(C5BD4D42-1A76-4996-8956-73CDA326CD0A)\n\n\nA hint for the above steps -- because we launch the UEFI shell from\nUefiShell.iso as a \"boot loader\", it will not see and report all\ndevices/drivers connected, in the MAP command. This is the right\nbehavior, but for this test case we do want to see everything.\nTherefore, when the UEFI shell is reached, first run:\n\n  connect -r\n  map -r"
							},
							{
								"isprivate": "0",
								"commentid": "12737864",
								"comment_count": "8",
								"who": {
									"text": "choma",
									"name": "Michael"
								},
								"bug_when": "2019-05-15 09:02:48 +0000",
								"thetext": "(In reply to Laszlo Ersek from comment #5)\n\nHi Laszlo:\n\nI am verifying Bug 1691647. According Bug 1691647#c3. I update the result in here. \n\n> Testing method for virt-QE:\n> \n> Sanity checking is sufficient.\n> \n> (1)   Install a new RHEL or Fedora guest from a Live or installer ISO.\n\nSuccess. \n\n> \n> (2)   Boot the installed system\n\nSuccess.\n\n> \n> (3.1) Partition a physical USB stick with MBR partition table format,\n>       and create a single FAT32 partition on it. Copy a small text file\n>       to the FAT32 filesystem. (You can use normal RHEL tools for this,\n>       on the host.)\n> \n\nIn the host:\n[1] #lsblk\n    NAME          MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\n    sda             8:0    0 465.8G  0 disk \n    ├─sda1          8:1    0   200M  0 part /boot/efi\n    ├─sda2          8:2    0     1G  0 part /boot\n    └─sda3          8:3    0 464.6G  0 part \n      ├─rhel-root 253:0    0    50G  0 lvm  /\n      ├─rhel-swap 253:1    0   7.8G  0 lvm  [SWAP]\n      └─rhel-home 253:2    0 406.8G  0 lvm  /home\n    sdb             8:16   1  28.9G  0 disk    <== This is the physical USB stick. \n    └─sdb1          8:17   1  28.9G  0 part \n    sr0            11:0    1  1024M  0 rom  \n\n\n[2] #fdisk /dev/sdb\n    Command (m for help): p\n\n    Disk /dev/sdb: 31.0 GB, 31004295168 bytes, 60555264 sectors\n    Units = sectors of 1 * 512 = 512 bytes\n    Sector size (logical/physical): 512 bytes / 512 bytes\n    I/O size (minimum/optimal): 512 bytes / 512 bytes\n    ***Disk label type: dos***\n    Disk identifier: 0xc4ad5995\n\n    Device Boot         Start         End      Blocks   Id  System\n    /dev/sdb1            2048    60555263    30276608   83  Linux\n\n[3] #df -T\nFilesystem                       Type      1K-blocks      Used Available Use% Mounted on\n/dev/sdb1                        vfat       30261808        48  30261760   1% /mnt/sdb1\n\n\n> (3.2) Assign the USB stick with virtio-scsi \"LUN passthrough\" to the\n>       guest.\n> \n>       <disk type='block' device='lun'>\n>      \n> https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/\n> html/virtualization_deployment_and_administration_guide/storage_vols#sect-\n> Storage_Volumes-Adding_storage_devices_to_guests\n> \n>       Note that you should assign the device node from the host system\n>       that represents the entire USB stick, i.e. not just a partition of\n>       it.\n\nBoot guest and passthrough USB stick. \n\n/usr/libexec/qemu-kvm -M q35 -cpu SandyBridge -enable-kvm -m 4G -smp 4 -nodefaults \\\n-global driver=cfi.pflash01,property=secure,value=on \\\n-drive file=/usr/share/OVMF/OVMF_CODE.secboot.fd,if=pflash,format=raw,unit=0,readonly=on \\\n-drive file=/tmp/new-edk2-version/OVMF_VARS.fd,if=pflash,format=raw,unit=1,readonly=off \\\n-device pcie-root-port,id=pcie.0-root-port-2,slot=2,chassis=2,addr=0x2,bus=pcie.0 \\\n-device pcie-root-port,id=pcie.0-root-port-3,slot=3,chassis=3,addr=0x3,bus=pcie.0 \\\n-device pcie-root-port,id=pcie.0-root-port-4,slot=4,chassis=4,addr=0x4,bus=pcie.0 \\\n-device pcie-root-port,id=pcie.0-root-port-5,slot=5,chassis=5,addr=0x5,bus=pcie.0 \\\n-device virtio-scsi-pci,id=scsi0,bus=pcie.0-root-port-2,addr=0x0 \\\n-object secret,id=sec0,data=redhat \\\n-blockdev driver=file,cache.direct=off,cache.no-flush=on,filename=/mnt/test/personal/choma/guest-nfs/rhel7.7-host/rhel7.7-ovmf.luks,node-name=protocol-node \\\n-blockdev node-name=format-node,driver=luks,file=protocol-node,key-secret=sec0 \\\n-device scsi-hd,bus=scsi0.0,drive=format-node \\\n\n-device virtio-scsi-pci,id=scsi1,bus=pcie.0-root-port-4,addr=0x0 \\\n-blockdev driver=file,cache.direct=off,cache.no-flush=on,filename=/dev/sdb,node-name=protocol-node-1 \\\n-blockdev node-name=format-node-1,driver=raw,file=protocol-node-1 \\\n-device scsi-hd,bus=scsi0.0,drive=format-node-1,bootindex=3 \\\n\n-drive file=/usr/share/OVMF/UefiShell.iso,if=none,cache=none,snapshot=off,aio=native,media=cdrom,id=cdrom1 -device ahci,id=ahci0 -device ide-cd,drive=cdrom1,id=ide-cd1,bootindex=2  \\\n-device virtio-net-pci,mac=24:be:05:15:d3:90,id=netdev1,vectors=4,netdev=net1,bus=pcie.0-root-port-3 -netdev tap,id=net1,vhost=on,script=/etc/qemu-ifup,downscript=/etc/qemu-ifdown \\\n-cdrom en_windows_10_business_edition_version_1809_updated_sept_2018_x64_dvd_f0b7dc68.iso \\\n-vnc :1 -monitor stdio -vga qxl -boot menu=on,splash-time=5000 \\\n\n\n> \n> (3.3) Boot UefiShell.iso in the guest, and check with the TYPE shell\n>       command whether the text file can be read. (For best results you\n>       might have to use CRLF in the text file.)\n\nplease see \"Read text file in the UefiShell.iso\"\n\n> \n> (4.1) Add two ISO images to a domain configuration, UefiShell.iso and\n>       some Windows installer ISO. In this example I use\n>       \"en_windows_server_2012_r2_x64_dvd_2707946.iso\", but other Windows\n>       media should work too.\n> \n> (4.2) Add only UefiShell.iso to the boot order.\n> \n> (4.3) In the UEFI Shell, run the MAP command. Locate the \"FSx:\" alias\n>       whose UEFI device path ends with a\n>       VenMedia(C5BD4D42-1A76-4996-8956-73CDA326CD0A) device path node.\n>       For example:\n> \n> > FS2: Alias(s):F0a1:;BLK8:\n> >     PciRoot(0x0)/Pci(0x2,0x1)/Pci(0x0,0x0)/Scsi(0x0,0x1)/VenMedia(C5BD4D42-1A76-4996-8956-73CDA326CD0A)\n> \n> (4.4) Change to the filesystem in question, and list a file with the\n>       TYPE command that is likely a text file. For example:\n> \n> > Shell> fs2:\n> >\n> > FS2:\\> dir\n> > Directory of: FS2:\\\n> > 08/22/2013  10:07       r         128  autorun.inf\n> > 08/22/2013  10:07 <DIR> r         564  boot\n> > 08/22/2013  10:07       r     427,680  bootmgr\n> > 08/22/2013  10:07       r   1,612,128  bootmgr.efi\n> > 08/22/2013  10:07 <DIR> r         148  efi\n> > 08/22/2013  10:07       r      77,424  setup.exe\n> > 08/22/2013  10:07 <DIR> r      13,128  sources\n> > 08/22/2013  10:07 <DIR> r         252  support\n> >           4 File(s)   2,117,360 bytes\n> >           4 Dir(s)\n> >\n> > FS2:\\> type autorun.inf\n> > [AutoRun.Amd64]\n> > open=setup.exe\n> > icon=setup.exe,0\n> >\n> > [AutoRun]\n> > open=sources\\SetupError.exe x64\n> > icon=sources\\SetupError.exe,0\n> >\n> > FS2:\\>\n\nplease see \"type autorun.inf\" in the attachment. \n\n\nThe result looks good. Please have a look. According the testing in above, mark Bug 1691647 verified. \n\n\nThanks."
							},
							{
								"isprivate": "0",
								"commentid": "12737870",
								"comment_count": "9",
								"who": {
									"text": "choma",
									"name": "Michael"
								},
								"bug_when": "2019-05-15 09:04:30 +0000",
								"thetext": "Created attachment 1568899\nRead text file in the UefiShell.iso"
							},
							{
								"isprivate": "0",
								"commentid": "12737874",
								"comment_count": "10",
								"who": {
									"text": "choma",
									"name": "Michael"
								},
								"bug_when": "2019-05-15 09:05:18 +0000",
								"thetext": "Created attachment 1568901\ntype autorun.inf"
							},
							{
								"isprivate": "0",
								"commentid": "12738365",
								"comment_count": "11",
								"who": {
									"text": "lersek",
									"name": "Laszlo Ersek"
								},
								"bug_when": "2019-05-15 11:20:35 +0000",
								"thetext": "Hi Michael,\n\nthe results look OK, but the QEMU command line doesn't match precisely what I asked for. In comment 5 I wrote,\n\n> (3.2) Assign the USB stick with virtio-scsi \"LUN passthrough\" to the guest.\n\nOn the QEMU command line, that translates to \"scsi-block\".\n\nHowever your command line in comment 8 uses \"scsi-hd\" device(s).\n\nCan you please re-run the test with \"scsi-block\"? Thanks."
							},
							{
								"isprivate": "0",
								"commentid": "12741069",
								"comment_count": "12",
								"who": {
									"text": "choma",
									"name": "Michael"
								},
								"bug_when": "2019-05-16 02:11:35 +0000",
								"thetext": "(In reply to Laszlo Ersek from comment #11)\n> Hi Michael,\n> \n> the results look OK, but the QEMU command line doesn't match precisely what\n> I asked for. In comment 5 I wrote,\n> \n> > (3.2) Assign the USB stick with virtio-scsi \"LUN passthrough\" to the guest.\n> \n> On the QEMU command line, that translates to \"scsi-block\".\n> \n> However your command line in comment 8 uses \"scsi-hd\" device(s).\n> \n> Can you please re-run the test with \"scsi-block\"? Thanks.\n\n\nHi Laszlo:\n\nThank you for your information. I have changed the qemu command as follow. Then I repeated the test. I got the exactly same result. \n\n/usr/libexec/qemu-kvm -M q35 -cpu SandyBridge -enable-kvm -m 4G -smp 4 -nodefaults \\\n-global driver=cfi.pflash01,property=secure,value=on \\\n-drive file=/usr/share/OVMF/OVMF_CODE.secboot.fd,if=pflash,format=raw,unit=0,readonly=on \\\n-drive file=/tmp/new-edk2-version/OVMF_VARS.fd,if=pflash,format=raw,unit=1,readonly=off \\\n-device pcie-root-port,id=pcie.0-root-port-2,slot=2,chassis=2,addr=0x2,bus=pcie.0 \\\n-device pcie-root-port,id=pcie.0-root-port-3,slot=3,chassis=3,addr=0x3,bus=pcie.0 \\\n-device pcie-root-port,id=pcie.0-root-port-4,slot=4,chassis=4,addr=0x4,bus=pcie.0 \\\n-device pcie-root-port,id=pcie.0-root-port-5,slot=5,chassis=5,addr=0x5,bus=pcie.0 \\\n-device virtio-scsi-pci,id=scsi0,bus=pcie.0-root-port-2,addr=0x0 \\\n-object secret,id=sec0,data=redhat \\\n-blockdev driver=file,cache.direct=off,cache.no-flush=on,filename=/mnt/test/personal/choma/guest-nfs/rhel7.7-host/rhel7.7-ovmf.luks,node-name=protocol-node \\\n-blockdev node-name=format-node,driver=luks,file=protocol-node,key-secret=sec0 \\\n-device scsi-hd,bus=scsi0.0,drive=format-node \\\n\n-device virtio-scsi-pci,id=scsi1,bus=pcie.0-root-port-4,addr=0x0 \\\n-blockdev driver=host_device,cache.direct=off,cache.no-flush=on,filename=/dev/sdb,node-name=protocol-node-1 \\\n-blockdev node-name=format-node-1,driver=raw,file=protocol-node-1 \\\n-device scsi-block,bus=scsi1.0,drive=format-node-1,id=protocol-node-1,bootindex=3 \\\n\n-drive file=/usr/share/OVMF/UefiShell.iso,if=none,cache=none,snapshot=off,aio=native,media=cdrom,id=cdrom1 -device ahci,id=ahci0 -device ide-cd,drive=cdrom1,id=ide-cd1,bootindex=2  \\\n-cdrom en_windows_10_business_edition_version_1809_updated_sept_2018_x64_dvd_f0b7dc68.iso \\\n-device virtio-net-pci,mac=24:be:05:15:d3:90,id=netdev1,vectors=4,netdev=net1,bus=pcie.0-root-port-3 -netdev tap,id=net1,vhost=on,script=/etc/qemu-ifup,downscript=/etc/qemu-ifdown \\\n-vnc :1 -monitor stdio -vga qxl -boot menu=on,splash-time=5000 \\\n\n\n\nIf you have any other requirement, just free for let me know. Thanks."
							},
							{
								"isprivate": "0",
								"commentid": "12742705",
								"comment_count": "13",
								"who": {
									"text": "lersek",
									"name": "Laszlo Ersek"
								},
								"bug_when": "2019-05-16 12:06:35 +0000",
								"thetext": "No, nothing else needed. Thank you for retesting."
							},
							{
								"isprivate": "0",
								"commentid": "13032029",
								"comment_count": "14",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2019-08-06 12:18:32 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 7\n\nVia RHSA-2019:2125 https://access.redhat.com/errata/RHSA-2019:2125"
							},
							{
								"isprivate": "0",
								"commentid": "13035165",
								"comment_count": "15",
								"who": {
									"text": "prodsec-dev",
									"name": "Product Security DevOps Team"
								},
								"bug_when": "2019-08-06 13:22:19 +0000",
								"thetext": "This bug is now closed. Further updates for individual products will be reflected on the CVE page(s):\n\nhttps://access.redhat.com/security/cve/cve-2019-0160"
							},
							{
								"isprivate": "0",
								"commentid": "13329361",
								"comment_count": "16",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2019-11-05 20:38:21 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 8\n\nVia RHSA-2019:3338 https://access.redhat.com/errata/RHSA-2019:3338"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "12568935",
						"comment_count": "0",
						"who": {
							"text": "rschiron",
							"name": "Riccardo Schirone"
						},
						"bug_when": "2019-03-22 07:21:57 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof fedora-all.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate."
					},
					{
						"isprivate": "0",
						"commentid": "12568936",
						"comment_count": "1",
						"who": {
							"text": "rschiron",
							"name": "Riccardo Schirone"
						},
						"bug_when": "2019-03-22 07:22:05 +0000",
						"thetext": "Use the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# low, medium, high, urgent (required)\nseverity=medium\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1691640,1691645\n\n# Description of your update\nnotes=Security fix for [PUT CVEs HERE]\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi web interface to submit updates:\n\nhttps://bodhi.fedoraproject.org/updates/new"
					},
					{
						"isprivate": "0",
						"commentid": "12961360",
						"comment_count": "2",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-07-15 19:58:25 +0000",
						"thetext": "FEDORA-2019-d47a9d4b8b has been submitted as an update to Fedora 30. https://bodhi.fedoraproject.org/updates/FEDORA-2019-d47a9d4b8b"
					},
					{
						"isprivate": "0",
						"commentid": "12961866",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-07-16 00:54:33 +0000",
						"thetext": "edk2-20190501stable-2.fc30 has been pushed to the Fedora 30 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-d47a9d4b8b"
					},
					{
						"isprivate": "0",
						"commentid": "13070205",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-08-15 18:08:52 +0000",
						"thetext": "edk2-20190501stable-2.fc30 has been pushed to the Fedora 30 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1694085,
			"feedback": [
				{
					"bug_id": 1694085,
					"comment": {
						"id": 1000687,
						"karma": 1,
						"text": "+1",
						"timestamp": "2019-08-14 09:19:06",
						"update_id": 142882,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/2f2b587171cdabe19e85c9fdbad151effb8675add0763640b9fd57bb67c02e65?s=24&d=retro",
							"email": "smithpeter835@yahoo.co.uk",
							"groups": [
								{
									"name": "ipausers"
								}
							],
							"id": 506,
							"name": "smithp",
							"openid": "smithp.id.fedoraproject.org"
						},
						"user_id": 506
					},
					"comment_id": 1000687
				},
				{
					"bug_id": 1694085,
					"comment": {
						"id": 992061,
						"karma": 1,
						"text": "Works",
						"timestamp": "2019-08-08 12:17:04",
						"update_id": 142882,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/cd6029d8d81108a2a69c38a2373d2a185c0e86224b8ee4971cd77bb6cdad7a20?s=24&d=retro",
							"email": "walter.pete@yandex.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "provenpackager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "trust admins"
								}
							],
							"id": 491,
							"name": "pwalter",
							"openid": "pwalter.id.fedoraproject.org"
						},
						"user_id": 491
					},
					"comment_id": 992061
				},
				{
					"bug_id": 1694085,
					"comment": {
						"id": 973718,
						"karma": 1,
						"karma_critpath": 1,
						"text": "My UEFI machines in virt-manager boot fine",
						"timestamp": "2019-07-17 12:19:41",
						"update_id": 142882,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/dcc9b804c7f4931d90ad5f9b8b2518e79df4743a418f53589057dc035bddcd0d?s=24&d=retro",
							"email": "kparal@redhat.com",
							"groups": [
								{
									"name": "qa-tools-sig"
								},
								{
									"name": "proventesters"
								},
								{
									"name": "qa"
								},
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "qa-admin"
								},
								{
									"name": "common-issues-triage"
								},
								{
									"name": "trust admins"
								}
							],
							"id": 411,
							"name": "kparal",
							"openid": "kparal.id.fedoraproject.org"
						},
						"user_id": 411
					},
					"comment_id": 973718
				}
			],
			"security": true,
			"title": "CVE-2018-12179 CVE-2018-12182 CVE-2018-12183 CVE-2019-0161 edk2: various flaws [fedora-all]",
			"bugzilla": {
				"bug_id": "1694085",
				"creation_ts": "2019-03-29 13:34:49 +0000",
				"short_desc": "CVE-2018-12179 CVE-2018-12182 CVE-2018-12183 CVE-2019-0161 edk2: various flaws [fedora-all]",
				"delta_ts": "2019-08-15 18:08:35 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security, SecurityTracking",
				"priority": "medium",
				"bug_severity": "medium",
				"blocked": [
					{
						"bug_id": "1694065",
						"alias": "CVE-2019-0161",
						"creation_ts": "2019-03-29 12:21:34 +0000",
						"short_desc": "CVE-2019-0161 edk2: stack overflow in XHCI causing denial of service",
						"delta_ts": "2021-02-16 22:10:39 +0000",
						"bug_status": "CLOSED",
						"resolution": "ERRATA",
						"keywords": "Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"1687731",
							"1694085",
							"1694086",
							"1697533",
							"1697534",
							"1717250"
						],
						"blocked": [
							{
								"bug_id": "1694083",
								"error": "NotPermitted"
							}
						],
						"external_bugs": {
							"text": "RHSA-2019:2437",
							"name": "Red Hat Product Errata"
						},
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "12590890",
								"comment_count": "0",
								"who": {
									"text": "darunesh",
									"name": "Dhananjay Arunesh"
								},
								"bug_when": "2019-03-29 12:21:34 +0000",
								"thetext": "Stack overflow in XHCI for EDK II may allow an unauthenticated user to potentially enable denial of service via local access.\n\n\nReference:\nhttps://edk2-docs.gitbooks.io/security-advisory/content/xhci-stack-local-stack-overflow.html\n\nUpstream commits:\nhttps://github.com/tianocore/edk2/commit/acebdf14c985c5c9f50b37ece0b15ada87767359\nhttps://github.com/tianocore/edk2/commit/72750e3bf9174f15c17e78f0f117b5e7311bb49f"
							},
							{
								"isprivate": "0",
								"commentid": "12590891",
								"comment_count": "1",
								"who": {
									"text": "darunesh",
									"name": "Dhananjay Arunesh"
								},
								"bug_when": "2019-03-29 12:22:10 +0000",
								"thetext": "External References:\n\nhttps://edk2-docs.gitbooks.io/security-advisory/content/xhci-stack-local-stack-overflow.html"
							},
							{
								"isprivate": "0",
								"commentid": "12591121",
								"comment_count": "2",
								"who": {
									"text": "darunesh",
									"name": "Dhananjay Arunesh"
								},
								"bug_when": "2019-03-29 13:34:56 +0000",
								"thetext": "Created edk2 tracking bugs for this issue:\n\nAffects: fedora-all [bug 1694085]"
							},
							{
								"isprivate": "0",
								"commentid": "12591130",
								"comment_count": "3",
								"who": {
									"text": "darunesh",
									"name": "Dhananjay Arunesh"
								},
								"bug_when": "2019-03-29 13:35:49 +0000",
								"thetext": "Created edk2 tracking bugs for this issue:\n\nAffects: epel-all [bug 1694086]"
							},
							{
								"isprivate": "0",
								"commentid": "12598410",
								"comment_count": "4",
								"who": {
									"text": "rschiron",
									"name": "Riccardo Schirone"
								},
								"bug_when": "2019-04-01 18:01:09 +0000",
								"thetext": "Upstream issue:\nhttps://bugzilla.tianocore.org/show_bug.cgi?id=973"
							},
							{
								"isprivate": "0",
								"commentid": "13032030",
								"comment_count": "10",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2019-08-06 12:18:34 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 7\n\nVia RHSA-2019:2125 https://access.redhat.com/errata/RHSA-2019:2125"
							},
							{
								"isprivate": "0",
								"commentid": "13035166",
								"comment_count": "11",
								"who": {
									"text": "prodsec-dev",
									"name": "Product Security DevOps Team"
								},
								"bug_when": "2019-08-06 13:22:22 +0000",
								"thetext": "This bug is now closed. Further updates for individual products will be reflected on the CVE page(s):\n\nhttps://access.redhat.com/security/cve/cve-2019-0161"
							},
							{
								"isprivate": "0",
								"commentid": "13051113",
								"comment_count": "12",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2019-08-12 11:54:20 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Virtualization 4 for Red Hat Enterprise Linux 7\n\nVia RHSA-2019:2437 https://access.redhat.com/errata/RHSA-2019:2437"
							}
						]
					},
					{
						"bug_id": "1694072",
						"alias": "CVE-2018-12179",
						"creation_ts": "2019-03-29 12:51:06 +0000",
						"short_desc": "CVE-2018-12179 edk2: improper configuration insystem firmware leads to privilege escalation",
						"delta_ts": "2019-09-29 15:10:33 +0000",
						"bug_status": "CLOSED",
						"resolution": "NOTABUG",
						"keywords": "Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"1694085",
							"1694086"
						],
						"blocked": [
							{
								"bug_id": "1694083",
								"error": "NotPermitted"
							}
						],
						"external_bugs": {
							"text": "1133",
							"name": "TianoCore"
						},
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "12590969",
								"comment_count": "0",
								"who": {
									"text": "darunesh",
									"name": "Dhananjay Arunesh"
								},
								"bug_when": "2019-03-29 12:51:06 +0000",
								"thetext": "Improper configuration in system firmware for EDK II may allow unauthenticated user to potentially enable escalation of privilege, information disclosure and/or denial of service via local access.\n\nReference:\nhttps://edk2-docs.gitbooks.io/security-advisory/content/opal-blocksid-setting-disabled-after-s3.html"
							},
							{
								"isprivate": "0",
								"commentid": "12591124",
								"comment_count": "1",
								"who": {
									"text": "darunesh",
									"name": "Dhananjay Arunesh"
								},
								"bug_when": "2019-03-29 13:35:10 +0000",
								"thetext": "Created edk2 tracking bugs for this issue:\n\nAffects: fedora-all [bug 1694085]"
							},
							{
								"isprivate": "0",
								"commentid": "12591132",
								"comment_count": "2",
								"who": {
									"text": "darunesh",
									"name": "Dhananjay Arunesh"
								},
								"bug_when": "2019-03-29 13:36:02 +0000",
								"thetext": "Created edk2 tracking bugs for this issue:\n\nAffects: epel-all [bug 1694086]"
							},
							{
								"isprivate": "0",
								"commentid": "12598126",
								"comment_count": "3",
								"who": {
									"text": "lersek",
									"name": "Laszlo Ersek"
								},
								"bug_when": "2019-04-01 16:24:04 +0000",
								"thetext": "Can you please work with the TianoCore Bugzilla InfoSec group to open up the upstream ticket to the public? Thank you."
							},
							{
								"isprivate": "0",
								"commentid": "12619966",
								"comment_count": "4",
								"who": {
									"text": "rschiron",
									"name": "Riccardo Schirone"
								},
								"bug_when": "2019-04-08 15:36:34 +0000",
								"thetext": "Upstream bug:\nhttps://bugzilla.tianocore.org/show_bug.cgi?id=1133\n\nPatch proposed in upstream bug:\nhttps://bugzilla.tianocore.org/attachment.cgi?id=210"
							}
						]
					},
					{
						"bug_id": "1694077",
						"alias": "CVE-2018-12183",
						"creation_ts": "2019-03-29 13:01:51 +0000",
						"short_desc": "CVE-2018-12183 edk2: stack overflow in DxeCore leads to privilege escalation",
						"delta_ts": "2021-02-16 22:10:41 +0000",
						"bug_status": "CLOSED",
						"resolution": "NOTABUG",
						"keywords": "Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"1694085",
							"1694086"
						],
						"blocked": [
							{
								"bug_id": "1694083",
								"error": "NotPermitted"
							}
						],
						"external_bugs": {
							"text": "1137",
							"name": "TianoCore"
						},
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "12591000",
								"comment_count": "0",
								"who": {
									"text": "darunesh",
									"name": "Dhananjay Arunesh"
								},
								"bug_when": "2019-03-29 13:01:51 +0000",
								"thetext": "Stack overflow in DxeCore for EDK II may allow an unauthenticated user to potentially enable escalation of privilege, information disclosure and/or denial of service via local access.\n\nReference:\nhttps://edk2-docs.gitbooks.io/security-advisory/content/unlimited-fv-recursion.html\n\nUpstream commit:\nhttps://github.com/tianocore/edk2/commit/0a0d5296e448fc350de1594c49b9c0deff7fad60"
							},
							{
								"isprivate": "0",
								"commentid": "12591003",
								"comment_count": "1",
								"who": {
									"text": "darunesh",
									"name": "Dhananjay Arunesh"
								},
								"bug_when": "2019-03-29 13:02:17 +0000",
								"thetext": "External References:\n\nhttps://edk2-docs.gitbooks.io/security-advisory/content/unlimited-fv-recursion.html"
							},
							{
								"isprivate": "0",
								"commentid": "12591126",
								"comment_count": "2",
								"who": {
									"text": "darunesh",
									"name": "Dhananjay Arunesh"
								},
								"bug_when": "2019-03-29 13:35:17 +0000",
								"thetext": "Created edk2 tracking bugs for this issue:\n\nAffects: fedora-all [bug 1694085]"
							},
							{
								"isprivate": "0",
								"commentid": "12591133",
								"comment_count": "3",
								"who": {
									"text": "darunesh",
									"name": "Dhananjay Arunesh"
								},
								"bug_when": "2019-03-29 13:36:09 +0000",
								"thetext": "Created edk2 tracking bugs for this issue:\n\nAffects: epel-all [bug 1694086]"
							},
							{
								"isprivate": "0",
								"commentid": "12598173",
								"comment_count": "4",
								"who": {
									"text": "lersek",
									"name": "Laszlo Ersek"
								},
								"bug_when": "2019-04-01 16:36:04 +0000",
								"thetext": "(In reply to Dhananjay Arunesh from comment #1)\n> External References:\n> \n> https://edk2-docs.gitbooks.io/security-advisory/content/unlimited-fv-\n> recursion.html\n\nThis advisory references upstream bugs #1126 and #1137.\n\n- TianoCore#1126 is open to the public, and it identifies the commit hash (0a0d5296e4) at which the related series was completed. I don't see how that work is related to DxeCore stack overflow. The advisory names the same commit as well. IMO both of these may have been in error, in the advisory (i.e. both the commit hash and the BZ reference); although I could be proved wrong, obviously.\n\n- In comparison, TianoCore#1137 has not been opened up to the public. I guess that BZ tracks the actual security bug. Can you please work with the TianoCore Bugzilla InfoSec group to open up TianoCore#1137? Thanks."
							},
							{
								"isprivate": "0",
								"commentid": "12638816",
								"comment_count": "9",
								"who": {
									"text": "rschiron",
									"name": "Riccardo Schirone"
								},
								"bug_when": "2019-04-15 08:30:52 +0000",
								"thetext": "Upstream issues:\nhttps://bugzilla.tianocore.org/show_bug.cgi?id=1126\nhttps://bugzilla.tianocore.org/show_bug.cgi?id=1137"
							}
						]
					},
					{
						"bug_id": "1694081",
						"alias": "CVE-2018-12182",
						"creation_ts": "2019-03-29 13:24:49 +0000",
						"short_desc": "CVE-2018-12182 edk2: insufficient memory write in SMM service leads to privilege escalation",
						"delta_ts": "2019-09-29 15:10:33 +0000",
						"bug_status": "CLOSED",
						"resolution": "NOTABUG",
						"keywords": "Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"1694085",
							"1694086"
						],
						"blocked": [
							{
								"bug_id": "1694083",
								"error": "NotPermitted"
							}
						],
						"external_bugs": {
							"text": "1136",
							"name": "TianoCore"
						},
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "12591093",
								"comment_count": "0",
								"who": {
									"text": "darunesh",
									"name": "Dhananjay Arunesh"
								},
								"bug_when": "2019-03-29 13:24:49 +0000",
								"thetext": "Insufficient memory write check in SMM service for EDK II may allow an authenticated user to potentially enable escalation of privilege, information disclosure and/or denial of service via local access.\n\nReference:\nhttps://edk2-docs.gitbooks.io/security-advisory/content/sw-smi-confused-deputy-smramsavestate_c.html"
							},
							{
								"isprivate": "0",
								"commentid": "12591122",
								"comment_count": "1",
								"who": {
									"text": "darunesh",
									"name": "Dhananjay Arunesh"
								},
								"bug_when": "2019-03-29 13:35:03 +0000",
								"thetext": "Created edk2 tracking bugs for this issue:\n\nAffects: fedora-all [bug 1694085]"
							},
							{
								"isprivate": "0",
								"commentid": "12591131",
								"comment_count": "2",
								"who": {
									"text": "darunesh",
									"name": "Dhananjay Arunesh"
								},
								"bug_when": "2019-03-29 13:35:56 +0000",
								"thetext": "Created edk2 tracking bugs for this issue:\n\nAffects: epel-all [bug 1694086]"
							},
							{
								"isprivate": "0",
								"commentid": "12598180",
								"comment_count": "3",
								"who": {
									"text": "lersek",
									"name": "Laszlo Ersek"
								},
								"bug_when": "2019-04-01 16:37:46 +0000",
								"thetext": "Can you please work with the TianoCore Bugzilla InfoSec group so they open up TianoCore#1136 to the public? Thank you."
							},
							{
								"isprivate": "0",
								"commentid": "12600924",
								"comment_count": "4",
								"who": {
									"text": "darunesh",
									"name": "Dhananjay Arunesh"
								},
								"bug_when": "2019-04-02 12:12:37 +0000",
								"thetext": "nullIn reply to comment #3:\n> Can you please work with the TianoCore Bugzilla InfoSec group so they open\n> up TianoCore#1136 to the public? Thank you.\n\nThis will be handled by analyst who takes this issue."
							},
							{
								"isprivate": "0",
								"commentid": "12623499",
								"comment_count": "5",
								"who": {
									"text": "rschiron",
									"name": "Riccardo Schirone"
								},
								"bug_when": "2019-04-09 13:58:21 +0000",
								"thetext": "Upstream issue:\nhttps://bugzilla.tianocore.org/show_bug.cgi?id=1136\n\nUpstream proposed patch:\nhttps://bugzilla.tianocore.org/attachment.cgi?id=213"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "12591118",
						"comment_count": "0",
						"who": {
							"text": "darunesh",
							"name": "Dhananjay Arunesh"
						},
						"bug_when": "2019-03-29 13:34:49 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof fedora-all.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate."
					},
					{
						"isprivate": "0",
						"commentid": "12591120",
						"comment_count": "1",
						"who": {
							"text": "darunesh",
							"name": "Dhananjay Arunesh"
						},
						"bug_when": "2019-03-29 13:34:51 +0000",
						"thetext": "Use the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# low, medium, high, urgent (required)\nseverity=medium\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1694065,1694072,1694077,1694081,1694085\n\n# Description of your update\nnotes=Security fix for [PUT CVEs HERE]\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi web interface to submit updates:\n\nhttps://bodhi.fedoraproject.org/updates/new"
					},
					{
						"isprivate": "0",
						"commentid": "12961359",
						"comment_count": "2",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-07-15 19:58:23 +0000",
						"thetext": "FEDORA-2019-d47a9d4b8b has been submitted as an update to Fedora 30. https://bodhi.fedoraproject.org/updates/FEDORA-2019-d47a9d4b8b"
					},
					{
						"isprivate": "0",
						"commentid": "12961865",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-07-16 00:54:32 +0000",
						"thetext": "edk2-20190501stable-2.fc30 has been pushed to the Fedora 30 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-d47a9d4b8b"
					},
					{
						"isprivate": "0",
						"commentid": "13070203",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-08-15 18:08:35 +0000",
						"thetext": "edk2-20190501stable-2.fc30 has been pushed to the Fedora 30 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1701710,
			"feedback": [
				{
					"bug_id": 1701710,
					"comment": {
						"id": 1000687,
						"karma": 1,
						"text": "+1",
						"timestamp": "2019-08-14 09:19:06",
						"update_id": 142882,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/2f2b587171cdabe19e85c9fdbad151effb8675add0763640b9fd57bb67c02e65?s=24&d=retro",
							"email": "smithpeter835@yahoo.co.uk",
							"groups": [
								{
									"name": "ipausers"
								}
							],
							"id": 506,
							"name": "smithp",
							"openid": "smithp.id.fedoraproject.org"
						},
						"user_id": 506
					},
					"comment_id": 1000687
				},
				{
					"bug_id": 1701710,
					"comment": {
						"id": 992061,
						"karma": 1,
						"text": "Works",
						"timestamp": "2019-08-08 12:17:04",
						"update_id": 142882,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/cd6029d8d81108a2a69c38a2373d2a185c0e86224b8ee4971cd77bb6cdad7a20?s=24&d=retro",
							"email": "walter.pete@yandex.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "provenpackager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "trust admins"
								}
							],
							"id": 491,
							"name": "pwalter",
							"openid": "pwalter.id.fedoraproject.org"
						},
						"user_id": 491
					},
					"comment_id": 992061
				},
				{
					"bug_id": 1701710,
					"comment": {
						"id": 973718,
						"karma": 1,
						"karma_critpath": 1,
						"text": "My UEFI machines in virt-manager boot fine",
						"timestamp": "2019-07-17 12:19:41",
						"update_id": 142882,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/dcc9b804c7f4931d90ad5f9b8b2518e79df4743a418f53589057dc035bddcd0d?s=24&d=retro",
							"email": "kparal@redhat.com",
							"groups": [
								{
									"name": "qa-tools-sig"
								},
								{
									"name": "proventesters"
								},
								{
									"name": "qa"
								},
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "qa-admin"
								},
								{
									"name": "common-issues-triage"
								},
								{
									"name": "trust admins"
								}
							],
							"id": 411,
							"name": "kparal",
							"openid": "kparal.id.fedoraproject.org"
						},
						"user_id": 411
					},
					"comment_id": 973718
				}
			],
			"title": "VM turns on, uses a lot of CPU, uses almost no memory, indefinite black console screen",
			"bugzilla": {
				"bug_id": "1701710",
				"creation_ts": "2019-04-21 00:28:14 +0000",
				"short_desc": "VM turns on, uses a lot of CPU, uses almost no memory, indefinite black console screen",
				"delta_ts": "2019-08-15 18:08:34 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Reopened",
				"priority": "unspecified",
				"bug_severity": "unspecified",
				"external_bugs": {
					"text": "1859",
					"name": "TianoCore"
				},
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "12654259",
						"comment_count": "0",
						"who": {
							"text": "bugzilla",
							"name": "Chris Murphy"
						},
						"bug_when": "2019-04-21 00:28:14 +0000",
						"thetext": "Description of problem:\n\nShort version is it doesn't work out of the box. I'm only getting a black console screen on virt-manager with high CPU but almost no memory usage, no errors, and nothing else happens as in no progression beyond just high CPU usage and a black console.\n\nThis is all happening on a single computer.\n\nVersion-Release number of selected component (if applicable):\n\nvirt-manager-2.1.0-2.fc30.noarch\n\nedk2-ovmf-20190308stable-1.fc30.noarch\nipxe-roms-qemu-20190125-1.git36a4c85f.fc30.noarch\nlibvirt-5.1.0-4.fc30.x86_64\nlibvirt-bash-completion-5.1.0-4.fc30.x86_64\nlibvirt-client-5.1.0-4.fc30.x86_64\nlibvirt-daemon-5.1.0-4.fc30.x86_64\nlibvirt-daemon-config-network-5.1.0-4.fc30.x86_64\nlibvirt-daemon-config-nwfilter-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-interface-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-libxl-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-lxc-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-network-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-nodedev-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-nwfilter-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-qemu-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-secret-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-storage-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-storage-core-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-storage-disk-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-storage-gluster-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-storage-iscsi-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-storage-iscsi-direct-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-storage-logical-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-storage-mpath-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-storage-rbd-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-storage-scsi-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-storage-sheepdog-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-storage-zfs-5.1.0-4.fc30.x86_64\nlibvirt-daemon-driver-vbox-5.1.0-4.fc30.x86_64\nlibvirt-daemon-kvm-5.1.0-4.fc30.x86_64\nlibvirt-dbus-1.3.0-2.fc30.x86_64\nlibvirt-gconfig-2.0.0-3.fc30.x86_64\nlibvirt-glib-2.0.0-3.fc30.x86_64\nlibvirt-gobject-2.0.0-3.fc30.x86_64\nlibvirt-libs-5.1.0-4.fc30.x86_64\npython3-libvirt-5.1.0-1.fc30.x86_64\nqemu-audio-alsa-3.1.0-7.fc30.x86_64\nqemu-audio-oss-3.1.0-7.fc30.x86_64\nqemu-audio-pa-3.1.0-7.fc30.x86_64\nqemu-audio-sdl-3.1.0-7.fc30.x86_64\nqemu-block-curl-3.1.0-7.fc30.x86_64\nqemu-block-dmg-3.1.0-7.fc30.x86_64\nqemu-block-iscsi-3.1.0-7.fc30.x86_64\nqemu-block-nfs-3.1.0-7.fc30.x86_64\nqemu-block-rbd-3.1.0-7.fc30.x86_64\nqemu-block-ssh-3.1.0-7.fc30.x86_64\nqemu-common-3.1.0-7.fc30.x86_64\nqemu-guest-agent-3.1.0-7.fc30.x86_64\nqemu-img-3.1.0-7.fc30.x86_64\nqemu-kvm-3.1.0-7.fc30.x86_64\nqemu-system-x86-3.1.0-7.fc30.x86_64\nqemu-system-x86-core-3.1.0-7.fc30.x86_64\nqemu-ui-curses-3.1.0-7.fc30.x86_64\nqemu-ui-gtk-3.1.0-7.fc30.x86_64\nqemu-ui-sdl-3.1.0-7.fc30.x86_64\n\n\nHow reproducible:\nAlways\n\n\nSteps to Reproduce:\n1. Clean install Fedora-Workstation-Live-x86_64-30-20190415.n.2.iso\n2. Update with latest u-t\n3. `dnf group install Virtualization`\n4. `dnf install libvirt libvirt-dbus` because those are installed on two unrelated Fedora 29->30 systems.\n5. Create a new machine using the wizard, picking a local ISO for F30server, and a precreated raw file using fallocate, both are in /var/lib/libvirt/images/ are are selected in the wizard without problem.\n6. Choose the checkbox to customize\n7. Change from BIOS to UEFI firmware\n8. Start the VM\n\nActual results:\n\nIndefinite black screen, no error.\n\n\nExpected results:\n\nI should see Tianocore splash screen and then GRUB menu, or an error.\n\nAdditional info:"
					},
					{
						"isprivate": "0",
						"commentid": "12654260",
						"comment_count": "1",
						"who": {
							"text": "bugzilla",
							"name": "Chris Murphy"
						},
						"bug_when": "2019-04-21 00:29:27 +0000",
						"thetext": "Created attachment 1556789\nvm dumpxml"
					},
					{
						"isprivate": "0",
						"commentid": "12654261",
						"comment_count": "2",
						"who": {
							"text": "bugzilla",
							"name": "Chris Murphy"
						},
						"bug_when": "2019-04-21 00:30:44 +0000",
						"thetext": "Created attachment 1556790\nps aux\n\nshow the qemu command virt-manager issued to start the VM"
					},
					{
						"isprivate": "0",
						"commentid": "12654262",
						"comment_count": "3",
						"who": {
							"text": "bugzilla",
							"name": "Chris Murphy"
						},
						"bug_when": "2019-04-21 00:34:40 +0000",
						"thetext": "Created attachment 1556791\njournal excerpt\n\njournalctl -f, and then turn on the VM (button with the play icon) this is everything recorded over 5 minutes of black screen"
					},
					{
						"isprivate": "0",
						"commentid": "12654264",
						"comment_count": "4",
						"who": {
							"text": "bugzilla",
							"name": "Chris Murphy"
						},
						"bug_when": "2019-04-21 00:37:20 +0000",
						"thetext": "Curiously, this exact same machine was running virt-manager just fine with both Fedora 28 and Fedora 29 and each of those upgraded (dnf system-upgrade) to Fedora 30.\n\nOnly the clean install of Fedora 30 is failing to work."
					},
					{
						"isprivate": "0",
						"commentid": "12654281",
						"comment_count": "5",
						"who": {
							"text": "bugzilla",
							"name": "Chris Murphy"
						},
						"bug_when": "2019-04-21 01:28:00 +0000",
						"thetext": "Whenever I set memory to 2560, this happens. If I change it to 2048 or 3072 the problem doesn't happen. A value of 2560 works fine on a Fedora 29 Server.\n\nAnyway, it's either a regression bug in qemu, I guess? Or if it's now the correct behavior, then it's a bug in virt-manager for letting me enter an invalid value."
					},
					{
						"isprivate": "0",
						"commentid": "12660373",
						"comment_count": "6",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2019-04-23 14:41:07 +0000",
						"thetext": "Thanks for the report. Sounds strange indeed having a specific memory value tickling this. I'll try to reproduce"
					},
					{
						"isprivate": "0",
						"commentid": "12660837",
						"comment_count": "7",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2019-04-23 16:03:53 +0000",
						"thetext": "I can reproduce. It seems to be the combo of machine=q35 and edk2/uefi and the memory value. I tested both edk2-20190308stable-1.fc30 and older edk2-20180815gitcb5f4f45ce-5.fc30\n\nWith memory=2560, q35 + edk2 fails (no tianocore splash screen). q35+seabios and pc+edk2 work. With memory=2048 I don't see any failure. Other non-round memory values seem to tickle it too but I didn't investigate thoroughly\n\nI was testing with qemu-4.0.0-0.4.rc1.fc30.x86_64 which is newer, so 3.1 and 4.0 are affected. VM config was roughly similar to what Chris posted above.\n\nLaszlo have you heard of an issue like this?"
					},
					{
						"isprivate": "0",
						"commentid": "12662895",
						"comment_count": "8",
						"who": {
							"text": "lersek",
							"name": "Laszlo Ersek"
						},
						"bug_when": "2019-04-24 08:53:36 +0000",
						"thetext": "Yes, this is a known issue, and as much as I dislike it, it is\nunfixable. Please use memory sizes that work.\n\nFor details, please refer to bug 1666941 (up to and including\nbug 1666941 comment 13). The short version is that there are two\nproblems with arbitrary memory sizes:\n(a) PCIEXBAR placement disagreement between QEMU and OVMF,\n(b) MTRR configuration.\n\nProblem (a) is fixable (you can find the patches in\nbug 1666941 comment 14), but fixing just (a) is insufficient, to remove\nthe symptom.\n\nProblem (b) is unfixable (see bug 1666941 comment 13). If a small RAM\nsize is needed, please pick one that works, e.g. from the following\nlist:\n-  512 MB\n-  768 MB\n- 1024 MB\n- 1536 MB\n- 2048 MB\n- 3072 MB\n- 4096 MB\n\nMy apologies."
					},
					{
						"isprivate": "0",
						"commentid": "12665390",
						"comment_count": "9",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2019-04-24 21:18:05 +0000",
						"thetext": "Thanks Laszlo, that's interesting. If this is CANTFIX at the edk2 level then IMO we need to do something at a higher level, the failure scenario here of 'black screen VM that doesn't work' is horrible and going to generate lots of bug reports I imagine. Maybe libvirt or qemu can catch this situation and error for starters. I'll start a thread internally, I'm sure someone can come up with some clever idea."
					},
					{
						"isprivate": "0",
						"commentid": "12699289",
						"comment_count": "10",
						"who": {
							"text": "lersek",
							"name": "Laszlo Ersek"
						},
						"bug_when": "2019-05-03 16:04:32 +0000",
						"thetext": "https://bugzilla.redhat.com/show_bug.cgi?id=1666941#c20"
					},
					{
						"isprivate": "0",
						"commentid": "12745583",
						"comment_count": "11",
						"who": {
							"text": "lersek",
							"name": "Laszlo Ersek"
						},
						"bug_when": "2019-05-16 19:36:11 +0000",
						"thetext": "Upstream commits:\n\n$ git log --oneline --reverse 3b7a897cd8e3..39b9a5ffe661 | cat -n\n     1  60e95bf5094f OvmfPkg/PlatformPei: assign PciSize on both i440fx/q35 branches explicitly\n     2  9a2e8d7c65ef OvmfPkg/PlatformPei: hoist PciBase assignment above the i440fx/q35 branching\n     3  75136b29541b OvmfPkg/PlatformPei: reorder the 32-bit PCI window vs. the PCIEXBAR on q35\n     4  39b9a5ffe661 OvmfPkg/PlatformPei: fix MTRR for low-RAM sizes that have many bits clear"
					},
					{
						"isprivate": "0",
						"commentid": "12745705",
						"comment_count": "12",
						"who": {
							"text": "lersek",
							"name": "Laszlo Ersek"
						},
						"bug_when": "2019-05-16 20:16:08 +0000",
						"thetext": "Cole, Gerd, Paolo, in place of picking the above patches, you might want\nto rebase edk2 to the upcoming edk2-stable201905 release.\n\n  Date (00:00:00 UTC-8)  Description\n  ---------------------  ------------------------\n  2018-03-08 (12PM)      Beginning of development\n  2019-05-17             Soft Feature Freeze\n  2019-05-24             Hard Feature Freeze\n  2019-05-31             Release\n\nWhenever you rebase to edk2-stable201905, please remember that the\nfollowing \"-D\" build flags have been renamed:\n\n- HTTP_BOOT_ENABLE --> NETWORK_HTTP_BOOT_ENABLE\n- TLS_ENABLE       --> NETWORK_TLS_ENABLE\n\nDue to <https://bugzilla.tianocore.org/show_bug.cgi?id=1293>.\n\n\nOther upstream BZs fixed in this release that are important for\nArmVirtQemu and/or OVMF are listed below. (Note that the upstream list\nof proposed BZs that I'm picking the below from is not final yet --\ncheck at <https://github.com/tianocore/edk2/releases/> once the upstream\nrelease has been cut.)\n\n* Update OpenSSL version to upcoming 1.1.1\n  https://bugzilla.tianocore.org/show_bug.cgi?id=1089\n\n  Downstream TODO: use Fedora's \"OpenSSL-1.1.1b\".\n\n  (This upstream BZ might not make the edk2-stable201905 release.)\n\n* Replace BSD 2-Clause License with BSD + Patent Licence\n  https://bugzilla.tianocore.org/show_bug.cgi?id=1373\n\n  Downstream TODO: update License tags in the spec file. The short name\n  \"BSD\" should be replaced with \"BSD-2-Clause-Patent\" -- see at\n  <https://fedoraproject.org/wiki/Licensing:Main?rd=Licensing#Good_Licenses>.\n  Edk2 code covered by different licenses such as MIT is not affected by\n  this re-licensing.\n\n* Upstream the EnrollDefaultKeys application to OvmfPkg\n  https://bugzilla.tianocore.org/show_bug.cgi?id=1747\n\n  Downstream TODO:\n\n  - Drop the downstream-only patch adding EnrollDefaultKeys.\n\n  - Open a ticket with <secalert@redhat.com> so that they send you the\n    self-signed X509 certificate for the following entity, in PEM\n    format:\n\n    \"Red Hat Secure Boot (PK/KEK key 1)/emailAddress=secalert@redhat.com\"\n    SHA1: fdfc7f3c7ef3e05776add79878216c9be0e19597\n    SHA256: 7f122fab825041c2b0c67696bb151db6f39fed7df2d1104107f5b892b354ef5c\n\n    (I'm going to attach the same for convenience, but verify with\n    ProdSec, just to be sure.)\n\n    Package this certificate as another source file in the SRPM.\n\n  - Refer to the \"sed\" command in\n    <https://bugzilla.tianocore.org/show_bug.cgi?id=1747#c2> for\n    extracting the raw base64 string from the PEM-encoded certificate,\n    in the spec file.\n\n  - Refer to <https://bugzilla.tianocore.org/show_bug.cgi?id=1747#c7>\n    for passing the string to QEMU, when you launch\n    \"EnrollDefaultKeys.efi\", also in the spec file.\n\nThanks."
					},
					{
						"isprivate": "0",
						"commentid": "12745720",
						"comment_count": "13",
						"who": {
							"text": "lersek",
							"name": "Laszlo Ersek"
						},
						"bug_when": "2019-05-16 20:18:39 +0000",
						"thetext": "Created attachment 1569795\n\"Red Hat Secure Boot (PK/KEK key 1)\", for comment 12"
					},
					{
						"isprivate": "0",
						"commentid": "12745736",
						"comment_count": "14",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2019-05-16 20:33:48 +0000",
						"thetext": "Thanks for the work Laszlo! I'm fine with waiting for the stable release"
					},
					{
						"isprivate": "0",
						"commentid": "12758931",
						"comment_count": "15",
						"who": {
							"text": "lersek",
							"name": "Laszlo Ersek"
						},
						"bug_when": "2019-05-21 21:43:02 +0000",
						"thetext": "(In reply to Laszlo Ersek from comment #12)\n\n> * Upstream the EnrollDefaultKeys application to OvmfPkg\n>   https://bugzilla.tianocore.org/show_bug.cgi?id=1747\n> \n>   Downstream TODO:\n> \n>   - Drop the downstream-only patch adding EnrollDefaultKeys.\n> \n>   - Open a ticket with <secalert@redhat.com> so that they send you the\n>     self-signed X509 certificate for the following entity, in PEM\n>     format:\n> \n>     \"Red Hat Secure Boot (PK/KEK key 1)/emailAddress=secalert@redhat.com\"\n>     SHA1: fdfc7f3c7ef3e05776add79878216c9be0e19597\n>     SHA256: 7f122fab825041c2b0c67696bb151db6f39fed7df2d1104107f5b892b354ef5c\n> \n>     (I'm going to attach the same for convenience, but verify with\n>     ProdSec, just to be sure.)\n> \n>     Package this certificate as another source file in the SRPM.\n> \n>   - Refer to the \"sed\" command in\n>     <https://bugzilla.tianocore.org/show_bug.cgi?id=1747#c2> for\n>     extracting the raw base64 string from the PEM-encoded certificate,\n>     in the spec file.\n> \n>   - Refer to <https://bugzilla.tianocore.org/show_bug.cgi?id=1747#c7>\n>     for passing the string to QEMU, when you launch\n>     \"EnrollDefaultKeys.efi\", also in the spec file.\n\nIt's also necessary to use qemu-ovmf-secureboot @ commit f158f12be754 (\"Pass OEM Strings to the guest\", 2019-05-21) or later, for this.\n\nhttps://github.com/puiterwijk/qemu-ovmf-secureboot/commit/f158f12be75482489b64330f7c5ee8b8138f04c7\n\nThanks."
					},
					{
						"isprivate": "0",
						"commentid": "12803064",
						"comment_count": "16",
						"who": {
							"text": "lersek",
							"name": "Laszlo Ersek"
						},
						"bug_when": "2019-06-03 16:56:39 +0000",
						"thetext": "Another note on the rebase to edk2-stable201905: edk2 has gained a new git submodule, namely \"SoftFloat\" (<https://github.com/ucb-bar/berkeley-softfloat-3.git>). This should be added as another tarball (= source file) in the SRPM, most likely."
					},
					{
						"isprivate": "0",
						"commentid": "12816493",
						"comment_count": "17",
						"who": {
							"text": "lersek",
							"name": "Laszlo Ersek"
						},
						"bug_when": "2019-06-06 13:37:04 +0000",
						"thetext": "edk2-stable201905 has been released today.\n\nhttps://github.com/tianocore/edk2/releases/tag/edk2-stable201905"
					},
					{
						"isprivate": "0",
						"commentid": "12961358",
						"comment_count": "18",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-07-15 19:58:21 +0000",
						"thetext": "FEDORA-2019-d47a9d4b8b has been submitted as an update to Fedora 30. https://bodhi.fedoraproject.org/updates/FEDORA-2019-d47a9d4b8b"
					},
					{
						"isprivate": "0",
						"commentid": "12961864",
						"comment_count": "19",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-07-16 00:54:30 +0000",
						"thetext": "edk2-20190501stable-2.fc30 has been pushed to the Fedora 30 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-d47a9d4b8b"
					},
					{
						"isprivate": "0",
						"commentid": "13070202",
						"comment_count": "20",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-08-15 18:08:34 +0000",
						"thetext": "edk2-20190501stable-2.fc30 has been pushed to the Fedora 30 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1728652,
			"feedback": [
				{
					"bug_id": 1728652,
					"comment": {
						"id": 1000687,
						"karma": 1,
						"text": "+1",
						"timestamp": "2019-08-14 09:19:06",
						"update_id": 142882,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/2f2b587171cdabe19e85c9fdbad151effb8675add0763640b9fd57bb67c02e65?s=24&d=retro",
							"email": "smithpeter835@yahoo.co.uk",
							"groups": [
								{
									"name": "ipausers"
								}
							],
							"id": 506,
							"name": "smithp",
							"openid": "smithp.id.fedoraproject.org"
						},
						"user_id": 506
					},
					"comment_id": 1000687
				},
				{
					"bug_id": 1728652,
					"comment": {
						"id": 992061,
						"karma": 1,
						"text": "Works",
						"timestamp": "2019-08-08 12:17:04",
						"update_id": 142882,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/cd6029d8d81108a2a69c38a2373d2a185c0e86224b8ee4971cd77bb6cdad7a20?s=24&d=retro",
							"email": "walter.pete@yandex.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "provenpackager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "trust admins"
								}
							],
							"id": 491,
							"name": "pwalter",
							"openid": "pwalter.id.fedoraproject.org"
						},
						"user_id": 491
					},
					"comment_id": 992061
				},
				{
					"bug_id": 1728652,
					"comment": {
						"id": 973718,
						"karma": 1,
						"karma_critpath": 1,
						"text": "My UEFI machines in virt-manager boot fine",
						"timestamp": "2019-07-17 12:19:41",
						"update_id": 142882,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/dcc9b804c7f4931d90ad5f9b8b2518e79df4743a418f53589057dc035bddcd0d?s=24&d=retro",
							"email": "kparal@redhat.com",
							"groups": [
								{
									"name": "qa-tools-sig"
								},
								{
									"name": "proventesters"
								},
								{
									"name": "qa"
								},
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								},
								{
									"name": "qa-admin"
								},
								{
									"name": "common-issues-triage"
								},
								{
									"name": "trust admins"
								}
							],
							"id": 411,
							"name": "kparal",
							"openid": "kparal.id.fedoraproject.org"
						},
						"user_id": 411
					},
					"comment_id": 973718
				}
			],
			"title": "RFE: Ship the JSON firmware \"descriptor files\" as part of EDK2",
			"bugzilla": {
				"bug_id": "1728652",
				"creation_ts": "2019-07-10 11:16:12 +0000",
				"short_desc": "RFE: Ship the JSON firmware \"descriptor files\" as part of EDK2",
				"delta_ts": "2019-08-15 18:08:30 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"priority": "unspecified",
				"bug_severity": "unspecified",
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "12947674",
						"comment_count": "0",
						"who": {
							"text": "kchamart",
							"name": "Kashyap Chamarthy"
						},
						"bug_when": "2019-07-10 11:16:12 +0000",
						"thetext": "Description of the problem\n--------------------------\n\nFrom version 4.1 (due in August 2019) onwards, QEMU ships the so-called\nfirmware \"descriptor files\".  These are small JSON files that describe\ndetails about UEFI firmware binaries — such as the fimware binary path,\nits architecture, supported machine type, NVRAM template and so forth.\n\nYou can see examples of these files from the QEMU upstream Git:\nhttps://git.qemu.org/?p=qemu.git;a=tree;f=pc-bios/descriptors\n\n    $> tree descriptors/\n    descriptors/\n    ├── 50-edk2-i386-secure.json\n    ├── 50-edk2-x86_64-secure.json\n    ├── 60-edk2-aarch64.json\n    ├── 60-edk2-arm.json\n    ├── 60-edk2-i386.json\n    └── 60-edk2-x86_64.json\n\nQEMU 4.1 itself will ship the above files.  However, Fedora needs[*] to \nship these file as part of its EDK2 package.\n\nWhat problem does this solve?\n-----------------------------\n\nThe said descritptor files allow high-level virtualization management\ntools to systemtically query the features of a given firmware binary,\nbased on which the tool can make further decisions.  E.g. the libvirt\nproject has been wired up to take advantage of these descriptor files;\nwith that, libvirt knows the \"characteristics\" and features of a \nfirmware binary.  This info, in turn, can be used by tools OpenStack\n(which uses libvirt APIs) to make further decisions -- e.g. whether to\nallow UEFI Secure Boot for guests, etc.\n\n\n[*] Why should Fedora ship these when QEMU already bundles them?\n----------------------------------------------------------------\n\nQuoting (with minor formatting edits) Laszlo Ersek:\n\n    Distributions providing their own EDK2 packages would not include\n    the descriptors from upstream QEMU, even if they otherwise package\n    QEMU.  That's beause the descriptor files in QEMU match the firmware\n    bundled with QEMU -- but the firmware images in the distros' own\n    EDK2 packages are different.  So, if a distro provides an EDK2\n    package, then the same EDK2 package should offer matching\n    descriptors.  QEMU offers descriptors (soon) because QEMU\n    technically distributes edk2 firmware binaries (soon).  [Where\n    \"soon\" == QEMU 4.1)\n\nAlso, as Dan Berrangé reminded me on IRC:\n\n    In Fedora, we need to ship them [the \"descriptor files\"] as part of\n    the EDK2 package, because Fedora throws away all the firmware files\n    that QEMU bundles, because we're [Fedora] required to rebuild\n    everything from pristine source."
					},
					{
						"isprivate": "0",
						"commentid": "12949635",
						"comment_count": "1",
						"who": {
							"text": "kchamart",
							"name": "Kashyap Chamarthy"
						},
						"bug_when": "2019-07-10 18:20:20 +0000",
						"thetext": "WIP pull request:\n\n    https://src.fedoraproject.org/rpms/edk2/pull-request/3"
					},
					{
						"isprivate": "0",
						"commentid": "12952703",
						"comment_count": "2",
						"who": {
							"text": "lersek",
							"name": "Laszlo Ersek"
						},
						"bug_when": "2019-07-11 15:14:17 +0000",
						"thetext": "Created attachment 1589575\nproposed firmware descriptor files\n\nThe directory structure within the tarball reflects the subpackages of the Fedora edk2 package:\n\nfedora-edk2/\nfedora-edk2/aarch64/\nfedora-edk2/aarch64/70-edk2-aarch64-verbose.json\nfedora-edk2/arm/\nfedora-edk2/arm/70-edk2-arm-verbose.json\nfedora-edk2/ovmf-ia32/\nfedora-edk2/ovmf-ia32/40-edk2-ovmf-ia32-sb-enrolled.json\nfedora-edk2/ovmf-ia32/50-edk2-ovmf-ia32-sb.json\nfedora-edk2/ovmf-ia32/60-edk2-ovmf-ia32.json\nfedora-edk2/ovmf/\nfedora-edk2/ovmf/40-edk2-ovmf-sb-enrolled.json\nfedora-edk2/ovmf/50-edk2-ovmf-sb.json\nfedora-edk2/ovmf/60-edk2-ovmf.json\n\nThis is meant to show what JSON file(s) should be included in what subpackage.\n\nWith regard to installing the JSON files on the target system, all files should go flat under \"/usr/share/qemu/firmware/\" (the filenames are unique without the directory prefixes too):\n\n40-edk2-ovmf-ia32-sb-enrolled.json\n40-edk2-ovmf-sb-enrolled.json\n50-edk2-ovmf-ia32-sb.json\n50-edk2-ovmf-sb.json\n60-edk2-ovmf-ia32.json\n60-edk2-ovmf.json\n70-edk2-aarch64-verbose.json\n70-edk2-arm-verbose.json"
					},
					{
						"isprivate": "0",
						"commentid": "12953907",
						"comment_count": "3",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2019-07-12 00:10:25 +0000",
						"thetext": "As another data point, Gerd's nightly builds have a script for generating json files: https://git.kraxel.org/cgit/jenkins/edk2/commit/?id=d69296594f3cfdba817483b6c8aeea65a18987f4"
					},
					{
						"isprivate": "0",
						"commentid": "12954822",
						"comment_count": "4",
						"who": {
							"text": "kchamart",
							"name": "Kashyap Chamarthy"
						},
						"bug_when": "2019-07-12 09:01:48 +0000",
						"thetext": "(In reply to Cole Robinson from comment #3)\n> As another data point, Gerd's nightly builds have a script for generating\n> json files:\n> https://git.kraxel.org/cgit/jenkins/edk2/commit/\n> ?id=d69296594f3cfdba817483b6c8aeea65a18987f4\n\n(In reply to Laszlo Ersek from comment #2)\n> Created attachment 1589575 [details]\n> proposed firmware descriptor files\n> \n> The directory structure within the tarball reflects the subpackages of the\n> Fedora edk2 package:\n> \n> fedora-edk2/\n> fedora-edk2/aarch64/\n> fedora-edk2/aarch64/70-edk2-aarch64-verbose.json\n> fedora-edk2/arm/\n> fedora-edk2/arm/70-edk2-arm-verbose.json\n> fedora-edk2/ovmf-ia32/\n> fedora-edk2/ovmf-ia32/40-edk2-ovmf-ia32-sb-enrolled.json\n> fedora-edk2/ovmf-ia32/50-edk2-ovmf-ia32-sb.json\n> fedora-edk2/ovmf-ia32/60-edk2-ovmf-ia32.json\n> fedora-edk2/ovmf/\n> fedora-edk2/ovmf/40-edk2-ovmf-sb-enrolled.json\n> fedora-edk2/ovmf/50-edk2-ovmf-sb.json\n> fedora-edk2/ovmf/60-edk2-ovmf.json\n>\n> This is meant to show what JSON file(s) should be included in what\n> subpackage.\n\nYeah, that's useful.\n \n> With regard to installing the JSON files on the target system, all files\n> should go flat under \"/usr/share/qemu/firmware/\" (the filenames are unique\n> without the directory prefixes too):\n> \n> 40-edk2-ovmf-ia32-sb-enrolled.json\n> 40-edk2-ovmf-sb-enrolled.json\n> 50-edk2-ovmf-ia32-sb.json\n> 50-edk2-ovmf-sb.json\n> 60-edk2-ovmf-ia32.json\n> 60-edk2-ovmf.json\n> 70-edk2-aarch64-verbose.json\n> 70-edk2-arm-verbose.json\n\nNoted; thanks for the descriptor files.  And the review."
					},
					{
						"isprivate": "0",
						"commentid": "12954824",
						"comment_count": "5",
						"who": {
							"text": "kchamart",
							"name": "Kashyap Chamarthy"
						},
						"bug_when": "2019-07-12 09:02:13 +0000",
						"thetext": "(In reply to Cole Robinson from comment #3)\n> As another data point, Gerd's nightly builds have a script for generating\n> json files:\n> https://git.kraxel.org/cgit/jenkins/edk2/commit/\n> ?id=d69296594f3cfdba817483b6c8aeea65a18987f4\n\nAh, interesting.  Thanks for the pointer, Cole."
					},
					{
						"isprivate": "0",
						"commentid": "12956775",
						"comment_count": "6",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2019-07-12 20:11:47 +0000",
						"thetext": "Okay a build is in progress, thanks for the help folks: https://koji.fedoraproject.org/koji/buildinfo?buildID=1312544\n\nSome small changes I made:\n\n* non-ia32 edk2-ovmf*.json files are renamed to edk2-ovmf-x64*.json to make it easier to glob by arch\n* ovmf-ia32/ now has its own _VARS files so it doesn't need to implicitly depend on the ones in ovmf/\n\nI tested with latest libvirt and virt-install --boot firmware=efi and it all seemed to work well, except aarch64 which I think is a libvirt problem: https://bugzilla.redhat.com/show_bug.cgi?id=1729604\n\nDoes anyone know what the plan in libvirt is to actually allow users to determine choices? Like there's 70-edk2-aarch64-verbose.json, but what if we start shipping a non-verbose version, is it intended that libvirt users can make that distinction via the XML?"
					},
					{
						"isprivate": "0",
						"commentid": "12960126",
						"comment_count": "7",
						"who": {
							"text": "lersek",
							"name": "Laszlo Ersek"
						},
						"bug_when": "2019-07-15 12:45:45 +0000",
						"thetext": "- If we start shipping a non-verbose version, that should get priority 60 (at the system level); per <https://src.fedoraproject.org/rpms/edk2/pull-request/3#comment-27523>.\n\n- Overriding priorities *per domain* doesn't seem useful; if it's about a specific domain, the user can already pick a specific firmware binary + varstore template.\n\n- Setting preferences (defaults for new VMs) with different priorities is supported; please see the following snippet from \"docs/interop/firmware.json\" in the QEMU tree (I think it also may be documented somewhere in the libvirt docs, but I don't recall where):\n\n# It is recommended to create firmware JSON files (each containing a\n# single @Firmware root element) with a double-digit prefix, for example\n# \"50-ovmf.json\", \"50-seabios-256k.json\", etc, so they can be sorted in\n# predictable order. The firmware JSON files should be searched for in\n# three directories:\n#\n#   - /usr/share/qemu/firmware -- populated by distro-provided firmware\n#                                 packages (XDG_DATA_DIRS covers\n#                                 /usr/share by default),\n#\n#   - /etc/qemu/firmware -- exclusively for sysadmins' local additions,\n#\n#   - $XDG_CONFIG_HOME/qemu/firmware -- exclusively for per-user local\n#                                       additions (XDG_CONFIG_HOME\n#                                       defaults to $HOME/.config).\n#\n# Top-down, the list of directories goes from general to specific.\n#\n# Management software should build a list of files from all three\n# locations, then sort the list by filename (i.e., last pathname\n# component). Management software should choose the first JSON file on\n# the sorted list that matches the search criteria. If a more specific\n# directory has a file with same name as a less specific directory, then\n# the file in the more specific directory takes effect. If the more\n# specific file is zero length, it hides the less specific one.\n#\n# For example, if a distro ships\n#\n#   - /usr/share/qemu/firmware/50-ovmf.json\n#\n#   - /usr/share/qemu/firmware/50-seabios-256k.json\n#\n# then the sysadmin can prevent the default OVMF being used at all with\n#\n#   $ touch /etc/qemu/firmware/50-ovmf.json\n#\n# The sysadmin can replace/alter the distro default OVMF with\n#\n#   $ vim /etc/qemu/firmware/50-ovmf.json\n#\n# or they can provide a parallel OVMF with higher priority\n#\n#   $ vim /etc/qemu/firmware/10-ovmf.json\n#\n# or they can provide a parallel OVMF with lower priority\n#\n#   $ vim /etc/qemu/firmware/99-ovmf.json"
					},
					{
						"isprivate": "0",
						"commentid": "12960698",
						"comment_count": "8",
						"who": {
							"text": "kchamart",
							"name": "Kashyap Chamarthy"
						},
						"bug_when": "2019-07-15 15:13:34 +0000",
						"thetext": "Merged:\n\n    https://src.fedoraproject.org/rpms/edk2/c/674b3c8a27a8 (Ship the JSON firmware \"descriptor files\")\n\n    https://src.fedoraproject.org/rpms/edk2/c/429a2758cc5c (Copy VARS from plain ovmf/ to ovmf-ia32/)\n\n    https://src.fedoraproject.org/rpms/edk2/c/167eadb8ba32 (Give all json file categories a unique matchable prefix)"
					},
					{
						"isprivate": "0",
						"commentid": "12961356",
						"comment_count": "9",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-07-15 19:58:18 +0000",
						"thetext": "FEDORA-2019-d47a9d4b8b has been submitted as an update to Fedora 30. https://bodhi.fedoraproject.org/updates/FEDORA-2019-d47a9d4b8b"
					},
					{
						"isprivate": "0",
						"commentid": "12961862",
						"comment_count": "10",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-07-16 00:54:28 +0000",
						"thetext": "edk2-20190501stable-2.fc30 has been pushed to the Fedora 30 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2019-d47a9d4b8b"
					},
					{
						"isprivate": "0",
						"commentid": "13070200",
						"comment_count": "11",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2019-08-15 18:08:30 +0000",
						"thetext": "edk2-20190501stable-2.fc30 has been pushed to the Fedora 30 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		}
	],
	"builds": [
		{
			"epoch": 0,
			"nvr": "edk2-20190501stable-2.fc30",
			"release_id": 28,
			"signed": true,
			"type": "rpm",
			"package": {
				"aarch64": [
					{
						"name": "edk2-tools",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "aarch64"
					},
					{
						"name": "edk2-debugsource",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "aarch64"
					},
					{
						"name": "edk2-tools-debuginfo",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "aarch64"
					}
				],
				"armv7hl": [
					{
						"name": "edk2-debugsource",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "armv7hl"
					},
					{
						"name": "edk2-tools-debuginfo",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "armv7hl"
					},
					{
						"name": "edk2-tools",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "armv7hl"
					}
				],
				"i686": [
					{
						"name": "edk2-tools",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "i686"
					},
					{
						"name": "edk2-tools-debuginfo",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "i686"
					},
					{
						"name": "edk2-debugsource",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "i686"
					}
				],
				"noarch": [
					{
						"name": "edk2-arm",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "noarch"
					},
					{
						"name": "edk2-tools-python",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "noarch"
					},
					{
						"name": "edk2-ovmf-ia32",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "noarch"
					},
					{
						"name": "edk2-qosb",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "noarch"
					},
					{
						"name": "edk2-aarch64",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "noarch"
					},
					{
						"name": "edk2-tools-doc",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "noarch"
					},
					{
						"name": "edk2-ovmf",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "noarch"
					}
				],
				"src": [
					{
						"name": "edk2",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "src"
					}
				],
				"x86_64": [
					{
						"name": "edk2-tools-debuginfo",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "x86_64"
					},
					{
						"name": "edk2-tools",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "x86_64"
					},
					{
						"name": "edk2-debugsource",
						"version": "20190501stable",
						"release": "2.fc30",
						"arch": "x86_64"
					}
				]
			}
		}
	],
	"close_bugs": true,
	"comments": [
		{
			"id": 972799,
			"text": "This update has been submitted for testing by crobinso. ",
			"timestamp": "2019-07-15 19:55:59",
			"update_id": 142882,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 972800,
			"text": "This update test gating status has been changed to 'waiting'.",
			"timestamp": "2019-07-15 19:55:59",
			"update_id": 142882,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 972801,
			"text": "This update test gating status has been changed to 'ignored'.",
			"timestamp": "2019-07-15 19:56:02",
			"update_id": 142882,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 972802,
			"text": "crobinso edited this update.",
			"timestamp": "2019-07-15 19:58:15",
			"update_id": 142882,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 972870,
			"text": "This update has been pushed to testing.",
			"timestamp": "2019-07-16 00:54:46",
			"update_id": 142882,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"bug_feedback": [
				{
					"bug": {
						"bug_id": 1688596,
						"title": "edk2-ovmf-ia32 is missing OVMF_VARS"
					},
					"bug_id": 1688596,
					"comment_id": 973718
				},
				{
					"bug": {
						"bug_id": 1691645,
						"security": true,
						"title": "CVE-2019-0160 edk2: buffer overflows in PartitionDxe and UdfDxe with long file names and invalid UDF media [fedora-all]"
					},
					"bug_id": 1691645,
					"comment_id": 973718
				},
				{
					"bug": {
						"bug_id": 1694085,
						"security": true,
						"title": "CVE-2018-12179 CVE-2018-12182 CVE-2018-12183 CVE-2019-0161 edk2: various flaws [fedora-all]"
					},
					"bug_id": 1694085,
					"comment_id": 973718
				},
				{
					"bug": {
						"bug_id": 1701710,
						"title": "VM turns on, uses a lot of CPU, uses almost no memory, indefinite black console screen"
					},
					"bug_id": 1701710,
					"comment_id": 973718
				},
				{
					"bug": {
						"bug_id": 1728652,
						"title": "RFE: Ship the JSON firmware \"descriptor files\" as part of EDK2"
					},
					"bug_id": 1728652,
					"comment_id": 973718
				}
			],
			"id": 973718,
			"karma": 1,
			"karma_critpath": 1,
			"text": "My UEFI machines in virt-manager boot fine",
			"timestamp": "2019-07-17 12:19:41",
			"update_id": 142882,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/dcc9b804c7f4931d90ad5f9b8b2518e79df4743a418f53589057dc035bddcd0d?s=24&d=retro",
				"email": "kparal@redhat.com",
				"groups": [
					{
						"name": "qa-tools-sig"
					},
					{
						"name": "proventesters"
					},
					{
						"name": "qa"
					},
					{
						"name": "packager"
					},
					{
						"name": "ipausers"
					},
					{
						"name": "fedora-contributor"
					},
					{
						"name": "signed_fpca"
					},
					{
						"name": "fedorabugs"
					},
					{
						"name": "qa-admin"
					},
					{
						"name": "common-issues-triage"
					},
					{
						"name": "trust admins"
					}
				],
				"id": 411,
				"name": "kparal",
				"openid": "kparal.id.fedoraproject.org"
			},
			"user_id": 411
		},
		{
			"id": 981141,
			"text": "This update can be pushed to stable now if the maintainer wishes",
			"timestamp": "2019-07-30 00:54:05",
			"update_id": 142882,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"bug_feedback": [
				{
					"bug": {
						"bug_id": 1688596,
						"title": "edk2-ovmf-ia32 is missing OVMF_VARS"
					},
					"bug_id": 1688596,
					"comment_id": 992061
				},
				{
					"bug": {
						"bug_id": 1691645,
						"security": true,
						"title": "CVE-2019-0160 edk2: buffer overflows in PartitionDxe and UdfDxe with long file names and invalid UDF media [fedora-all]"
					},
					"bug_id": 1691645,
					"comment_id": 992061
				},
				{
					"bug": {
						"bug_id": 1694085,
						"security": true,
						"title": "CVE-2018-12179 CVE-2018-12182 CVE-2018-12183 CVE-2019-0161 edk2: various flaws [fedora-all]"
					},
					"bug_id": 1694085,
					"comment_id": 992061
				},
				{
					"bug": {
						"bug_id": 1701710,
						"title": "VM turns on, uses a lot of CPU, uses almost no memory, indefinite black console screen"
					},
					"bug_id": 1701710,
					"comment_id": 992061
				},
				{
					"bug": {
						"bug_id": 1728652,
						"title": "RFE: Ship the JSON firmware \"descriptor files\" as part of EDK2"
					},
					"bug_id": 1728652,
					"comment_id": 992061
				}
			],
			"id": 992061,
			"karma": 1,
			"text": "Works",
			"timestamp": "2019-08-08 12:17:04",
			"update_id": 142882,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/cd6029d8d81108a2a69c38a2373d2a185c0e86224b8ee4971cd77bb6cdad7a20?s=24&d=retro",
				"email": "walter.pete@yandex.com",
				"groups": [
					{
						"name": "packager"
					},
					{
						"name": "provenpackager"
					},
					{
						"name": "ipausers"
					},
					{
						"name": "fedora-contributor"
					},
					{
						"name": "signed_fpca"
					},
					{
						"name": "fedorabugs"
					},
					{
						"name": "trust admins"
					}
				],
				"id": 491,
				"name": "pwalter",
				"openid": "pwalter.id.fedoraproject.org"
			},
			"user_id": 491
		},
		{
			"id": 995347,
			"text": "This update's test gating status has been changed to 'greenwave_failed'.",
			"timestamp": "2019-08-12 07:47:49",
			"update_id": 142882,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 996727,
			"text": "This update's test gating status has been changed to 'ignored'.",
			"timestamp": "2019-08-12 09:05:17",
			"update_id": 142882,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"bug_feedback": [
				{
					"bug": {
						"bug_id": 1688596,
						"title": "edk2-ovmf-ia32 is missing OVMF_VARS"
					},
					"bug_id": 1688596,
					"comment_id": 1000687
				},
				{
					"bug": {
						"bug_id": 1691645,
						"security": true,
						"title": "CVE-2019-0160 edk2: buffer overflows in PartitionDxe and UdfDxe with long file names and invalid UDF media [fedora-all]"
					},
					"bug_id": 1691645,
					"comment_id": 1000687
				},
				{
					"bug": {
						"bug_id": 1694085,
						"security": true,
						"title": "CVE-2018-12179 CVE-2018-12182 CVE-2018-12183 CVE-2019-0161 edk2: various flaws [fedora-all]"
					},
					"bug_id": 1694085,
					"comment_id": 1000687
				},
				{
					"bug": {
						"bug_id": 1701710,
						"title": "VM turns on, uses a lot of CPU, uses almost no memory, indefinite black console screen"
					},
					"bug_id": 1701710,
					"comment_id": 1000687
				},
				{
					"bug": {
						"bug_id": 1728652,
						"title": "RFE: Ship the JSON firmware \"descriptor files\" as part of EDK2"
					},
					"bug_id": 1728652,
					"comment_id": 1000687
				}
			],
			"id": 1000687,
			"karma": 1,
			"text": "+1",
			"timestamp": "2019-08-14 09:19:06",
			"update_id": 142882,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/2f2b587171cdabe19e85c9fdbad151effb8675add0763640b9fd57bb67c02e65?s=24&d=retro",
				"email": "smithpeter835@yahoo.co.uk",
				"groups": [
					{
						"name": "ipausers"
					}
				],
				"id": 506,
				"name": "smithp",
				"openid": "smithp.id.fedoraproject.org"
			},
			"user_id": 506
		},
		{
			"id": 1000715,
			"text": "This update has been submitted for stable by pwalter. ",
			"timestamp": "2019-08-14 09:35:31",
			"update_id": 142882,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 1002337,
			"text": "This update has been pushed to stable.",
			"timestamp": "2019-08-15 18:09:54",
			"update_id": 142882,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		}
	],
	"content_type": "rpm",
	"critpath": true,
	"date_modified": "2019-07-15 19:58:15",
	"date_pushed": "2019-08-15 18:07:56",
	"date_stable": "2019-08-15 18:07:56",
	"date_submitted": "2019-07-15 19:55:59",
	"date_testing": "2019-07-16 00:53:48",
	"karma": 3,
	"meets_testing_requirements": true,
	"notes": "* License is now BSD-2-Clause-Patent\n* Re-enable secureboot enrollment\n* Use qemu-ovmf-secureboot from git\n",
	"pushed": true,
	"release": {
		"branch": "f30",
		"candidate_tag": "f30-updates-candidate",
		"composed_by_bodhi": true,
		"create_automatic_updates": false,
		"dist_tag": "f30",
		"id_prefix": "FEDORA",
		"long_name": "Fedora 30",
		"mail_template": "fedora_errata_template",
		"name": "F30",
		"override_tag": "f30-override",
		"package_manager": "dnf",
		"pending_signing_tag": "f30-signing-pending",
		"pending_stable_tag": "f30-updates-pending",
		"pending_testing_tag": "f30-updates-testing-pending",
		"stable_tag": "f30-updates",
		"state": "archived",
		"testing_repository": "updates-testing",
		"testing_tag": "f30-updates-testing",
		"version": "30"
	},
	"require_bugs": true,
	"require_testcases": true,
	"severity": "unspecified",
	"stable_karma": 3,
	"status": "stable",
	"suggest": "unspecified",
	"test_gating_status": "ignored",
	"title": "edk2-20190501stable-2.fc30",
	"type": "security",
	"url": "https://bodhi.fedoraproject.org/updates/FEDORA-2019-d47a9d4b8b",
	"unstable_karma": -3,
	"updateid": "FEDORA-2019-d47a9d4b8b",
	"user": {
		"avatar": "https://seccdn.libravatar.org/avatar/2db9913ea72f8be4fb00bf87f927f22b40a6c3b348f68abbabdf4d1a93ff09af?s=24&d=retro",
		"email": "crobinso@redhat.com",
		"groups": [
			{
				"name": "packager"
			},
			{
				"name": "provenpackager"
			},
			{
				"name": "virtmaint-sig"
			},
			{
				"name": "ipausers"
			},
			{
				"name": "fedora-contributor"
			},
			{
				"name": "signed_fpca"
			},
			{
				"name": "fedorabugs"
			},
			{
				"name": "centosproject-email-aliases"
			},
			{
				"name": "hosted-content"
			},
			{
				"name": "kubevirt"
			},
			{
				"name": "sig-virt"
			}
		],
		"id": 400,
		"name": "crobinso",
		"openid": "crobinso.id.fedoraproject.org"
	},
	"version_hash": "7847028228ca8bb6d7a85f57e10bbf8923b8ada1"
}
