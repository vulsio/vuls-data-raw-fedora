{
	"alias": "FEDORA-2015-9127",
	"bugs": [
		{
			"bug_id": 1200353,
			"feedback": [
				{
					"bug_id": 1200353,
					"comment": {
						"id": 408949,
						"karma": 1,
						"karma_critpath": 1,
						"timestamp": "2016-03-28 23:38:13",
						"update_id": 11773,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/6446918341fa15fa3451d38b3af9120a8030fbd001689e9468e3c9d38cea2bb3?s=24&d=retro",
							"email": "wesleyotugo@gmail.com",
							"id": 2689,
							"name": "wesleyotugo",
							"openid": "wesleyotugo.id.fedoraproject.org"
						},
						"user_id": 2689
					},
					"comment_id": 408949
				},
				{
					"bug_id": 1200353,
					"comment": {
						"id": 409315,
						"karma": 1,
						"karma_critpath": 1,
						"timestamp": "2016-03-29 14:55:41",
						"update_id": 11773,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/274d8930d60d75b720d72ccf4d5e402a2a07140c98b2dc51b20a4089ebec738f?s=24&d=retro",
							"email": "luca.ciavatta@gmail.com",
							"id": 2697,
							"name": "cialu",
							"openid": "cialu.id.fedoraproject.org"
						},
						"user_id": 2697
					},
					"comment_id": 409315
				},
				{
					"bug_id": 1200353,
					"comment": {
						"id": 519737,
						"karma": 1,
						"karma_critpath": 1,
						"testcase_feedback": [
							{
								"comment_id": 519737,
								"karma": 1,
								"testcase": {
									"id": 372,
									"name": "QA:Testcase kernel regression"
								},
								"testcase_id": 372
							}
						],
						"timestamp": "2016-11-11 07:17:19",
						"update_id": 11773,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/30a017a6a67c98a23b912280feea8fb03d7a4d84b4d7b8da08f74eb4ff663621?s=24&d=retro",
							"email": "drwesleydekstar@gmail.com",
							"id": 3276,
							"name": "drwesleydekstar",
							"openid": "drwesleydekstar.id.fedoraproject.org"
						},
						"user_id": 3276
					},
					"comment_id": 519737
				}
			],
			"title": "regression in ktime.h breaks infrared IR blaster/transmitter after upgrade to Fedora 21",
			"bugzilla": {
				"bug_id": "1200353",
				"creation_ts": "2015-03-10 11:33:43 +0000",
				"short_desc": "regression in ktime.h breaks infrared IR blaster/transmitter after upgrade to Fedora 21",
				"delta_ts": "2015-06-01 17:06:52 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"priority": "unspecified",
				"bug_severity": "unspecified",
				"external_bugs": {
					"text": "95431",
					"name": "Linux Kernel"
				},
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "8026700",
						"comment_count": "0",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-10 11:33:43 +0000",
						"thetext": "Description of problem:\nAfter upgrading to Fedora 21 my lirc IR blaster setup (for MythTV) no longer works.  Everything worked fine in F19 and earlier.  I've boiled the problem down to basic lirc/module commands.  I'm using a mceusb USB transceiver device.\n\nTrying to issue basic an irsend command results in:\nirsend: timeout\n\nmessages.  If I do enough irsends in a short time span, irsend eventually hangs and I've even gotten the kernel to oops (bug #1200304).\n\nThe funny thing is, the first few irsend commands I issue seem to be blasted to my set-top-box!  So that means everything is \"sort of\" working in the chain, down to the bare hardware, but something is keeping irsend from getting back a valid response in time.  My hunch is it's possibly the kernel module to blame (if so we can change the bug component).\n\nI'd love to debug but I can't figure out any way to get lircd to output debug or get the modules into debug mode (modprobe mceusb debug=1 just gives a \"mceusb: unknown parameter 'debug' ignored\" message.  I've checked out the irsend source and it's clear it's timing out waiting for a valid response from lircd.\n\n\nVersion-Release number of selected component (if applicable):\nkernel-PAE-3.18.8-201.fc21.i686\nlirc-0.9.1a-4.fc21.i686\n\n\nHow reproducible:\nAlways\n\n\nSteps to Reproduce:\n1. Setup a valid blaster lircd.conf (like my old one that worked in F19)\n2. lircd -n -H default  (or just use systemctl start lircd.service)\n3. irsend SEND_ONCE dct700 5\n\n\nActual results:\n<pause>\nirsend: timeout\nExit 1\n\nand blasted IR code sometimes actually is sent\n\n\nExpected results:\ninstantaneous return with no error message and all blasted IR codes are sent\n\n\nAdditional info:\n#lsusb\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 005 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 004 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 002 Device 003: ID 0471:0815 Philips (or NXP) eHome Infrared Receiver\nBus 002 Device 002: ID 046d:c313 Logitech, Inc. Internet 350 Keyboard\nBus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\n\nBeginning of lircd.conf stanza:\n\n# Modified DCT2000 entry for DCT700 (sends zeros)\n# For use with the USB MCE ir receiver\n\nbegin remote\n\n  name   dct700\n  flags RAW_CODES\n  eps            30\n  aeps          100\n\n  ptrail        520\n  repeat     0     0\n  gap    150000\n\n      begin raw_codes"
					},
					{
						"isprivate": "0",
						"commentid": "8026714",
						"comment_count": "1",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-10 11:39:41 +0000",
						"thetext": "See attachment #999788 for messages output for the kernel drivers loading, etc.  Also, I should make it clear and mention that I am *not* trying to use a IR remote (ie have lirc receive and control myth), I'm just trying to use the blaster/transmitter aspect.  (Though I do have the remote setup in my lirc, I haven't used it in years.)"
					},
					{
						"isprivate": "0",
						"commentid": "8026801",
						"comment_count": "2",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-10 12:09:42 +0000",
						"thetext": "Further messages logs info.  I tried changing USB ports (note, these are old mobo USB2 ports, it doesn't have USB3 so I'm not hitting the google-described USB3 bug).\n\nRight after, I issued an irsend LIST \"\" \"\" at Mar 10 07:06:06, note how that runs 100% OK and returns immediately, and lircd says \"removed client\" right away.\n\nThen I issued irsend SEND_ONCE dct700 info at Mar 10 07:06:14 and then lircd *never* says \"removed client\"!  That's why irsend is timing out, lircd is getting screwed up somehow.\n\nMar 10 07:04:17 piles kernel: [10665.500078] usb 2-2: USB disconnect, device number 3\nMar 10 07:05:01 piles kernel: [10709.639030] usb 3-2: new full-speed USB device number 2 using uhci_hcd\nMar 10 07:05:02 piles kernel: [10710.483059] usb 3-2: New USB device found, idVendor=0471, idProduct=0815\nMar 10 07:05:02 piles kernel: [10710.564576] usb 3-2: New USB device strings: Mfr=1, Product=2, SerialNumber=3\nMar 10 07:05:02 piles kernel: [10710.644881] usb 3-2: Product: eHome Infrared Transceiver\nMar 10 07:05:02 piles kernel: [10710.723675] usb 3-2: Manufacturer: Philips\nMar 10 07:05:02 piles kernel: [10710.800965] usb 3-2: SerialNumber: PH00FsaI\nMar 10 07:05:03 piles kernel: [10710.904065] Registered IR keymap rc-rc6-mce\nMar 10 07:05:03 piles kernel: [10710.980857] input: Media Center Ed. eHome Infrared Remote Transceiver (0471:0815) as /devices/pci0000:00/0000:00:1d.1/usb3/3-2/3-2:1.0/rc/rc0/input15\nMar 10 07:05:03 piles kernel: [10711.135596] rc0: Media Center Ed. eHome Infrared Remote Transceiver (0471:0815) as /devices/pci0000:00/0000:00:1d.1/usb3/3-2/3-2:1.0/rc/rc0\nMar 10 07:05:03 piles kernel: [10711.291674] input: MCE IR Keyboard/Mouse (mceusb) as /devices/virtual/input/input16\nMar 10 07:05:03 piles kernel: [10711.369295] rc rc0: lirc_dev: driver ir-lirc-codec (mceusb) registered at minor = 0\nMar 10 07:05:03 piles kernel: [10711.589040] mceusb 3-2:1.0: Registered Philips eHome Infrared Transceiver with mce emulator interface version 1\nMar 10 07:05:03 piles kernel: [10711.666949] mceusb 3-2:1.0: 2 tx ports (0x0 cabled) and 2 rx sensors (0x1 active)\nMar 10 07:05:03 piles kernel: [10711.744051] usbcore: registered new interface driver mceusb\nMar 10 07:06:03 piles lircd: 'lirc' written to protocols file /sys/class/rc/rc0/protocols\nMar 10 07:06:03 piles lircd-0.9.1a[4535]: lircd(default) ready, using /var/run/lirc/lircd\nMar 10 07:06:06 piles lircd-0.9.1a[4535]: accepted new client on /var/run/lirc/lircd\nMar 10 07:06:06 piles lircd-0.9.1a[4535]: removed client\nMar 10 07:06:14 piles lircd-0.9.1a[4535]: accepted new client on /var/run/lirc/lircd"
					},
					{
						"isprivate": "0",
						"commentid": "8027054",
						"comment_count": "3",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-10 13:03:39 +0000",
						"thetext": "For kicks I installed the necessary lirc stuff from Fedora 22 on F21: lirc-0.9.2a-1.fc22, etc.\n\n#irsend SEND_ONCE dct700 info\n\nlircd output:\nlircd-0.9.2a[5151]: Debug: registering local client\nlircd-0.9.2a[5151]: Notice: accepted new client on /var/run/lirc/lircd\nlircd-0.9.2a[5151]: Debug: driver supports both sending and receiving\nlircd-0.9.2a[5151]: Debug: received command: \"SEND_ONCE dct700 info\"\nlircd-0.9.2a[5151]: Debug: Sending once, msg: SEND_ONCE dct700 info\n, args: dct700 info, once: 1\nlircd-0.9.2a[5151]: Debug: clearing transmit buffer\nlircd-0.9.2a[5151]: Debug: transmit buffer ready\n... hangs here until ^C, then:\n^Clircd-0.9.2a[5151]: Debug: Sending success\nlircd-0.9.2a[5151]: Info: removed client\nlircd-0.9.2a[5151]: Notice: caught signal\n\n\nmessages log:\nMar 10 07:23:58 piles lircd-0.9.2a[4885]: Notice: accepted new client on /var/run/lirc/lircd\nMar 10 07:23:59 piles irsend: fill_string: timeout\nMar 10 07:24:00 piles irsend: fill_string: timeout\nMar 10 07:24:01 piles irsend: fill_string: timeout\nMar 10 07:24:02 piles irsend: fill_string: timeout\n... forever! until ^C lircd\n\n\nDoing an strace on the lircd I can see it is hanging on a write() to fd7 which is /dev/lirc0!\n\nwritev(2, [{\"lircd-0.9.2a[5399]: Debug: trans\"..., 48}, {\"\\n\", 1}], 2lircd-0.9.2a[5399]: Debug: transmit buffer ready\n) = 49\nsend(5, \"<135>Mar 10 07:51:57 lircd-0.9.2\"..., 69, MSG_NOSIGNAL) = 69\nwrite(7, \"Z#\\0\\0000\\21\\0\\0&\\2\\0\\0000\\21\\0\\0&\\2\\0\\0000\\21\\0\\0X\\2\\0\\0f\\10\\0\\0\"..., 140\n\n\nstrace on irsend shows trying to read on fd3 which is \"/proc/5649/fd/3 -> socket:[28512]\".  Not sure how to tell where socket 28512 is going, probably lircd?\n\nsocket(PF_LOCAL, SOCK_DGRAM|SOCK_CLOEXEC, 0) = 4\nconnect(4, {sa_family=AF_LOCAL, sun_path=\"/dev/log\"}, 110) = 0\nsend(4, \"<15>Mar 10 08:00:45 irsend: lirc\"..., 77, MSG_NOSIGNAL) = 77\nwrite(3, \"SEND_ONCE dct700 info\\n\", 22) = 22\nsetsockopt(3, SOL_SOCKET, SO_RCVTIMEO, \"\\1\\0\\0\\0\\0\\0\\0\\0\", 8) = 0\nread(3, 0xbfd67e99, 256)                = -1 EAGAIN (Resource temporarily unavailable)\ntime(NULL)                              = 1425992446\nsend(4, \"<13>Mar 10 08:00:46 irsend: fill\"..., 49, MSG_NOSIGNAL) = 49\nsetsockopt(3, SOL_SOCKET, SO_RCVTIMEO, \"\\1\\0\\0\\0\\0\\0\\0\\0\", 8) = 0\nread(3, 0xbfd67e99, 256)                = -1 EAGAIN (Resource temporarily unavailable)\ntime(NULL)                              = 1425992447\n\n\nAnyways, it just repeats the EAGAIN for ever.\n\nSomething is barfing and not communicating according to the lircd/irsend protocol.  I'm poking around the source but I'm starting to get in over my head."
					},
					{
						"isprivate": "0",
						"commentid": "8027062",
						"comment_count": "4",
						"who": {
							"text": "leamas.alec",
							"name": "Alec Leamas"
						},
						"bug_when": "2015-03-10 13:06:18 +0000",
						"thetext": "Hm... this might be a hard one.\n\nHave you tried to raise the lircd loglevel? In a standard installation, edit /etc/lirc/lirc_options.conf and set loglevel to 10. Then run, and check \"journalctl -b /usr/sbin/lircd\". Perhaps, here can be some more hints."
					},
					{
						"isprivate": "0",
						"commentid": "8027116",
						"comment_count": "5",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-10 13:19:18 +0000",
						"thetext": "I seem to have gotten loglevel 10 with my tests now in the new 0.9.2 version:\n\nstrace lircd -n -H default --loglevel=trace2\n\nI also tried it in lirc_options.conf with\n\ndebug          = 10\nlogfile        = /tmp/l.log\n\nBut the output is the same.  journalctl doesn't tell me anything because I seem to have successfully disabled it in favor of rsyslog (yay!).  Or I'm not using it right.  The way I have it configured, everything that journalctl should have seen goes to rsyslog now and /v/l/messages.\n\nI think I need to figure out why that lircd write() is hanging, and who is it trying to write to?  If someone knows the lirc protocol being spoken, the strace output above should tell us what the \"message\" is.  I can try hitting the source some more..."
					},
					{
						"isprivate": "0",
						"commentid": "8030617",
						"comment_count": "6",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-11 10:01:24 +0000",
						"thetext": "I installed F20's lirc lirc-0.9.0-21.fc20.i686 (and related rpms), that's the last version that worked for me (except I was using fc19).  No go, still the exact same timeout with irsend.  Still the same-looking straces.\n\nDoes this mean the bug is in the kernel -- the new in-kernel version of mceusb?  Does lircd write() (the hanging write) to the kernel?  Right before the hanging write() is an ioctl."
					},
					{
						"isprivate": "0",
						"commentid": "8030801",
						"comment_count": "7",
						"who": {
							"text": "leamas.alec",
							"name": "Alec Leamas"
						},
						"bug_when": "2015-03-11 11:07:40 +0000",
						"thetext": "Hm....\n\nAlready at 0.9.0 the mceusb was in-kernel, so it's not that simple. Still, the kernel code might of course have been updated.\n\nThe kernel module history is at [1]. Perhaps one of these commits is the culprit?\n\nI can see two ways to proceed into this. I can try to support you either way, but since you are the only one which can reproduce the error...\n\nOne way would be to patch the current irsend code. Here are some obvious areas which could be improved (client logging, handling of EAGAIN/timeout). Fixing these should basically be done on upstream master: [2]. I don't really think the proposed patches would fix this, but it might (should?) give more information than we have today. I don't think you need to install lirc to run these tests, it could be done on an un-installed but built tree.\n\nThe other way would be to try to bisect the mceusb driver. Rebuilding the driver isn't hard, there is example code in drivers/ (upstream tree). Question is just how far back we can go before the driver becomes incompatible with current overall kernel (no idea).\n\n\n[1] https://github.com/torvalds/linux/commits/master/drivers/media/rc/mceusb.c\n[2] http://sourceforge.net/p/lirc/git/ci/master/tree/"
					},
					{
						"isprivate": "0",
						"commentid": "8031292",
						"comment_count": "8",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-11 13:01:09 +0000",
						"thetext": "For kicks I installed a kernel I found in the repos for F20:\nkernel-PAE-3.11.10-301.fc20.i686\n\non my F21 userspace (ugly!)\n\nRebooted, ran the lircd / irsend tests (still with lirc-0.9.0-21.fc20 installed) and it all works fine!  No bug!\n\nI think this proves it is a kernel (mceusb module probably) bug, right?  Should I reassign this bugzilla?\n\nComparing the straces is interesting:\n\nBUGGY VERSIONS:\nwritev(2, [{\"lircd-0.9.0[24802]: accepted new\"..., 62}, {\"\\n\", 1}], 2lircd-0.9.0[24802]: accepted new client on /var/run/lirc/lircd\n) = 63\nsend(5, \"<29>Mar 11 04:59:41 lircd-0.9.0[\"..., 82, MSG_NOSIGNAL) = 82\nstat64(\"/dev/lirc0\", {st_mode=S_IFCHR|0666, st_rdev=makedev(248, 0), ...}) = 0\nopen(\"/dev/lirc0\", O_RDWR)              = 7\nioctl(7, I2OGETIOPS or LIRC_GET_FEATURES, 0xb77ed168) = 0\ngettimeofday({1426067981, 29156}, NULL) = 0\nselect(8, [4 6 7], NULL, NULL, NULL)    = 1 (in [6])\ngettimeofday({1426067981, 29247}, NULL) = 0\nselect(7, [6], NULL, NULL, {0, 0})      = 1 (in [6], left {0, 0})\nread(6, \"SEND_ONCE dct700 info\\n\", 256) = 22\nioctl(7, IPMICTL_SET_MY_LUN_CMD or LIRC_SET_SEND_CARRIER, 0xbfd902b8) = 38000\nwrite(7, \"Z#\\0\\0000\\21\\0\\0&\\2\\0\\0000\\21\\0\\0&\\2\\0\\0000\\21\\0\\0X\\2\\0\\0f\\10\\0\\0\"..., 140^Clircd-0.9.0[24802]: removed client\n\n\nOLD WORKING VERSIONS:\nwritev(2, [{\"lircd-0.9.0[1620]: accepted new \"..., 61}, {\"\\n\", 1}], 2lircd-0.9.0[1620]: accepted new client on /var/run/lirc/lircd\n) = 62\nsend(5, \"<29>Mar 11 07:55:59 lircd-0.9.0[\"..., 81, MSG_NOSIGNAL) = 81\nstat64(\"/dev/lirc0\", {st_mode=S_IFCHR|0600, st_rdev=makedev(248, 0), ...}) = 0\nopen(\"/dev/lirc0\", O_RDWR)              = 7\nioctl(7, I2OGETIOPS or LIRC_GET_FEATURES, 0xb77aa168) = 0\ngettimeofday({1426078559, 984679}, NULL) = 0\nselect(8, [4 6 7], NULL, NULL, NULL)    = 1 (in [6])\ngettimeofday({1426078559, 984969}, NULL) = 0\nselect(7, [6], NULL, NULL, {0, 0})      = 1 (in [6], left {0, 0})\nread(6, \"SEND_ONCE dct700 info\\n\", 256) = 22\nioctl(7, IPMICTL_SET_MY_LUN_CMD or LIRC_SET_SEND_CARRIER, 0xbfe487a8) = 38000\nwrite(7, \"Z#\\0\\0000\\21\\0\\0&\\2\\0\\0000\\21\\0\\0&\\2\\0\\0000\\21\\0\\0X\\2\\0\\0f\\10\\0\\0\"..., 140) = 140\n^^^^^^^^^^^^ !!!!!!!! WHERE NEWER VERSIONS HANG\ngettimeofday({1426078560, 7368}, NULL)  = 0\n...\n\n\nFrom this it's clear now fd7 is /dev/lirc0 which I think speaks directly to the kernel modules?  OK, so it seems clear that the bug is in the kernel modules, which are hanging or freezing or something and never accepting the write() to /dev/lirc0 from lircd.  Note, in both versions above the string sent to /dev/lirc0 is identical.\n\nI wish there were more interim kernel versions to test but I'm having trouble finding more stock kernel rpm's in the Fedora repo world.  Is there somewhere that keeps every kernel rpm ever released to stable (or testing)?\n\nI've never had luck with bisecting \"fedora-ized\" kernel with git using Fedora, especially on 32-bit systems where I hit bugs using instructions I found from Fedora people.  I'm clueless at the process and would need some good links with instructions.  It's so much easier to find interim rpm versions if I can.\n\nHelp!"
					},
					{
						"isprivate": "0",
						"commentid": "8031334",
						"comment_count": "9",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-11 13:10:36 +0000",
						"thetext": "(In reply to Alec Leamas from comment #7)\n> Hm....\n\nThanks for the help!  I'll do anything.  I've already started some of what you suggest, let me tackle the points:\n\n> The kernel module history is at [1]. Perhaps one of these commits is the\n> culprit?\n\nI've gitted Linus's entire tree and looked at the git changelog for mceusb and some commits do sound fishy, like 0cacb46ace1f433f0ab02af10686f6dc50b5d268, and others.\n\n> One way would be to patch the current irsend code. Here are some obvious\n> areas which could be improved (client logging, handling of EAGAIN/timeout).\n> Fixing these should basically be done on upstream master: [2]. I don't\n> really think the proposed patches would fix this, but it might (should?)\n> give more information than we have today. I don't think you need to install\n> lirc to run these tests, it could be done on an un-installed but built tree.\n\nOK, but read my most recent comment, maybe it's for sure now a kernel thing and not irsend/lircd's fault?  I think I'll concentrate on mceusb module before hitting the lirc git unless you think the above paragraph is a wiser place to start still.\n\n> The other way would be to try to bisect the mceusb driver. Rebuilding the\n> driver isn't hard, there is example code in drivers/ (upstream tree).\n> Question is just how far back we can go before the driver becomes\n> incompatible with current overall kernel (no idea).\n\nYa, I tried compiling the \"fedora way\" an older version of mceusb to that git commit I list above and it wouldn't build due to missing fn rc_set_allowed_protocols which seems to have been removed from an include file, as it's no where to be grepped in the vanilla source now.  That's only Apr 2014 which isn't very far back at all.\n\nI guess I could keep stepping back a commit at a time until I find one that compiles.  But no other newer commits seem to have anything interesting that might be causing this bug (but I'm no expert).\n\nI think I'll need to hone in on some suspicious commits and back-port a reversal of the change?  (If that's even the right terminology?)  That should allow me to build and test various reverts without rebooting.\n\nI can hack the diffs manually, as again I have no idea how to meld the idea of \"fedora way\" with \"vanilla way\" for a bisect, and I have no idea how to bisect just one module.  If you can point me to useful fedora-centric websites for this stuff, that would be great, or I'll just hack around and see what I can get to work.\n\nThanks a ton!!  No mythtv recordings going on until this works..."
					},
					{
						"isprivate": "0",
						"commentid": "8031405",
						"comment_count": "10",
						"who": {
							"text": "leamas.alec",
							"name": "Alec Leamas"
						},
						"bug_when": "2015-03-11 13:27:45 +0000",
						"thetext": "Perhaps... If you created a new git repo just containing the mceusb.c file. And added it some version long time ago, and then each version in the mceusb.c history. From that point you should be able to make a clean bisect.\n\nGiven all facts, IMHO it makes sense to start with bisecting the mceusb driver."
					},
					{
						"isprivate": "0",
						"commentid": "8031425",
						"comment_count": "11",
						"who": {
							"text": "leamas.alec",
							"name": "Alec Leamas"
						},
						"bug_when": "2015-03-11 13:31:59 +0000",
						"thetext": "You have this Makefile, right?\n\nhttp://sourceforge.net/p/lirc/git/ci/master/tree/drivers/lirc_wpc8769l/"
					},
					{
						"isprivate": "0",
						"commentid": "8031512",
						"comment_count": "12",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-11 13:44:01 +0000",
						"thetext": "(In reply to Alec Leamas from comment #10)\n> Perhaps... If you created a new git repo just containing the mceusb.c file.\n> And added it some version long time ago, and then each version in the\n> mceusb.c history. From that point you should be able to make a clean bisect.\n> \n> Given all facts, IMHO it makes sense to start with bisecting the mceusb\n> driver.\n\nSorry, over my head on that one, I know what you're saying but not how to do it using a fedora kernel src.rpm.  And I don't know how to make vanilla do anything without running configure, which I don't want to do as it won't give me a \"fedora\" setup :-(  I just don't know the magic commands.  I know all the theory about git, bisect, etc, but not how to actually do it.  If you want to throw a few command examples at me (no explanation needed, just raw commands) that would help, or send me to a good link.\n\nFor right now, I'm working on undoing some git code changes that look nasty manually in mceusb.c and compiling them/testing.  That much I know how to do.  If I have luck I'll report here immediately.\n\nThanks!!"
					},
					{
						"isprivate": "0",
						"commentid": "8031807",
						"comment_count": "13",
						"who": {
							"text": "leamas.alec",
							"name": "Alec Leamas"
						},
						"bug_when": "2015-03-11 14:03:02 +0000",
						"thetext": "You don't need a src.rpm, you should just compile a module. Use the Makefile in comment #11, you just need to patch the obj-m += ... line. Using that, it should be a simple 'make' + 'sudo make install'.\n\nAs for the git repo, the trick is to clone torvald's kernel repo on github. You have done that, right. After that you could do something like\n\n- Checkout an old version (start of bisect) of Torvalds repo at somewhere/\n- create a new empty directory newrepo/\n   + cd newrepo\n   + git init\n   + cp /somewhere/driver/media/rc/mceucb.c .\n   + git add mceusb.c\n   + git commit am \"Initial: parent hash fa1afe1\"\n- then for each hash listed by 'git log --oneline mceusb.c' starting with first commit after the initial:\n   + checkout commit in torvald's repo \n   + cp /somewhere/driver/media/rc/mceucb.c .\n   + git commit -am \"parent hash deadbee\"\n\nAfter this you could make a clean bisect, using make + \"make install\" to test."
					},
					{
						"isprivate": "0",
						"commentid": "8033793",
						"comment_count": "14",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-11 16:01:40 +0000",
						"thetext": "OK, I'm trying your git steps, and your Makefile works great.\n\nWe have a big problem though, the bisect and make show that functions in other files are changing not that long ago and the make is failing with missing functions, like ‘rc_set_allowed_protocols’ and missing struct members like rc_dev allowed_protos.\n\nI can only compile down to c5540fb but not 0cacb46 (linus commit hashes).\n\nIt looks like I need to be able to compile going back 10 linus commits on that file in order to bisect back to where I think it was last working.  So how do I do that if other dependent files are changing also?  Is there a way to do your steps on multiple files?  I guess it might depend on how far up the module dep chain we must go :-("
					},
					{
						"isprivate": "0",
						"commentid": "8033883",
						"comment_count": "15",
						"who": {
							"text": "leamas.alec",
							"name": "Alec Leamas"
						},
						"bug_when": "2015-03-11 16:30:02 +0000",
						"thetext": "\n> OK, I'm trying your git steps, and your Makefile works great.\n> \n> We have a big problem though, the bisect and make show that functions in other\n> files are changing not that long ago and the make is failing with missing\n> functions, like ‘rc_set_allowed_protocols’ and missing struct members like\n> rc_dev allowed_protos.\n> \n> I can only compile down to c5540fb but not 0cacb46 (linus commit hashes). \n\nThis is as anticipated...\n\n> It looks like I need to be able to compile going back 10 linus commits on that\n> file in order to bisect back to where I think it was last working.  So how do I\n> do that if other dependent files are changing also?  Is there a way to do your\n> steps on multiple files? \n\nNever done that. But if this is more the one file, it'd probably better to make a full kernel rebuild and use that for bisecting (horrors...)\n\nI think...\n\n--alec"
					},
					{
						"isprivate": "0",
						"commentid": "8033958",
						"comment_count": "16",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-11 16:48:21 +0000",
						"thetext": "OK, then please allow me to ask one question... How do I use linus tree for bisection but still use/compile with the fedora specs/config/options ie: do it the \"fedora\" way?  I never figured this out and can't find the info anywhere.  Is it even possible?  I don't want (or know how) to customize the kernel config myself to be exactly like Fedora 21 stock kernel :-(\n\nI don't relish compiling the whole kernel on this Mythtv box as it's only a Pentium-4-D!!  Ouch x 2.\n\nIn the meantime I'll keep hacking at my other ideas/options.  Maybe I'll get lucky.\n\nThanks!!"
					},
					{
						"isprivate": "0",
						"commentid": "8034053",
						"comment_count": "17",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-11 17:03:01 +0000",
						"thetext": "This is weird.  I put some debug outputs in mceusb to see what paths it was taking for the bit int vs bulk changes in 0cacb46ace1f433f0ab02af10686f6dc50b5d268.\n\nI ran the module and my test and it shows that out is interrupt but in is bulk?  Is that even valid?  Isn't the usb setup either bulk or int for a device but not both?  Maybe that's the problem?\n\nBut if I try forcing int on everything, trying to recreate what the old code did, the module throws \"BOGUS urb xfer\" stack traces.  There must be some other init code somewhere that handles the setup for that."
					},
					{
						"isprivate": "0",
						"commentid": "8034328",
						"comment_count": "18",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-11 18:20:48 +0000",
						"thetext": "I put a bunch more debug printks in the mceusb and it's weird, it doesn't seem to be hanging in that module.  I'm playing with lirc_dev.c now to see if it's hanging in there.  This is getting complicated as the code path is tough to follow for me.  Maybe an entire kernel bisect will have to be done.  (But I don't know how the \"Fedora\" way!)"
					},
					{
						"isprivate": "0",
						"commentid": "8034334",
						"comment_count": "19",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-11 18:21:34 +0000",
						"thetext": "I see some debug code in the modules already: how do I turn it on so I can see it?"
					},
					{
						"isprivate": "0",
						"commentid": "8037065",
						"comment_count": "20",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-12 14:22:47 +0000",
						"thetext": "I found where all the kernel builds live on koji (yay!) and am \"bisecting\" using those to narrow things down.\n\nhttp://koji.fedoraproject.org/koji/packageinfo?buildStart=150&packageID=8&buildOrder=-completion_time&tagOrder=name&tagStart=0#buildlist\n\nIn terms of location on the page, I have it narrowed down now:\n\nworks:\n3.14.0-1.fc21.i686+PAE\n3.16.0-1.fc21.i686+PAE\n3.16.3-302.fc21.i686+PAE\n\nbroken:\n3.17.0-0.rc7.git1.1.fc22.i686+PAE\n3.17.0-301.fc21.i686+PAE\n3.17.1-302.fc21.i686+PAE\n3.17.3-300.fc21.i686+PAE\n3.18.8\n\nIn what order should I try the last few?  Is this enough to narrow it down to changes on the relevant module files?  I have a funny feeling I'm going to find the very first 3.17.x build is broken.  So should I keep going on the 3.16.3+ builds?  The problem is they are only built for fc20, but I guess that shouldn't matter?  I've already run a fc20 kernel on this box once briefly.  It always freaks me out though.\n\nNow, how do we turn koji builds into git commit hashes?"
					},
					{
						"isprivate": "0",
						"commentid": "8037909",
						"comment_count": "21",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-12 17:09:15 +0000",
						"thetext": "OK, I've narrowed it down to a tiny set of source code changes, not using git or bisect, but by using the koji kernel build rpms and then the src rpms to diff the fedora version of the sources.\n\nThe changes to mceusb look innocuous.  I will attach the diff.  I bet the problem is in another module.  My question is, what .c files should I be looking at?  Can't I just follow the chain up from mceusb?  Or are there any \"core\" or \"library\" .c files that have functions that are heavily used when trying to transmit with the blaster?  It would be nice to narrow my focus."
					},
					{
						"isprivate": "0",
						"commentid": "8037915",
						"comment_count": "22",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-12 17:11:19 +0000",
						"thetext": "Created attachment 1001148\ndiff between good and bad version of mceusb.c\n\ngood 3.16.3-302.fc21.i686+PAE\nbad  3.17.0-0.rc0.git4.2.fc22.i686+PAE\n\nfedora version, not vanilla"
					},
					{
						"isprivate": "0",
						"commentid": "8038235",
						"comment_count": "23",
						"who": {
							"text": "leamas.alec",
							"name": "Alec Leamas"
						},
						"bug_when": "2015-03-12 18:46:08 +0000",
						"thetext": "Thanks Trevor for a great job. Re-assigning to kernel to get some feedback on this."
					},
					{
						"isprivate": "0",
						"commentid": "8038246",
						"comment_count": "24",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-12 18:51:13 +0000",
						"thetext": "The corresponding commits (only as far as mceusb.c is concerned) that match the diff of versions in comment #2 are:\n\nc5540fbb9de39ceec108a889133664a887c2f55a\n9683e01effc9ab3eb3c4584a39a6b87dadf5f391\n5b8c8d41919ac4985dfacd31a860e4f00f52d3a6\n\nThe newest 3 commits in fact.  So if the bug is in mceusb.c itself, which I'm starting to doubt, the bug is in those commits.  Perhaps I could use those commit objects to look at changes in other relevant files that might also cause the bug?\n\nOr if I could figure out how to combine fedora build setup with vanilla commits for a bisect I could do a real bisect and some kernel compiles..."
					},
					{
						"isprivate": "0",
						"commentid": "8042789",
						"comment_count": "25",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-14 14:16:23 +0000",
						"thetext": "I'm ready to do the kernel bisect between the commits I've identified to solve this bug, but I still don't know how to merge the concept of vanilla bisects with Fedora's rpmbuild/config process.\n\nI attempt to use Igor's wonderful script:\nhttp://fedoraproject.org/wiki/User:Ignatenkobrain/Kernel/Bisection\n\nBut it still has the 32-bit bug:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1090186\n\nSo that can't be used.\n\nThen I read on Fedora mailing lists that I can copy over the config, but then I see all you get is a vmlinuz and I have no idea how I can get that to install on my box \"the fedora way\" so I can get a bootable system: who installs the zillion modules?  Who makes the initrd?  I've never made my own kernel config before, and I don't want to now, as I'll screw something up and blow up this production machine I'm doing all this testing on.\n\nIsn't there any resource besides Igor's on how to bisect vanilla \"the Fedora way\"?  Why doesn't the Fedora ecosystem provide some good instructions on how to do this?  Surely more Fedora people would help solve kernel bugs if we had an easy way to bisect (that works on 32-bit).\n\nThanks!!"
					},
					{
						"isprivate": "0",
						"commentid": "8056134",
						"comment_count": "26",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-18 22:29:16 +0000",
						"thetext": "I'm trying to do a vanilla bisect with a Fedora config, as per Josh Boyer's comments:\n\nhttps://lists.fedoraproject.org/pipermail/devel/2013-August/187988.html\n\nBut I hit yet another roadblock.  There's a bug in scripts/basic/fixdep on my system!  (Nothing is going right when it comes to fixing my blaster!)\n\nn19 make bzImage\n  HOSTCC  scripts/basic/fixdep\nfixdep: error fstat'ing depfile: scripts/basic/.fixdep.d: Value too large for defined data type\nscripts/Makefile.host:118: recipe for target 'scripts/basic/fixdep' failed\nmake[2]: *** [scripts/basic/fixdep] Error 2\n/data/Tmp/Linux-git/linux-git/Makefile:443: recipe for target 'scripts_basic' failed\nmake[1]: *** [scripts_basic] Error 2\n  SYSTBL  arch/x86/syscalls/../include/generated/asm/syscalls_32.h\n  SYSHDR  arch/x86/syscalls/../include/generated/uapi/asm/unistd_32.h\n  SYSHDR  arch/x86/syscalls/../include/generated/uapi/asm/unistd_64.h\n  SYSHDR  arch/x86/syscalls/../include/generated/uapi/asm/unistd_x32.h\n  HOSTCC  scripts/basic/fixdep\nfixdep: error fstat'ing depfile: scripts/basic/.fixdep.d: Value too large for defined data type\nscripts/Makefile.host:118: recipe for target 'scripts/basic/fixdep' failed\nmake[1]: *** [scripts/basic/fixdep] Error 2\nMakefile:443: recipe for target 'scripts_basic' failed\nmake: *** [scripts_basic] Error 2\n\n\nGoogling around I see that this is because my box is 32-bit and my filesystem is XFS which now (Fedora default) uses 64-bit inodes.  Should I open another bug for this?\n\nI'm going to try to find a workaround and/or move my build files to a smaller drive using ext4 instead of 64-bit XFS."
					},
					{
						"isprivate": "0",
						"commentid": "8056149",
						"comment_count": "27",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-18 22:38:28 +0000",
						"thetext": "I found this on the lkml regarding adding -D_FILE_OFFSET_BITS=64 to the compile of fixdep to fix my problem in comment #26:\n\nhttps://lkml.org/lkml/2013/8/29/195\n\nBut I can't figure out where that setting would go in which Makefile.  Can anyone provide guidance so I can start bisecting?  Thanks!"
					},
					{
						"isprivate": "0",
						"commentid": "8056207",
						"comment_count": "28",
						"who": {
							"text": "mchehab",
							"name": "Mauro Carvalho Chehab"
						},
						"bug_when": "2015-03-18 23:35:56 +0000",
						"thetext": "There are very few changes at Remote Controller code between 3.16 and 3.17:\n\n$ git lg v3.16..v3.17 drivers/media/rc\n32570579cbde [media] ir-rc5-decoder: print where decoding fails\nd24b69fc6b0a [media] rc-main: allow raw protocol drivers to restrict the allowed protos\n5b8c8d41919a [media] mceusb: select default keytable based on vendor\n9683e01effc9 [media] mceusb: add support for newer cx231xx devices\n1dee9b59d69a [media] rc: Add support for decoding XMP protocol\n356237d67a44 [media] ati_remote: Better default keycodes\n220edfb0f724 [media] ati_remote: Add comments to keycode table\nd701c8318bc2 [media] ati_remote: Sort buttons in top-to-bottom order\n1e182708c26c [media] ati_remote: Use non-alomic __set_bit\n89b0c0d2779e [media] ati_remote: Merge some duplicate code\n3f245b9cb444 [media] ati_remote: Shrink the ati_remote_tbl even more\n8ecd5e32d8c8 [media] ati_remote: Generalize KIND_ACCEL to accept diagonals\nf95589cc41ff [media] ati_remote: Delete superfluous input_sync()\n528abb9888d8 [media] ati_remote: Shrink ati_remote_tbl structure\n20d7e3ca1be7 [media] ati_remote: Check the checksum\nd6740d86deda [media] rc-core: fix various sparse warnings\n4924a311a62f [media] rc-core: rename ir-raw.c\ne87b540be2dd [media] rc-core: merge rc5 and streamzap decoders\n9d2f1d3cdedd [media] rc-core: rename dev->scanmask to dev->scancode_mask\nc5540fbb9de3 [media] rc-core: remove protocol arrays\nda6e162d6a46 [media] rc-core: simplify sysfs code\n0bc56cbef9fb [media] saa7134: NEC scancode fix\n120703f9eb32 [media] rc-core: document the protocol type\n2886f013c312 [media] bt8xx: fixup RC5 decoding\nb4e3e59fb59c [media] rc: add sunxi-ir driver\n2ac6f6305efe [media] rc: img-ir: Expand copyright headers with GPL notices\n50e59058a420 Merge tag 'v3.16-rc1' into patchwork\n\nMost of the above are on other drivers.The two changes at mceusb are related to the support for WinTV 930C-HD and PCTV QuatroStick. Likely, won't be affecting you. So, it is more likely that some of the rc-core changes is the culprit,\ne. g. one of those:\n\nd6740d86deda [media] rc-core: fix various sparse warnings\n4924a311a62f [media] rc-core: rename ir-raw.c\ne87b540be2dd [media] rc-core: merge rc5 and streamzap decoders\n9d2f1d3cdedd [media] rc-core: rename dev->scanmask to dev->scancode_mask\nc5540fbb9de3 [media] rc-core: remove protocol arrays\nda6e162d6a46 [media] rc-core: simplify sysfs code\n120703f9eb32 [media] rc-core: document the protocol type\n\nOn a quick look the changes that would more likely break it would be:\n\nc5540fbb9de3 [media] rc-core: remove protocol arrays\nda6e162d6a46 [media] rc-core: simplify sysfs code\n\nYou could try to revert each of them in order to see what patch broke for LIRC.\n\nBefore that, perhaps you should check if the LIRC protocol is enabled. \n\nBtw, there was indeed a regression for LIRC due to the above patches. Basically, the LIRC protocol were disabled after those patches. The fix is\ndone via this changeset:\n\ncommit 14edb593338e3811e818aba286237c365f8881a1\nAuthor: Tomas Melin <tomas.melin@iki.fi>\nDate:   Tue Oct 28 15:43:14 2014 -0300\n\n    [media] rc-core: fix protocol_change regression in ir_raw_event_register\n    \n    IR receiver using nuvoton-cir and lirc required additional configuration\n    steps after upgrade from kernel 3.16 to 3.17-rcX. Bisected regression to\n    commit da6e162d6a4607362f8478c715c797d84d449f8b (\"[media] rc-core:\n    simplify sysfs code\").\n    \n    The regression comes from adding function change_protocol in ir-raw.c.\n    It changes behaviour so that only the protocol enabled by driver's\n    map_name will be active after registration. This breaks user space\n    behaviour, lirc does not get key press signals anymore.\n    \n    Enable lirc protocol by default for ir raw decoders to restore original\n    behaviour.\n    \n    Cc: stable@vger.kernel.org # for v3.17\n    Signed-off-by: Tomas Melin <tomas.melin@iki.fi>\n    Acked-by: David Härdeman <david@hardeman.nu>\n    Signed-off-by: Mauro Carvalho Chehab <mchehab@osg.samsung.com>\n\nPerhaps the fixup is not covering your case, or was not backported to Fedora."
					},
					{
						"isprivate": "0",
						"commentid": "8056668",
						"comment_count": "29",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-19 03:53:09 +0000",
						"thetext": "(In reply to Mauro Carvalho Chehab from comment #28)\n> \n> d6740d86deda [media] rc-core: fix various sparse warnings\n> 4924a311a62f [media] rc-core: rename ir-raw.c\n> e87b540be2dd [media] rc-core: merge rc5 and streamzap decoders\n> 9d2f1d3cdedd [media] rc-core: rename dev->scanmask to dev->scancode_mask\n> c5540fbb9de3 [media] rc-core: remove protocol arrays\n> da6e162d6a46 [media] rc-core: simplify sysfs code\n> 120703f9eb32 [media] rc-core: document the protocol type\n> \n> On a quick look the changes that would more likely break it would be:\n> \n> c5540fbb9de3 [media] rc-core: remove protocol arrays\n> da6e162d6a46 [media] rc-core: simplify sysfs code\n> \n> You could try to revert each of them in order to see what patch broke for\n> LIRC.\n\nI will look at those commits!  That was exactly what I was looking for, someone who knew where \"up the source chain\" I could look next since mceusb.c doesn't seem to be the problem.\n\n> Before that, perhaps you should check if the LIRC protocol is enabled.\n\nHow do I do that?  The lirc modules are in lsmod.  The /dev/lirc0 is there.  The Fedora .config for my kernel shows all entries with *lirc* as y or m.\n\n> Btw, there was indeed a regression for LIRC due to the above patches.\n> Basically, the LIRC protocol were disabled after those patches. The fix is\n> done via this changeset:\n> \n> commit 14edb593338e3811e818aba286237c365f8881a1\n>     [media] rc-core: fix protocol_change regression in ir_raw_event_register\n>\n> Perhaps the fixup is not covering your case, or was not backported to Fedora.\n\nI checked the source of the Fedora kernel I am running and 14edb593338e3811e818aba286237c365f8881a1 is in it.  So like you said, it might not be covering my case.  Or it's not the culprit.  Is there a way I can tell if it's applying to me?  Would it be helpful for me to put printk's inside the if's and recompile and see if the code is running?  If you have any pointers on what code paths/values to look for, I can tinker and find out.\n\nThank you so much for taking a moment to share your wisdom, you have set me on a good path of further things to try and I will see if I can't get this fixed and even offer a patch!"
					},
					{
						"isprivate": "0",
						"commentid": "8068768",
						"comment_count": "30",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-20 20:46:23 +0000",
						"thetext": "Hooray, I manged to get enough space on a non-64bit-inode disk to compile vanilla and do a real bisect using Josh Boyer's tips in that email above.\n\nAfter 2 days of non-stop bisects I got the culprit (I'm pretty sure):\n\n9d2f1d3cdedd4d3efff8d14f1f49cf73e2f5cc36 is the first bad commit\ncommit 9d2f1d3cdedd4d3efff8d14f1f49cf73e2f5cc36\nAuthor: David Härdeman <david@hardeman.nu>\nDate:   Thu Apr 3 20:32:26 2014 -0300\n\n    [media] rc-core: rename dev->scanmask to dev->scancode_mask\n    \n    We already have dev->scancode_filter and dev->scancode_wakeup_filter\n    so rename dev->scanmask to dev->scancode_mask for consistency.\n    \n    Signed-off-by: David Härdeman <david@hardeman.nu>\n    Signed-off-by: Mauro Carvalho Chehab <m.chehab@samsung.com>\n\n:040000 040000 6b7369e197f4c35b41818ec6ebae9478fa2d88a3 e0fd23081240a74852497af1380b37a1827b1a37 M\tdrivers\n:040000 040000 155f3d47dcad21ead01e81e82bfd7e791fb24be9 ede1ce73b9166a4ab1de6680c955e343c870d0f8 M\tinclude\n\n\nI will look at the code now, but I was having trouble figuring out some of the bigger commits as some touch many files going up many levels.  If anyone wants to give me some ideas of what to try to undo from this commit and apply it to origin-head (or better yet fedora's latest src.rpm) I can play around with it.\n\nThanks for everyone's help.  Almost there!"
					},
					{
						"isprivate": "0",
						"commentid": "8068772",
						"comment_count": "31",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-20 20:51:47 +0000",
						"thetext": "Hmm, 9d2f1d3cdedd doesn't seem to really be doing anything much.  Could I have made a mistake with my bisect?\n\ngit bisect start 'drivers/media/rc'\n# good: [19583ca584d6f574384e17fe7613dfaeadcdc4a6] Linux 3.16\ngit bisect good 19583ca584d6f574384e17fe7613dfaeadcdc4a6\n# bad: [9d2f1d3cdedd4d3efff8d14f1f49cf73e2f5cc36] [media] rc-core: rename dev->scanmask to dev->scancode_mask\ngit bisect bad 9d2f1d3cdedd4d3efff8d14f1f49cf73e2f5cc36\n# good: [19583ca584d6f574384e17fe7613dfaeadcdc4a6] Linux 3.16\ngit bisect good 19583ca584d6f574384e17fe7613dfaeadcdc4a6\n# good: [67dd8f35c2d8ed80f26c9654b474cffc11c6674d] Merge branch 'v4l_for_linus' of git://git.kernel.org/pub/scm/linux/kernel/git/mchehab/linux-media\ngit bisect good 67dd8f35c2d8ed80f26c9654b474cffc11c6674d\n# good: [2886f013c312d288fdd4b8472b82a0a9590e3134] [media] bt8xx: fixup RC5 decoding\ngit bisect good 2886f013c312d288fdd4b8472b82a0a9590e3134\n# good: [0bc56cbef9fb496c79e34c46329f016064d3b0f6] [media] saa7134: NEC scancode fix\ngit bisect good 0bc56cbef9fb496c79e34c46329f016064d3b0f6\n# good: [c5540fbb9de39ceec108a889133664a887c2f55a] [media] rc-core: remove protocol arrays\ngit bisect good c5540fbb9de39ceec108a889133664a887c2f55a\n# first bad commit: [9d2f1d3cdedd4d3efff8d14f1f49cf73e2f5cc36] [media] rc-core: rename dev->scanmask to dev->scancode_mask\n\n\nI confirmed the initial good but I don't think I confirmed the initial bad, I think I pulled that from my earlier tests.  I'm going to rebisect this time with a for-sure bad starting point.  Thankfully I can use some of the above results to narrow the next set of builds."
					},
					{
						"isprivate": "0",
						"commentid": "8069952",
						"comment_count": "32",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-22 01:07:45 +0000",
						"thetext": "Hooray #2 (The Real One):\nae045e2455429c418a418a3376301a9e5753a0a8 is the first bad commit\n\nThis time I had a good bisect with some good and some bad ones, so for sure this is the correct bad commit.\n\ngit bisect start '--' 'drivers/media'\n# good: [19583ca584d6f574384e17fe7613dfaeadcdc4a6] Linux 3.16\ngit bisect good 19583ca584d6f574384e17fe7613dfaeadcdc4a6\n# good: [19583ca584d6f574384e17fe7613dfaeadcdc4a6] Linux 3.16\ngit bisect good 19583ca584d6f574384e17fe7613dfaeadcdc4a6\n# good: [67dd8f35c2d8ed80f26c9654b474cffc11c6674d] Merge branch 'v4l_for_linus' of git://git.kernel.org/pub/scm/linux/kernel/git/mchehab/linux-media\ngit bisect good 67dd8f35c2d8ed80f26c9654b474cffc11c6674d\n# good: [2886f013c312d288fdd4b8472b82a0a9590e3134] [media] bt8xx: fixup RC5 decoding\ngit bisect good 2886f013c312d288fdd4b8472b82a0a9590e3134\n# good: [0bc56cbef9fb496c79e34c46329f016064d3b0f6] [media] saa7134: NEC scancode fix\ngit bisect good 0bc56cbef9fb496c79e34c46329f016064d3b0f6\n# good: [c5540fbb9de39ceec108a889133664a887c2f55a] [media] rc-core: remove protocol arrays\ngit bisect good c5540fbb9de39ceec108a889133664a887c2f55a\n# bad: [bfe01a5ba2490f299e1d2d5508cbbbadd897bbe9] Linux 3.17\ngit bisect bad bfe01a5ba2490f299e1d2d5508cbbbadd897bbe9\n# good: [36efec48e2e6016e05364906720a0ec350a5d768] [media] cx23885: Add si2165 support for HVR-5500\ngit bisect good 36efec48e2e6016e05364906720a0ec350a5d768\n# good: [833e1063266ebbf75934f1171c6546cdf33e9848] [media] media: atmel-isi: convert the pdata from pointer to structure\ngit bisect good 833e1063266ebbf75934f1171c6546cdf33e9848\n# bad: [6a03dc92cc2edfa2257502557b9f714893987383] [media] cx18: fix kernel oops with tda8290 tuner\ngit bisect bad 6a03dc92cc2edfa2257502557b9f714893987383\n# good: [f4d33337eac4007793ca11fd1ab68d91ce7aa762] Merge branch 'v4l_for_linus' of git://git.kernel.org/pub/scm/linux/kernel/git/mchehab/linux-media\ngit bisect good f4d33337eac4007793ca11fd1ab68d91ce7aa762\n# bad: [ae045e2455429c418a418a3376301a9e5753a0a8] Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next\ngit bisect bad ae045e2455429c418a418a3376301a9e5753a0a8\n# good: [c835a677331495cf137a7f8a023463afd9f032f8] net: set name_assign_type in alloc_netdev()\ngit bisect good c835a677331495cf137a7f8a023463afd9f032f8\n# good: [8fd90bb889635fa1e7f80a3950948cc2e74c1446] Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net\ngit bisect good 8fd90bb889635fa1e7f80a3950948cc2e74c1446\n# first bad commit: [ae045e2455429c418a418a3376301a9e5753a0a8] Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next\n\nI'll dive into the code shortly.  Anyone else have any ideas?\n\nae045e is a bit unexpected as the culprit..."
					},
					{
						"isprivate": "0",
						"commentid": "8070024",
						"comment_count": "33",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-22 04:14:11 +0000",
						"thetext": "I looked at the diff for my above bisect and none looked like they could cause this bug.  So I played with git a bit more...\n\nOh, I see, because I started the bisect with:\ngit bisect start '--' 'drivers/media'\n\nthat means I'm not really done, because the problem probably (as it turns out) isn't in drivers/media.\n\nI just started a blanket bisect (no path specified) between ae045e and 8fd90b and there's a few thousand more commits to go.  I'll report back in 2-3 days when I finally (hopefully!) have the *real* commit that causes this bug.  Wish my buggy computer was faster than a P4."
					},
					{
						"isprivate": "0",
						"commentid": "8071626",
						"comment_count": "34",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-23 05:15:47 +0000",
						"thetext": "Hooray #3 (The Real Real One):\n\n166afb64511eef08e13331b970c44fe91cea45ef is the first bad commit\n\nThis time I didn't set any path when bisecting, I bisected every commit between a known/tested good and bad, and my bisect gave me both good and bad commits during testing.\n\n166afb64511eef08e13331b970c44fe91cea45ef seems like a very odd culprit.  I hope again I didn't do anything wrong.  Here is my procedure:\n\ngit bisect [good|bad]\nn19 make bzImage && n19 make modules && n19 make modules_install && n19 make install\n# then confirm grub2 is set to boot correct (newly built) kernel, confirm with ll -t /boot\nreboot\nuname -a\n# confirm in newly built kernel\n\nstrace lircd\nirsend SEND_ONCE dct700 info\n\n# if it times out, it's \"bad\", if it returns immediately with no error, it's \"good\"\n\nrepeat.\n\nI hope I'm not supposed to do any \"clean\" or anything before repeating.  I didn't really do anything else besides the above.\n\nHere's my bisect log.  Can anyone see any possible way this commit causes the problem and how?\n\ngit bisect start\n# good: [8fd90bb889635fa1e7f80a3950948cc2e74c1446] Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net\ngit bisect good 8fd90bb889635fa1e7f80a3950948cc2e74c1446\n# bad: [ae045e2455429c418a418a3376301a9e5753a0a8] Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next\ngit bisect bad ae045e2455429c418a418a3376301a9e5753a0a8\n# good: [b9aaea39f65e242303103b5283abeaefd8e538a4] staging: comedi: addi_apci_1564: remove diagnostic interrupt support code\ngit bisect good b9aaea39f65e242303103b5283abeaefd8e538a4\n# good: [f67d251a87ccb288a3a164c5226c6ee9ce8ea53d] Merge branch 'for-next' of git://git.kernel.org/pub/scm/linux/kernel/git/gerg/m68knommu\ngit bisect good f67d251a87ccb288a3a164c5226c6ee9ce8ea53d\n# good: [ed5c41d30ef2ce578fd6b6e2f7ec23f2a58b1eba] x86: MCE: Add raw_lock conversion again\ngit bisect good ed5c41d30ef2ce578fd6b6e2f7ec23f2a58b1eba\n# good: [61ab9efddf51cbc0d57356a4d650785cf5721fbe] net/usb/hso: Add support for Option GTM671WFS\ngit bisect good 61ab9efddf51cbc0d57356a4d650785cf5721fbe\n# bad: [e7fda6c4c3c1a7d6996dd75fd84670fa0b5d448f] Merge branch 'timers-core-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip\ngit bisect bad e7fda6c4c3c1a7d6996dd75fd84670fa0b5d448f\n# bad: [154adc14b1ce941b642a3775f2423c20d55c026b] mfd: cros_ec_spi: Use ktime_get_ns()\ngit bisect bad 154adc14b1ce941b642a3775f2423c20d55c026b\n# good: [3252a646aa2cf706b2a26433a8bd9cb2e5dce410] clocksource: exynos_mct: Only use 32-bits where possible\ngit bisect good 3252a646aa2cf706b2a26433a8bd9cb2e5dce410\n# bad: [7c032df5570388044b4efda3d9f4d2ffb96a3116] timekeeping: Provide internal ktime_t based data\ngit bisect bad 7c032df5570388044b4efda3d9f4d2ffb96a3116\n# good: [24e4a8c3e8868874835b0f1ad6dd417341e99822] ktime: Kill non-scalar ktime_t implementation for 2038\ngit bisect good 24e4a8c3e8868874835b0f1ad6dd417341e99822\n# bad: [7d489d15ce4be5310ca60e5896df833f9b3b4088] timekeeping: Convert timekeeping core to use timespec64s\ngit bisect bad 7d489d15ce4be5310ca60e5896df833f9b3b4088\n# bad: [b17b20d70dcbe48dd1aa6aba073a60ddfce5d7db] ktime: Change ktime_set() to take 64bit seconds value\ngit bisect bad b17b20d70dcbe48dd1aa6aba073a60ddfce5d7db\n# bad: [166afb64511eef08e13331b970c44fe91cea45ef] ktime: Sanitize ktime_to_us/ms conversion\ngit bisect bad 166afb64511eef08e13331b970c44fe91cea45ef\n# first bad commit: [166afb64511eef08e13331b970c44fe91cea45ef] ktime: Sanitize ktime_to_us/ms conversion\n\n\nI won't include the bad commit's diff, unless someone requests, I assume everyone can easily git it:\n\ngit diff 166afb64511^ 166afb64511\n\nThanks for any help!!"
					},
					{
						"isprivate": "0",
						"commentid": "8071764",
						"comment_count": "35",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-23 06:37:55 +0000",
						"thetext": "Ah!  Possibly a bug in this commit?!\n\nktime_to_us returns s64, but the commit changes it so ktime_to_us just returns what ktime_divns returns, and ktime_divns returns a u64!  If the u64 is big enough, wouldn't it wrap s64 around to a negative number?  Or, perhaps if some caller is passing in negative ktime_t to begin with it will trigger without having to hit big numbers.  With my limited knowledge of C, I am stabbing in the dark here.\n\nAnd maybe no one else sees this because I'm one of the last people on 32-bit?  Or maybe it's a combo of 32-bit + infrared code.  Seems strange, as this code has been in the kernel many months.\n\nI am right now compiling the latest FC21 kernel 3.19.1-201.fc21 with a self-made patch to undo the changes to just those 2 functions to be what they were before.  In a few hours I'll be able to boot into the test kernel and know for sure if this is the bug!\n\nThese functions are called 75 times in the source tree, including in drivers, but none in drivers/media.  I'm crossing my fingers that my little patch fixes this problem and it's solved once and for all.  Otherwise I have no idea what I did wrong in the bisect this time."
					},
					{
						"isprivate": "0",
						"commentid": "8074761",
						"comment_count": "36",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-23 17:02:16 +0000",
						"thetext": "Final hooray!  This commit *IS INDEED* my bug!  I reverted a tiny bit of the commit to use the old method instead of the function call and compiled it into stock kernel-PAE-3.19.1-201.fc21.i686 src.rpm and built/installed and *my bug goes away*!\n\nI just posted my results to the LKML to see if we can get some input on what the \"proper\" fix is.  Just reverting to the old method is a kludge.  We'd want to fix the new method to work properly in my use case.  I'm still leaning towards the u64/s64 types being the problem.\n\nI'll report back here with any news.\n\nIn the meantime, any chance my patch can get applied to Fedora 21 stock kernel rpm? :-)"
					},
					{
						"isprivate": "0",
						"commentid": "8074773",
						"comment_count": "37",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-03-23 17:04:05 +0000",
						"thetext": "Created attachment 1005505\nPoC reverts the changes that cause my bug, for kernel-3.19.1-201.fc21.i686\n\nNot the final solution, but solves my bug for me right now."
					},
					{
						"isprivate": "0",
						"commentid": "8187439",
						"comment_count": "38",
						"who": {
							"text": "kernel-team",
							"name": "Fedora Kernel Team"
						},
						"bug_when": "2015-04-28 18:31:47 +0000",
						"thetext": "*********** MASS BUG UPDATE **************\n\nWe apologize for the inconvenience.  There is a large number of bugs to go through and several of them have gone stale.  Due to this, we are doing a mass bug update across all of the Fedora 21 kernel bugs.\n\nFedora 21 has now been rebased to 3.19.5-200.fc21.  Please test this kernel update (or newer) and let us know if you issue has been resolved or if it is still present with the newer kernel.\n\nIf you have moved on to Fedora 22, and are still experiencing this issue, please change the version to Fedora 22.\n\nIf you experience different issues, please open a new bug report for those."
					},
					{
						"isprivate": "0",
						"commentid": "8189726",
						"comment_count": "39",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-04-29 08:14:25 +0000",
						"thetext": "This bug persists in 3.19.5-200.fc21.\n\nI have bisected this bug down to the 1 or 2 tiny functions that cause it, like 2 lines of code, and posted to both kernel and rhbz, and posted to kernel mailing list yet not a single person has responded?  What do I have to do to get some eyeballs on this?  From what I can tell by the offending code, this bug could hit more people than just the mceusb driver.  One would think the ktime functions are important enough to make bug free?\n\nIn the meantime I'm running 3.19.1-201.fc21 with my reversion of the offending patch, and it's worked great for over a month."
					},
					{
						"isprivate": "0",
						"commentid": "8190397",
						"comment_count": "40",
						"who": {
							"text": "jwboyer",
							"name": "Josh Boyer"
						},
						"bug_when": "2015-04-29 11:47:27 +0000",
						"thetext": "LKML is kind of a dumping ground for patches and if you didn't have the right maintainers CC'd it likely didn't even get read.\n\nI don't have a copy of your email locally any longer for some reason.  Could you reply to it and make sure you have John Stultz <john.stultz@linaro.org> and Thomas Gleixner <tglx@linutronix.de> on CC?"
					},
					{
						"isprivate": "0",
						"commentid": "8222035",
						"comment_count": "41",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-05-11 16:52:46 +0000",
						"thetext": "The LKML guys have solved this, and it looks like a patch will make its way into mainline.  The details are on LKML \"ktime: Fix ktime_divns to do signed division\" and I copied some of the info into upstream kernel bz: https://bugzilla.kernel.org/show_bug.cgi?id=95431 along with the patch.\n\nIf this patch could make it into Fedora 21 that would be great!  To apply to F21 3.19.5 you also need to apply one other git commit patch first.  I'm not sure of the protocol for this.  I made a single patch containing both patches in order to rpmbuild a test kernel.  Let me know how best to provide these things for inclusion in F21.\n\nThanks to all for fixing this bug!"
					},
					{
						"isprivate": "0",
						"commentid": "8275904",
						"comment_count": "42",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-05-28 20:40:44 +0000",
						"thetext": "kernel-4.0.4-303.fc22 has been submitted as an update for Fedora 22.\nhttps://admin.fedoraproject.org/updates/kernel-4.0.4-303.fc22"
					},
					{
						"isprivate": "0",
						"commentid": "8275912",
						"comment_count": "43",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-05-28 20:42:00 +0000",
						"thetext": "kernel-4.0.4-202.fc21 has been submitted as an update for Fedora 21.\nhttps://admin.fedoraproject.org/updates/kernel-4.0.4-202.fc21"
					},
					{
						"isprivate": "0",
						"commentid": "8275914",
						"comment_count": "44",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-05-28 20:42:03 +0000",
						"thetext": "kernel-4.0.4-101.fc20 has been submitted as an update for Fedora 20.\nhttps://admin.fedoraproject.org/updates/kernel-4.0.4-101.fc20"
					},
					{
						"isprivate": "0",
						"commentid": "8288916",
						"comment_count": "45",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-05-30 04:24:10 +0000",
						"thetext": "4.0.4-201.fc21.i686+PAE does *not* fix this bug for me.  Are you sure it contains the relevant patch or commit?\n\n11:19pm ~#uptime ; uname -a\n 23:19:42 up 1 min,  1 user,  load average: 1.26, 0.59, 0.22\nLinux piles.mydomain.com 4.0.4-201.fc21.i686+PAE #1 SMP Thu May 21 16:14:41 UTC 2015 i686 i686 i386 GNU/Linux\n11:19pm ~#irsend SEND_ONCE dct700 info\nirsend: timeout\nExit 1\n\n[... reboot ...]\n\n11:23pm ~#uptime ; uname -a\n 23:23:10 up 1 min,  1 user,  load average: 0.93, 0.44, 0.16\nLinux piles.mydomain.com 3.19.5-201.fc21.i686+PAE #1 SMP Fri May 8 16:41:05 CDT 2015 i686 i686 i386 GNU/Linux\n11:23pm ~#irsend SEND_ONCE dct700 info\n11:23pm ~#irsend SEND_ONCE dct700 info"
					},
					{
						"isprivate": "0",
						"commentid": "8289259",
						"comment_count": "46",
						"who": {
							"text": "labbott",
							"name": "Laura Abbott"
						},
						"bug_when": "2015-05-30 15:11:21 +0000",
						"thetext": "It isn't fixed in 201, it is fixed in 202. Please try the newest version."
					},
					{
						"isprivate": "0",
						"commentid": "8289369",
						"comment_count": "47",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-05-30 15:46:27 +0000",
						"thetext": "Package kernel-4.0.4-202.fc21:\n* should fix your issue,\n* was pushed to the Fedora 21 testing repository,\n* should be available at your local mirror within two days.\nUpdate it with:\n# su -c 'yum update --enablerepo=updates-testing kernel-4.0.4-202.fc21'\nas soon as you are able to, then reboot.\nPlease go to the following url:\nhttps://admin.fedoraproject.org/updates/FEDORA-2015-9127/kernel-4.0.4-202.fc21\nthen log in and leave karma (feedback)."
					},
					{
						"isprivate": "0",
						"commentid": "8290004",
						"comment_count": "48",
						"who": {
							"text": "trevor",
							"name": "Trevor Cordes"
						},
						"bug_when": "2015-05-31 06:40:23 +0000",
						"thetext": "Sorry!  Didn't know it was in -testing only.  I got it from testing, rebooted and it does indeed fix the bug.  Hooray!\n\nThanks to everyone for your help, thanks especially to Josh and the Redhatters helping me to get attention from the other kernel devs.\n\nI will leave karma shortly (signing up now, first time!)."
					},
					{
						"isprivate": "0",
						"commentid": "8293682",
						"comment_count": "49",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-06-01 17:03:50 +0000",
						"thetext": "kernel-4.0.4-303.fc22 has been pushed to the Fedora 22 stable repository.  If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "8293714",
						"comment_count": "50",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-06-01 17:06:52 +0000",
						"thetext": "kernel-4.0.4-202.fc21 has been pushed to the Fedora 21 stable repository.  If problems still persist, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1220519,
			"feedback": [
				{
					"bug_id": 1220519,
					"comment": {
						"id": 408949,
						"karma": 1,
						"karma_critpath": 1,
						"timestamp": "2016-03-28 23:38:13",
						"update_id": 11773,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/6446918341fa15fa3451d38b3af9120a8030fbd001689e9468e3c9d38cea2bb3?s=24&d=retro",
							"email": "wesleyotugo@gmail.com",
							"id": 2689,
							"name": "wesleyotugo",
							"openid": "wesleyotugo.id.fedoraproject.org"
						},
						"user_id": 2689
					},
					"comment_id": 408949
				},
				{
					"bug_id": 1220519,
					"comment": {
						"id": 409315,
						"karma": 1,
						"karma_critpath": 1,
						"timestamp": "2016-03-29 14:55:41",
						"update_id": 11773,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/274d8930d60d75b720d72ccf4d5e402a2a07140c98b2dc51b20a4089ebec738f?s=24&d=retro",
							"email": "luca.ciavatta@gmail.com",
							"id": 2697,
							"name": "cialu",
							"openid": "cialu.id.fedoraproject.org"
						},
						"user_id": 2697
					},
					"comment_id": 409315
				},
				{
					"bug_id": 1220519,
					"comment": {
						"id": 519737,
						"karma": 1,
						"karma_critpath": 1,
						"testcase_feedback": [
							{
								"comment_id": 519737,
								"karma": 1,
								"testcase": {
									"id": 372,
									"name": "QA:Testcase kernel regression"
								},
								"testcase_id": 372
							}
						],
						"timestamp": "2016-11-11 07:17:19",
						"update_id": 11773,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/30a017a6a67c98a23b912280feea8fb03d7a4d84b4d7b8da08f74eb4ff663621?s=24&d=retro",
							"email": "drwesleydekstar@gmail.com",
							"id": 3276,
							"name": "drwesleydekstar",
							"openid": "drwesleydekstar.id.fedoraproject.org"
						},
						"user_id": 3276
					},
					"comment_id": 519737
				}
			],
			"title": "kernel/sched/core.c:7291 __might_sleep+0x87/0x90()",
			"bugzilla": {
				"bug_id": "1220519",
				"creation_ts": "2015-05-11 18:17:49 +0000",
				"short_desc": "kernel/sched/core.c:7291 __might_sleep+0x87/0x90()",
				"delta_ts": "2015-06-08 11:27:15 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"priority": "unspecified",
				"bug_severity": "unspecified",
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "8222222",
						"comment_count": "0",
						"who": {
							"text": "pomidorabelisima",
							"name": "poma"
						},
						"bug_when": "2015-05-11 18:17:49 +0000",
						"thetext": "[   38.413109] ------------[ cut here ]------------\n[   38.413119] WARNING: CPU: 1 PID: 6 at kernel/sched/core.c:7291 __might_sleep+0x87/0x90()\n[   38.413124] do not call blocking ops when !TASK_RUNNING; state=2 set at [<ffffffff81898dd5>] wait_for_completion_io+0xe5/0x140\n...\n[   38.413200] CPU: 1 PID: 6 Comm: kworker/u16:0 Tainted: G         C      4.1.0-0.rc3.git0.1.fc23.x86_64+debug #1\n...\n[   38.413217] Call Trace:\n[   38.413221]  [<ffffffff81895355>] dump_stack+0x4c/0x65\n[   38.413224]  [<ffffffff810b043a>] warn_slowpath_common+0x8a/0xc0\n[   38.413227]  [<ffffffff810b04c5>] warn_slowpath_fmt+0x55/0x70\n[   38.413229]  [<ffffffff81898dd5>] ? wait_for_completion_io+0xe5/0x140\n[   38.413230]  [<ffffffff81898dd5>] ? wait_for_completion_io+0xe5/0x140\n[   38.413232]  [<ffffffff810e0b67>] __might_sleep+0x87/0x90\n[   38.413235]  [<ffffffff813fdeaf>] generic_make_request_checks+0x3f/0x600\n[   38.413238]  [<ffffffff8189e726>] ? _raw_spin_unlock_irqrestore+0x36/0x70\n[   38.413241]  [<ffffffff811102fd>] ? trace_hardirqs_on_caller+0x13d/0x1e0\n[   38.413243]  [<ffffffff813fe497>] generic_make_request+0x27/0x130\n[   38.413250]  [<ffffffffa0000438>] raid1_unplug+0x108/0x160 [raid1]\n[   38.413253]  [<ffffffff8140437a>] blk_flush_plug_list+0x9a/0x260\n[   38.413256]  [<ffffffff81897710>] io_schedule_timeout+0x120/0x130\n[   38.413258]  [<ffffffff81898df7>] wait_for_completion_io+0x107/0x140\n[   38.413260]  [<ffffffff810e9c90>] ? wake_up_state+0x20/0x20\n[   38.413263]  [<ffffffff8140c087>] __blkdev_issue_zeroout+0x227/0x270\n[   38.413265]  [<ffffffff81898d3a>] ? wait_for_completion_io+0x4a/0x140\n[   38.413268]  [<ffffffff8140c17a>] blkdev_issue_zeroout+0xaa/0x100\n[   38.413271]  [<ffffffff813512f2>] ext4_ext_zeroout.isra.34+0x52/0x60\n[   38.413274]  [<ffffffff813572a0>] ext4_ext_handle_unwritten_extents+0x680/0x10d0\n[   38.413276]  [<ffffffff81358247>] ext4_ext_map_blocks+0x527/0x13c0\n[   38.413279]  [<ffffffff81324779>] ? ext4_map_blocks+0x179/0x510\n[   38.413281]  [<ffffffff81324779>] ? ext4_map_blocks+0x179/0x510\n[   38.413283]  [<ffffffff8132479d>] ext4_map_blocks+0x19d/0x510\n[   38.413285]  [<ffffffff8132828d>] ext4_writepages+0x7fd/0x13e0\n[   38.413289]  [<ffffffff81201c91>] do_writepages+0x21/0x40\n[   38.413292]  [<ffffffff812b72c0>] __writeback_single_inode+0x70/0xb00\n[   38.413294]  [<ffffffff812b8360>] writeback_sb_inodes+0x2c0/0x680\n[   38.413296]  [<ffffffff812b87c2>] __writeback_inodes_wb+0xa2/0xd0\n[   38.413298]  [<ffffffff812b8c03>] wb_writeback+0x413/0x790\n[   38.413300]  [<ffffffff812a2224>] ? get_nr_inodes+0x54/0x80\n[   38.413302]  [<ffffffff812b95b1>] bdi_writeback_workfn+0x3b1/0x8c0\n[   38.413305]  [<ffffffff810d1572>] process_one_work+0x232/0x860\n[   38.413307]  [<ffffffff810d14db>] ? process_one_work+0x19b/0x860\n[   38.413309]  [<ffffffff810d1c7a>] ? worker_thread+0xda/0x470\n[   38.413312]  [<ffffffff810d1bf3>] worker_thread+0x53/0x470\n[   38.413314]  [<ffffffff810d1ba0>] ? process_one_work+0x860/0x860\n[   38.413316]  [<ffffffff810d86c4>] kthread+0x104/0x120\n[   38.413319]  [<ffffffff810ee045>] ? local_clock+0x25/0x30\n[   38.413321]  [<ffffffff810d85c0>] ? kthread_create_on_node+0x250/0x250\n[   38.413323]  [<ffffffff8189f5a2>] ret_from_fork+0x42/0x70\n[   38.413325]  [<ffffffff810d85c0>] ? kthread_create_on_node+0x250/0x250\n[   38.413327] ---[ end trace ca9ea5620ac2e2e0 ]---"
					},
					{
						"isprivate": "0",
						"commentid": "8222223",
						"comment_count": "1",
						"who": {
							"text": "pomidorabelisima",
							"name": "poma"
						},
						"bug_when": "2015-05-11 18:18:25 +0000",
						"thetext": "\nhttps://bugzilla.kernel.org/show_bug.cgi?id=98091"
					},
					{
						"isprivate": "0",
						"commentid": "8227793",
						"comment_count": "2",
						"who": {
							"text": "pomidorabelisima",
							"name": "poma"
						},
						"bug_when": "2015-05-13 04:30:52 +0000",
						"thetext": "\nhttps://bugzilla.kernel.org/show_bug.cgi?id=98191"
					},
					{
						"isprivate": "0",
						"commentid": "8231307",
						"comment_count": "3",
						"who": {
							"text": "pomidorabelisima",
							"name": "poma"
						},
						"bug_when": "2015-05-13 23:15:31 +0000",
						"thetext": "\nThe same is with the stable 4.0.3.\n\n[   11.906422] ------------[ cut here ]------------\n[   11.906432] WARNING: CPU: 1 PID: 472 at kernel/sched/core.c:7302 __might_sleep+0x87/0x90()\n[   11.906439] do not call blocking ops when !TASK_RUNNING; state=2 set at [<ffffffff818849f5>] wait_for_completion_io+0xe5/0x140\n[   11.906465] Modules linked in: ivtv(+) mxm_wmi snd_hda_intel tveeprom video cx2341x ttm serio_raw snd_hda_controller v4l2_common r8169 parport_serial drm_kms_helper parport_pc videodev media i2c_algo_bit drm snd_hda_codec skge mii parport edac_core edac_mce_amd snd_hwdep ata_generic pata_acpi snd_seq snd_seq_device wmi snd_pcm snd_timer snd soundcore shpchp pata_amd i2c_nforce2 acpi_cpufreq nfsd auth_rpcgss nfs_acl ecryptfs lockd grace encrypted_keys trusted sunrpc tpm i2c_dev binfmt_misc raid1\n[   11.906469] CPU: 1 PID: 472 Comm: systemd-journal Not tainted 4.0.3-300.fc22.x86_64+debug #1\n...\n[   11.906476] Call Trace:\n[   11.906480]  [<ffffffff81881318>] dump_stack+0x4c/0x65\n[   11.906482]  [<ffffffff810ac4ba>] warn_slowpath_common+0x8a/0xc0\n[   11.906484]  [<ffffffff810ac545>] warn_slowpath_fmt+0x55/0x70\n[   11.906486]  [<ffffffff818849f5>] ? wait_for_completion_io+0xe5/0x140\n[   11.906487]  [<ffffffff818849f5>] ? wait_for_completion_io+0xe5/0x140\n[   11.906489]  [<ffffffff810dc7b7>] __might_sleep+0x87/0x90\n[   11.906492]  [<ffffffff813ef8cf>] generic_make_request_checks+0x3f/0x600\n[   11.906495]  [<ffffffff8188a336>] ? _raw_spin_unlock_irqrestore+0x36/0x70\n[   11.906497]  [<ffffffff8110be6d>] ? trace_hardirqs_on_caller+0x13d/0x1e0\n[   11.906498]  [<ffffffff813efeb7>] generic_make_request+0x27/0x130\n[   11.906505]  [<ffffffffa0000438>] raid1_unplug+0x108/0x160 [raid1]\n[   11.906507]  [<ffffffff813f5d8a>] blk_flush_plug_list+0x9a/0x260\n[   11.906509]  [<ffffffff8188a2e0>] ? _raw_spin_unlock_irq+0x30/0x50\n[   11.906511]  [<ffffffff81883340>] io_schedule_timeout+0x120/0x130\n[   11.906512]  [<ffffffff8110bf1d>] ? trace_hardirqs_on+0xd/0x10\n[   11.906514]  [<ffffffff81884a17>] wait_for_completion_io+0x107/0x140\n[   11.906516]  [<ffffffff810e5c90>] ? wake_up_state+0x20/0x20\n[   11.906518]  [<ffffffff813fdaa7>] __blkdev_issue_zeroout+0x227/0x270\n[   11.906520]  [<ffffffff8188495a>] ? wait_for_completion_io+0x4a/0x140\n[   11.906522]  [<ffffffff813fdb9a>] blkdev_issue_zeroout+0xaa/0x100\n[   11.906524]  [<ffffffff81346402>] ext4_ext_zeroout.isra.33+0x52/0x60\n[   11.906525]  [<ffffffff8134c96b>] ext4_ext_handle_unwritten_extents+0xc3b/0x10d0\n[   11.906527]  [<ffffffff8134d357>] ext4_ext_map_blocks+0x527/0x13e0\n[   11.906530]  [<ffffffff81319a59>] ? ext4_map_blocks+0x179/0x510\n[   11.906531]  [<ffffffff81319a59>] ? ext4_map_blocks+0x179/0x510\n[   11.906532]  [<ffffffff81319a7d>] ext4_map_blocks+0x19d/0x510\n[   11.906534]  [<ffffffff8131d292>] ? ext4_writepages+0x522/0x13e0\n[   11.906535]  [<ffffffff8131d56d>] ext4_writepages+0x7fd/0x13e0\n[   11.906539]  [<ffffffff811f77f1>] do_writepages+0x21/0x40\n[   11.906541]  [<ffffffff811e9175>] __filemap_fdatawrite_range+0x65/0x90\n[   11.906542]  [<ffffffff811e92bd>] filemap_write_and_wait_range+0x2d/0x70\n[   11.906544]  [<ffffffff813125f3>] ext4_sync_file+0x173/0x660\n[   11.906546]  [<ffffffff812b365e>] vfs_fsync_range+0x4e/0xb0\n[   11.906548]  [<ffffffff812b371d>] do_fsync+0x3d/0x70\n[   11.906549]  [<ffffffff812b3a10>] SyS_fsync+0x10/0x20\n[   11.906551]  [<ffffffff8188ae89>] system_call_fastpath+0x12/0x17\n[   11.906552] ---[ end trace b410c9ba3fb479ca ]---"
					},
					{
						"isprivate": "0",
						"commentid": "8231732",
						"comment_count": "4",
						"who": {
							"text": "pomidorabelisima",
							"name": "poma"
						},
						"bug_when": "2015-05-14 03:47:24 +0000",
						"thetext": "\nI asked MD guys, but I ask you also,\n\nI patched the stable 4.0.3-300.fc22.x86_64+debug with the 5596d0d,\nand the effect is positivo:\n4.0.3-201.fc21.x86_64+debug - PASSED\n\nStable 3.19.x is EOL,\nso care to push 5596d0d to the stable 4.0.x\nso it can land with both, Fedora 22 and Fedora 21?\n\nhttps://git.kernel.org/cgit/linux/kernel/git/next/linux-next.git/commit/kernel/sched/core.c?id=5596d0d\n\nFor Rawhide, because it is already in the linux-next, it will probably be in the next mainline rc, so no worry for that."
					},
					{
						"isprivate": "0",
						"commentid": "8236625",
						"comment_count": "5",
						"who": {
							"text": "pomidorabelisima",
							"name": "poma"
						},
						"bug_when": "2015-05-14 17:51:57 +0000",
						"thetext": "\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1182370\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1188056"
					},
					{
						"isprivate": "0",
						"commentid": "8263420",
						"comment_count": "6",
						"who": {
							"text": "pomidorabelisima",
							"name": "poma"
						},
						"bug_when": "2015-05-25 12:48:28 +0000",
						"thetext": "\nhttps://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/kernel/sched/core.c?id=refs/tags/v4.1-rc5#n4392\n\n... stable: 4.0.x"
					},
					{
						"isprivate": "0",
						"commentid": "8266196",
						"comment_count": "7",
						"who": {
							"text": "jwboyer",
							"name": "Josh Boyer"
						},
						"bug_when": "2015-05-26 13:06:41 +0000",
						"thetext": "Added on all 4.0.x branches.  Thank you."
					},
					{
						"isprivate": "0",
						"commentid": "8275903",
						"comment_count": "8",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-05-28 20:40:41 +0000",
						"thetext": "kernel-4.0.4-303.fc22 has been submitted as an update for Fedora 22.\nhttps://admin.fedoraproject.org/updates/kernel-4.0.4-303.fc22"
					},
					{
						"isprivate": "0",
						"commentid": "8275910",
						"comment_count": "9",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-05-28 20:41:57 +0000",
						"thetext": "kernel-4.0.4-202.fc21 has been submitted as an update for Fedora 21.\nhttps://admin.fedoraproject.org/updates/kernel-4.0.4-202.fc21"
					},
					{
						"isprivate": "0",
						"commentid": "8275911",
						"comment_count": "10",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-05-28 20:41:59 +0000",
						"thetext": "kernel-4.0.4-101.fc20 has been submitted as an update for Fedora 20.\nhttps://admin.fedoraproject.org/updates/kernel-4.0.4-101.fc20"
					},
					{
						"isprivate": "0",
						"commentid": "8289368",
						"comment_count": "11",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-05-30 15:46:24 +0000",
						"thetext": "Package kernel-4.0.4-202.fc21:\n* should fix your issue,\n* was pushed to the Fedora 21 testing repository,\n* should be available at your local mirror within two days.\nUpdate it with:\n# su -c 'yum update --enablerepo=updates-testing kernel-4.0.4-202.fc21'\nas soon as you are able to, then reboot.\nPlease go to the following url:\nhttps://admin.fedoraproject.org/updates/FEDORA-2015-9127/kernel-4.0.4-202.fc21\nthen log in and leave karma (feedback)."
					},
					{
						"isprivate": "0",
						"commentid": "8293681",
						"comment_count": "12",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-06-01 17:03:46 +0000",
						"thetext": "kernel-4.0.4-303.fc22 has been pushed to the Fedora 22 stable repository.  If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "8293713",
						"comment_count": "13",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-06-01 17:06:49 +0000",
						"thetext": "kernel-4.0.4-202.fc21 has been pushed to the Fedora 21 stable repository.  If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "8314137",
						"comment_count": "14",
						"who": {
							"text": "pomidorabelisima",
							"name": "poma"
						},
						"bug_when": "2015-06-08 11:27:15 +0000",
						"thetext": "\nRecently, as part of stable 4.0.5\n\n$ uname -r\n4.0.5-500.fc22.x86_64"
					}
				]
			}
		}
	],
	"builds": [
		{
			"nvr": "kernel-4.0.4-202.fc21",
			"signed": true,
			"type": "rpm",
			"package": {
				"armv7hl": [
					{
						"name": "kernel-lpae-devel",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel-lpae-modules",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel-tools-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "python-perf",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel-devel",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "python-perf-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "perf",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel-lpae-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel-debuginfo-common-armv7hl",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel-core",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel-lpae",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel-headers",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel-tools-libs",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "perf-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel-modules",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel-tools-libs-devel",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel-modules-extra",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel-lpae-core",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel-lpae-modules-extra",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					},
					{
						"name": "kernel-tools",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "armv7hl"
					}
				],
				"i686": [
					{
						"name": "kernel-debug-core",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "python-perf",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-tools-libs-devel",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-debug-modules-extra",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-PAE-modules",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-PAE",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-PAEdebug-modules",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-debug-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-debug-devel",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-headers",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-PAEdebug-core",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-PAEdebug-devel",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-PAE-modules-extra",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-PAE-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "perf",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-core",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "python-perf-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-PAEdebug-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-tools",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-tools-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-devel",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-PAEdebug-modules-extra",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-PAE-core",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-tools-libs",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "perf-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-PAEdebug",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-PAE-devel",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-debuginfo-common-i686",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-debug-modules",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-modules",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-modules-extra",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					},
					{
						"name": "kernel-debug",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "i686"
					}
				],
				"src": [
					{
						"name": "kernel",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "src"
					}
				],
				"x86_64": [
					{
						"name": "kernel-tools",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "python-perf",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel-tools-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel-debug-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel-modules",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel-tools-libs-devel",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel-debug-core",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "perf",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel-modules-extra",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel-core",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "python-perf-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel-headers",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel-debug-modules",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel-debug-modules-extra",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "perf-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel-debuginfo-common-x86_64",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel-tools-libs",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel-debug",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel-debug-devel",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel-devel",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					},
					{
						"name": "kernel-debuginfo",
						"version": "4.0.4",
						"release": "202.fc21",
						"arch": "x86_64"
					}
				]
			}
		}
	],
	"close_bugs": true,
	"comments": [
		{
			"id": 202679,
			"text": "This update has been submitted for testing by jforbes. ",
			"timestamp": "2015-05-28 20:42:03",
			"update_id": 26089,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 202680,
			"text": "Taskotron: depcheck test PASSED on i386. Result log:\nhttps://taskotron.fedoraproject.org/taskmaster//builders/x86_64/builds/74402/steps/runtask/logs/stdio\n(results are informative only)",
			"timestamp": "2015-05-28 21:01:02",
			"update_id": 26089,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/1c99e8328b68b58a71f5a9d6449baa7cb914591c56cbec0adfac7c50e4abefa4?s=24&d=retro",
				"email": "taskotron@fedoraproject.org",
				"groups": [
					{}
				],
				"id": 100,
				"name": "taskotron",
				"openid": "taskotron.id.fedoraproject.org"
			},
			"user_id": 100
		},
		{
			"id": 202681,
			"text": "Taskotron: depcheck test PASSED on x86_64. Result log:\nhttps://taskotron.fedoraproject.org/taskmaster//builders/x86_64/builds/74402/steps/runtask/logs/stdio\n(results are informative only)",
			"timestamp": "2015-05-28 21:02:21",
			"update_id": 26089,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/1c99e8328b68b58a71f5a9d6449baa7cb914591c56cbec0adfac7c50e4abefa4?s=24&d=retro",
				"email": "taskotron@fedoraproject.org",
				"groups": [
					{}
				],
				"id": 100,
				"name": "taskotron",
				"openid": "taskotron.id.fedoraproject.org"
			},
			"user_id": 100
		},
		{
			"id": 202682,
			"karma": 1,
			"text": "No regressions encountered in everyday use. (I've been running it since the Koji\nbuild finished last night.)",
			"timestamp": "2015-05-29 02:34:03",
			"update_id": 26089,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/e62cb974458dc33fcf2225462b8765e0aadcbbd698560c8f8dad6c3e23d5e47e?s=24&d=retro",
				"email": "dhgutteridge@hotmail.com",
				"groups": [
					{
						"name": "ipausers"
					}
				],
				"id": 194,
				"name": "dhgutteridge",
				"openid": "dhgutteridge.id.fedoraproject.org"
			},
			"user_id": 194
		},
		{
			"id": 202683,
			"text": "This update is currently being pushed to the Fedora 21 testing updates repository.",
			"timestamp": "2015-05-29 19:49:30",
			"update_id": 26089,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 202684,
			"karma": 1,
			"text": "Works for me, both in normal desktop use and with a test that crashed the\nprevious version.",
			"timestamp": "2015-05-30 00:29:54",
			"update_id": 26089,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/5928ff3a9d3fe85e309db18b867f1059ed5d0f1a83220d990573399a406ab304?s=24&d=retro",
				"email": "luto@kernel.org",
				"groups": [
					{
						"name": "packager"
					}
				],
				"id": 351,
				"name": "amluto",
				"openid": "amluto.id.fedoraproject.org"
			},
			"user_id": 351
		},
		{
			"id": 202685,
			"text": "Critical path update approved",
			"timestamp": "2015-05-30 00:29:56",
			"update_id": 26089,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 202686,
			"text": "This update has been pushed to testing",
			"timestamp": "2015-05-30 15:46:28",
			"update_id": 26089,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 202687,
			"karma": 1,
			"text": "Running it on Xfce, can't see any regressions.",
			"timestamp": "2015-05-30 16:06:31",
			"update_id": 26089,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/7125aceba76fb280192a9efbda0edd6a0d358247908eb6460e69779523f222d3?s=24&d=retro",
				"email": "robyduck@gmail.com",
				"groups": [
					{
						"name": "packager"
					}
				],
				"id": 704,
				"name": "robyduck",
				"openid": "robyduck.id.fedoraproject.org"
			},
			"user_id": 704
		},
		{
			"id": 202688,
			"text": "This update has reached the stable karma threshold and will be pushed to the stable updates repository",
			"timestamp": "2015-05-30 16:06:36",
			"update_id": 26089,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 202689,
			"text": "Taskotron: upgradepath test PASSED on noarch. Result log:\nhttps://taskotron.fedoraproject.org/taskmaster//builders/x86_64/builds/74870/steps/runtask/logs/stdio\n(results are informative only)",
			"timestamp": "2015-05-30 16:11:28",
			"update_id": 26089,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/1c99e8328b68b58a71f5a9d6449baa7cb914591c56cbec0adfac7c50e4abefa4?s=24&d=retro",
				"email": "taskotron@fedoraproject.org",
				"groups": [
					{}
				],
				"id": 100,
				"name": "taskotron",
				"openid": "taskotron.id.fedoraproject.org"
			},
			"user_id": 100
		},
		{
			"id": 202690,
			"karma": 1,
			"text": "works fine",
			"timestamp": "2015-05-30 16:20:40",
			"update_id": 26089,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/86811274ad4182d3bcfe18f4ab4d57bbe290d0eca4bd25905decdf5b614716ca?s=24&d=retro",
				"email": "ms@unix9.com",
				"groups": [
					{
						"name": "packager"
					},
					{
						"name": "provenpackager"
					},
					{
						"name": "ipausers"
					},
					{
						"name": "fedora-contributor"
					},
					{
						"name": "signed_fpca"
					},
					{
						"name": "fedorabugs"
					},
					{
						"name": "trust admins"
					}
				],
				"id": 203,
				"name": "mstevens",
				"openid": "mstevens.id.fedoraproject.org"
			},
			"user_id": 203
		},
		{
			"id": 202691,
			"karma": 1,
			"text": "Tested. Does fix my bug 1200353",
			"timestamp": "2015-05-31 07:37:02",
			"update_id": 26089,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/47187b83a4f45b92ec2e07925da9f4448ad4cf0a70238ada64d15f94a4874dab?s=24&d=retro",
				"email": "fedora@tecnopolis.ca",
				"id": 1906,
				"name": "tcordes",
				"openid": "tcordes.id.fedoraproject.org"
			},
			"user_id": 1906
		},
		{
			"id": 202692,
			"text": "This update is currently being pushed to the Fedora 21 stable updates repository.",
			"timestamp": "2015-05-31 21:07:02",
			"update_id": 26089,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 202693,
			"text": "This update has been pushed to stable",
			"timestamp": "2015-06-01 17:06:53",
			"update_id": 26089,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		}
	],
	"content_type": "rpm",
	"critpath": true,
	"date_pushed": "2015-06-01 17:06:53",
	"date_stable": "2015-06-01 17:06:53",
	"date_submitted": "2015-05-28 20:40:53",
	"date_testing": "2015-05-30 15:46:28",
	"karma": 5,
	"meets_testing_requirements": true,
	"notes": "The 4.0.4-202 update contains a fix for a namespace crash issue.",
	"pushed": true,
	"release": {
		"branch": "f21",
		"candidate_tag": "f21-updates-candidate",
		"composed_by_bodhi": true,
		"dist_tag": "f21",
		"id_prefix": "FEDORA",
		"long_name": "Fedora 21",
		"mail_template": "fedora_errata_template",
		"name": "F21",
		"override_tag": "f21-override",
		"package_manager": "dnf",
		"pending_stable_tag": "f21-updates-pending",
		"pending_testing_tag": "f21-updates-testing-pending",
		"stable_tag": "f21-updates",
		"state": "archived",
		"testing_repository": "updates-testing",
		"testing_tag": "f21-updates-testing",
		"version": "21"
	},
	"severity": "unspecified",
	"stable_karma": 3,
	"status": "stable",
	"suggest": "unspecified",
	"test_cases": [
		{
			"id": 372,
			"name": "QA:Testcase kernel regression"
		}
	],
	"title": "kernel-4.0.4-202.fc21",
	"type": "security",
	"url": "https://bodhi.fedoraproject.org/updates/FEDORA-2015-9127",
	"unstable_karma": -3,
	"updateid": "FEDORA-2015-9127",
	"user": {
		"avatar": "https://seccdn.libravatar.org/avatar/03ead14065750aad5e4eb5ee42f7c60fb1e50ea2f5ba2dc9a89639bc381796da?s=24&d=retro",
		"email": "jmforbes@linuxtx.org",
		"groups": [
			{
				"name": "proventesters"
			},
			{
				"name": "provenpackager"
			},
			{
				"name": "packager"
			},
			{
				"name": "fedorabugs"
			},
			{
				"name": "ipausers"
			},
			{
				"name": "gitkernel-tests"
			},
			{
				"name": "hosted-content"
			},
			{
				"name": "signed_fpca"
			},
			{
				"name": "fedora-contributor"
			},
			{
				"name": "gitqemu-kvm-fedora"
			},
			{
				"name": "sysadmin-kernel"
			},
			{
				"name": "cla_redhat"
			},
			{
				"name": "security-team"
			},
			{
				"name": "kernel-maintainer"
			},
			{
				"name": "trust admins"
			}
		],
		"id": 910,
		"name": "jforbes",
		"openid": "jforbes.id.fedoraproject.org"
	},
	"version_hash": "1062780869d758acde2fb63b991b78f7388d4c25"
}
