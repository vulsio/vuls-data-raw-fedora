{
	"alias": "FEDORA-2017-ac407781c3",
	"autokarma": true,
	"bugs": [
		{
			"bug_id": 1448128,
			"feedback": [
				{
					"bug_id": 1448128,
					"comment": {
						"id": 607348,
						"karma": 1,
						"karma_critpath": 1,
						"text": "No regressions here on x86_64.",
						"timestamp": "2017-05-13 10:21:26",
						"update_id": 87529,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/adb4c3f28bd6969871988f992b1bf71e404f03e3570fbfa0fc9bd7d0bf0003f8?s=24&d=retro",
							"email": "bojan@rexursive.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								}
							],
							"id": 198,
							"name": "bojan",
							"openid": "bojan.id.fedoraproject.org"
						},
						"user_id": 198
					},
					"comment_id": 607348
				},
				{
					"bug_id": 1448128,
					"comment": {
						"id": 608005,
						"karma": -1,
						"karma_critpath": -1,
						"text": "ypbind.service cannot start with this rpcbind. See RHBZ#1450765.",
						"timestamp": "2017-05-15 07:18:22",
						"update_id": 87529,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/09d97054a1ae694346000a642b10639ee485b8a9254bca065f3c82df522cc811?s=24&d=retro",
							"email": "yuwatana@redhat.com",
							"groups": [
								{
									"name": "packager"
								}
							],
							"id": 125,
							"name": "yuwata",
							"openid": "yuwata.id.fedoraproject.org"
						},
						"user_id": 125
					},
					"comment_id": 608005
				},
				{
					"bug_id": 1448128,
					"comment": {
						"id": 608337,
						"karma": -1,
						"karma_critpath": -1,
						"text": "This update doesn't work with ypbind. rpcbind crashes - see #1450765.",
						"timestamp": "2017-05-15 17:29:58",
						"update_id": 87529,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/6e9b05dfa070935c2e346cbab6b2b1c8faf64ce0347014f6be1824911c0d1c33?s=24&d=retro",
							"email": "edgar.hoch@ims.uni-stuttgart.de",
							"groups": [
								{
									"name": "ipausers"
								},
								{
									"name": "signed_fpca"
								}
							],
							"id": 1677,
							"name": "imsedgar",
							"openid": "imsedgar.id.fedoraproject.org"
						},
						"user_id": 1677
					},
					"comment_id": 608337
				}
			],
			"security": true,
			"title": "CVE-2017-8779 rpcbind: Unbounded maximum RPC data size during memory allocation for XDR strings [fedora-all]",
			"bugzilla": {
				"bug_id": "1448128",
				"creation_ts": "2017-05-04 15:03:27 +0000",
				"short_desc": "CVE-2017-8779 rpcbind: Unbounded maximum RPC data size during memory allocation for XDR strings [fedora-all]",
				"delta_ts": "2017-05-15 11:20:32 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Patch, Security, SecurityTracking",
				"priority": "high",
				"bug_severity": "high",
				"blocked": [
					{
						"bug_id": "1448124",
						"alias": "CVE-2017-8779",
						"creation_ts": "2017-05-04 15:03:14 +0000",
						"short_desc": "CVE-2017-8779 rpcbind, libtirpc, libntirpc: Memory leak when failing to parse XDR strings or bytearrays",
						"delta_ts": "2021-02-17 02:11:27 +0000",
						"bug_status": "CLOSED",
						"resolution": "ERRATA",
						"keywords": "Security",
						"priority": "high",
						"bug_severity": "high",
						"depends_on": [
							"1448125",
							"1448126",
							"1448127",
							"1448128",
							"1448862",
							"1449310",
							"1449456",
							"1449458",
							"1449459",
							"1449460",
							"1449461",
							"1449462",
							"1449463",
							"1449464"
						],
						"blocked": [
							{
								"bug_id": "1448130",
								"error": "NotPermitted"
							}
						],
						"external_bugs": {
							"text": "RHSA-2017:1395",
							"name": "Red Hat Product Errata"
						},
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "10386517",
								"comment_count": "0",
								"who": {
									"text": "anemec",
									"name": "Andrej Nemec"
								},
								"bug_when": "2017-05-04 15:03:14 +0000",
								"thetext": "\nRpcbind does not consider the maximum RPC data size during memory allocation for XDR strings, which allows remote attackers to cause a denial of service (memory consumption with no subsequent free) via a crafted UDP packet to port 111, aka rpcbomb.\n\nReferences:\n\nhttp://seclists.org/oss-sec/2017/q2/209\nhttps://guidovranken.wordpress.com/2017/05/03/rpcbomb-remote-rpcbind-denial-of-service-patches/"
							},
							{
								"isprivate": "0",
								"commentid": "10386528",
								"comment_count": "1",
								"who": {
									"text": "anemec",
									"name": "Andrej Nemec"
								},
								"bug_when": "2017-05-04 15:03:37 +0000",
								"thetext": "Created libntirpc tracking bugs for this issue:\n\nAffects: epel-all [bug 1448125]\nAffects: fedora-all [bug 1448126]\n\n\nCreated libtirpc tracking bugs for this issue:\n\nAffects: fedora-all [bug 1448127]\n\n\nCreated rpcbind tracking bugs for this issue:\n\nAffects: fedora-all [bug 1448128]"
							},
							{
								"isprivate": "0",
								"commentid": "10387801",
								"comment_count": "3",
								"who": {
									"text": "dmoppert",
									"name": "Doran Moppert"
								},
								"bug_when": "2017-05-05 02:37:01 +0000",
								"thetext": "The affected component is actually libtirpc / libntirpc, which fails to free the allocated buffer if XDR parsing fails.  rpcbind incorrectly specifies a maximum message length of UINT_MAX rather than RPC_MAXDATASIZE, but with a fixed libtirpc this only results in a temporary oversized allocation."
							},
							{
								"isprivate": "0",
								"commentid": "10387831",
								"comment_count": "6",
								"who": {
									"text": "dmoppert",
									"name": "Doran Moppert"
								},
								"bug_when": "2017-05-05 02:59:11 +0000",
								"thetext": "Statement:\n\nIn the default system configuration, with the sysctl variable vm.overcommit_memory set to either 0 (the default) or 1, an attack would take a not-insignificant amount of time to exhaust the system's memory. If vm.overcommit_memory is set to a value of 2, the time required to exhaust system memory is sufficiently reduced. It was further noticed that, a 32-bit system would have its memory exhausted faster than a 64-bit system."
							},
							{
								"isprivate": "0",
								"commentid": "10389543",
								"comment_count": "8",
								"who": {
									"text": "d.e.smorgrav",
									"name": "Dag-Erling Smørgrav"
								},
								"bug_when": "2017-05-05 14:56:05 +0000",
								"thetext": "(In reply to Doran Moppert from comment #6)\n> In the default system configuration with sysctl vm.overcommit_memory=0 (or\n> 1), this vulnerabilty has minimal impact on a Linux system. While the\n> process's reported VmSize can increase without bound, the allocated pages\n> are never actually touched and available system memory is not affected.\n\n1) The exploit can easily tweaked to consume the *entire* address space of rpcbind, rendering it incapable of handling legitimate requests.\n\n2) A similar but less efficient attack can be mounted against NFS, which is a far more serious threat since it lives in the kernel.  I suspect, but have not yet been able to verify, that anyone who can run \"showmount -e\" against an NFS server will be able to attack it, even if they are not authorized to mount any of the filesystems it exports."
							},
							{
								"isprivate": "0",
								"commentid": "10390763",
								"comment_count": "14",
								"who": {
									"text": "projects.rg",
									"name": "Raphael Groner"
								},
								"bug_when": "2017-05-06 14:32:58 +0000",
								"thetext": "Thanks to the debian guys, they managed to fix it (partly) in sid. Patches are available: https://github.com/guidovranken/rpcbomb/"
							},
							{
								"isprivate": "0",
								"commentid": "10390764",
								"comment_count": "15",
								"who": {
									"text": "projects.rg",
									"name": "Raphael Groner"
								},
								"bug_when": "2017-05-06 14:36:22 +0000",
								"thetext": "https://guidovranken.wordpress.com/2017/05/03/rpcbomb-remote-rpcbind-denial-of-service-patches/"
							},
							{
								"isprivate": "0",
								"commentid": "10391776",
								"comment_count": "16",
								"who": {
									"text": "wmealing",
									"name": "Wade Mealing"
								},
								"bug_when": "2017-05-08 01:53:19 +0000",
								"thetext": "\n> 1) The exploit can easily tweaked to consume the *entire* address space of \n> rpcbind, rendering it incapable of handling legitimate requests.\n\nInterested third party here, in this case, does it actually write to each page or just try a malloc() ?  The latter will succeed as overcommit allows processes to malloc more memory than they need.  \n\nOtherwise this exploit is not going to be impactful on modern systems (in the default shipping vm configuration)."
							},
							{
								"isprivate": "0",
								"commentid": "10392001",
								"comment_count": "17",
								"who": {
									"text": "dmoppert",
									"name": "Doran Moppert"
								},
								"bug_when": "2017-05-08 03:56:32 +0000",
								"thetext": "(In reply to Dag-Erling Smørgrav from comment #8)\n> 1) The exploit can easily tweaked to consume the *entire* address space of\n> rpcbind, rendering it incapable of handling legitimate requests.\n\nOn 32-bit systems this may be possible.  Our original testing was on 64-bit architecture, where the number of messages to cause virtual address space exhaustion would exceed one billion, making such an attack infeasible.  Tests with 32-bit architectures are in progress.\n\n> 2) A similar but less efficient attack can be mounted against NFS, which is\n> a far more serious threat since it lives in the kernel.  I suspect, but have\n> not yet been able to verify, that anyone who can run \"showmount -e\" against\n> an NFS server will be able to attack it, even if they are not authorized to\n> mount any of the filesystems it exports.\n\nIndeed there is XDR parsing code present in the kernel nfs module.  Our kernel security team are looking into this to determine if a similar vulnerabilty may exist.\n\nIf you have further information about the exploitability of either of these vectors or anything not yet discussed in public, please contact secalert@redhat.com."
							},
							{
								"isprivate": "0",
								"commentid": "10392564",
								"comment_count": "22",
								"who": {
									"text": "d.e.smorgrav",
									"name": "Dag-Erling Smørgrav"
								},
								"bug_when": "2017-05-08 08:54:37 +0000",
								"thetext": "(In reply to Wade Mealing from comment #16)\n> Interested third party here, in this case, does it actually write to each\n> page or just try a malloc() ?  The latter will succeed as overcommit allows\n> processes to malloc more memory than they need.  \n> \n> Otherwise this exploit is not going to be impactful on modern systems (in\n> the default shipping vm configuration).\n\nIt will still shut down rpcbind, and as mentioned above, I believe a similar (but slower) attack can be mounted against NFS itself.  I am working on proof-of-concept code for both (DoS against rpcbind + kernel address space exhaustion)."
							},
							{
								"isprivate": "0",
								"commentid": "10392570",
								"comment_count": "23",
								"who": {
									"text": "d.e.smorgrav",
									"name": "Dag-Erling Smørgrav"
								},
								"bug_when": "2017-05-08 08:58:44 +0000",
								"thetext": "Created attachment 1277059\nMinimal patch for libtirpc\n\nThis is a minimal patch for the memory leak only, with a slightly different approach than Vranken's.  The rest of Vranken's patch is mitigation and cleanup which I consider orthogonal to the bug."
							},
							{
								"isprivate": "0",
								"commentid": "10394387",
								"comment_count": "25",
								"who": {
									"text": "dmoppert",
									"name": "Doran Moppert"
								},
								"bug_when": "2017-05-09 00:22:38 +0000",
								"thetext": "Mitigation:\n\nrpcbind should be protected by iptables so that only trusted hosts that require access can reach it (eg, nfs clients).  Applying per-IP rate limits in iptables will also significantly limit the impact of this attack.  The default iptables rules in the system-config-firewall or firewalld package deny all remote access to rpcbind.\n\nIf you elect to run your system with overcommit turned off, daemons should have memory limits enforced by the init system to ensure stability.  With systemd, use directives such as LimitAS in unit files.  With upstart, place ulimit commands in /etc/sysconfig/$daemon."
							},
							{
								"isprivate": "0",
								"commentid": "10395135",
								"comment_count": "26",
								"who": {
									"text": "dmoppert",
									"name": "Doran Moppert"
								},
								"bug_when": "2017-05-09 07:16:17 +0000",
								"thetext": "Created attachment 1277229\nsvc_freeargs patch for rpcbind\n\nI think this may be a better patch for rpcbind.  Per comments on the glibc mailing list (and having looked at several other users of libtirpc that don't seem to suffer such leaks), calls to xdr_* parsers should be matched with xdr_free, even in the error case.  There are some convenience layers for sunrpc in particular to help with this:  clnt_call/clnt_destroy and svc_getargs/svc_freeargs.  rpcbind in these spots is using the latter, but can bypass svc_freeargs in the error case.\n\nI think the patch to libtirpc is still a good idea as it hardens the library against such errors.  The one in comment 23 looks good to me.\n\nIn more complex cases, client code calling the free/destroy/freeargs methods appropriately is even more important:  I think a structure containing two xdr_strings could parse the first one correctly, then reject the second one, leaving allocated memory that only the caller can release.  For a UDP protocol, the chunks will be small, but they will be a persistent leak."
							},
							{
								"isprivate": "0",
								"commentid": "10395755",
								"comment_count": "27",
								"who": {
									"text": "d.e.smorgrav",
									"name": "Dag-Erling Smørgrav"
								},
								"bug_when": "2017-05-09 09:46:05 +0000",
								"thetext": "(In reply to Doran Moppert from comment #26)\n> I think the patch to libtirpc is still a good idea as it hardens the library\n> against such errors.  The one in comment 23 looks good to me.\n\nI think you got it a little backward.  The memory leak is in libtirpc and *must* be fixed, everything else in Vranken's patch is just mitigation and *should* be fixed.  If I understand correctly, your rpcbind patch fixes a separate issue where rpcbind uses the library incorrectly.\n\nThere are a couple of style issues in the patch:  \"rc = (TRUE)\" and \"rc = (FALSE)\" should be \"rc = TRUE\" and \"rc = FALSE\" respectively, and \"return rc\" should be \"return (rc)\" to conform to the BSD coding standards.\n\nAs for mitigation: you can protect the machine, but not the service.  A well executed attack will cause rpcbind to either stop responding or die.  If it is restarted, it will be useless since all the services that depend on it must also be restarted in order to re-register, because the state file is only created upon clean shutdown."
							},
							{
								"isprivate": "0",
								"commentid": "10399199",
								"comment_count": "32",
								"who": {
									"text": "dmoppert",
									"name": "Doran Moppert"
								},
								"bug_when": "2017-05-10 07:20:06 +0000",
								"thetext": "(In reply to Dag-Erling Smørgrav from comment #27)\n> I think you got it a little backward.  The memory leak is in libtirpc and\n> *must* be fixed, everything else in Vranken's patch is just mitigation and\n> *should* be fixed.  If I understand correctly, your rpcbind patch fixes a\n> separate issue where rpcbind uses the library incorrectly.\n\nIt is my understanding that the sunrpc interfaces in libtirpc expect cleanup routines to be called even if they report XDR parsing failure.  I suspect an interface that gets two strings as input, where only the second is truncated, would still leak with the libtirpc patch alone.\n\nThat's what my patch tries to address in rpcbind - the svc_getargs() calls are not consistently matched with svc_freeargs() in the error case.  With this patch I'm no longer able to reproduce the original memory leak.\n\nTo be sure, I think patching both components is a good idea.  I'll defer to package maintainers more intimate with the interfaces to determine what combination of mitigation / logic fix should be applied, and we'll test carefully with variants of the attack."
							},
							{
								"isprivate": "0",
								"commentid": "10402715",
								"comment_count": "33",
								"who": {
									"text": "dmoppert",
									"name": "Doran Moppert"
								},
								"bug_when": "2017-05-11 06:14:25 +0000",
								"thetext": "Created attachment 1277755\nsvc_freeargs patch for rpcbind"
							},
							{
								"isprivate": "0",
								"commentid": "10406054",
								"comment_count": "35",
								"who": {
									"text": "dmoppert",
									"name": "Doran Moppert"
								},
								"bug_when": "2017-05-12 01:00:14 +0000",
								"thetext": "External References:\n\nhttps://access.redhat.com/solutions/3025811/"
							},
							{
								"isprivate": "0",
								"commentid": "10413997",
								"comment_count": "36",
								"who": {
									"text": "projects.rg",
									"name": "Raphael Groner"
								},
								"bug_when": "2017-05-15 17:37:36 +0000",
								"thetext": "@Wade, what information do you need from my side (comment #16)? I just wanted to reference the externally available information. Please ask there for details."
							},
							{
								"isprivate": "0",
								"commentid": "10431816",
								"comment_count": "38",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2017-05-22 02:52:48 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 7\n\nVia RHSA-2017:1262 https://access.redhat.com/errata/RHSA-2017:1262"
							},
							{
								"isprivate": "0",
								"commentid": "10431859",
								"comment_count": "39",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2017-05-22 03:43:05 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 7\n\nVia RHSA-2017:1263 https://access.redhat.com/errata/RHSA-2017:1263"
							},
							{
								"isprivate": "0",
								"commentid": "10437344",
								"comment_count": "40",
								"who": {
									"text": "jacco"
								},
								"bug_when": "2017-05-22 22:49:26 +0000",
								"thetext": "It looks like both updates don't have their version number updated. Systems do see this as an update because the 'dist' part of the version changed (from el7 to el7_3)."
							},
							{
								"isprivate": "0",
								"commentid": "10438455",
								"comment_count": "41",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2017-05-23 07:38:44 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 6\n\nVia RHSA-2017:1267 https://access.redhat.com/errata/RHSA-2017:1267"
							},
							{
								"isprivate": "0",
								"commentid": "10438685",
								"comment_count": "42",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2017-05-23 08:39:13 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 6\n\nVia RHSA-2017:1268 https://access.redhat.com/errata/RHSA-2017:1268"
							},
							{
								"isprivate": "0",
								"commentid": "10444405",
								"comment_count": "43",
								"who": {
									"text": "olchansk",
									"name": "Konstantin Olchanski"
								},
								"bug_when": "2017-05-24 14:41:49 +0000",
								"thetext": "The cure is worse than the disease, the updated rpcbind crashes soon after start, both el6 and el7 are affected (this breaks nis and nfs3 rpc.mountd). The solution is to revert to the old (vulnerable) version of rpcbind.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1454876\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1455142\n\nK.O."
							},
							{
								"isprivate": "0",
								"commentid": "10444981",
								"comment_count": "44",
								"who": {
									"text": "vuiis-sysadmin",
									"name": "VUIIS SysAdmin"
								},
								"bug_when": "2017-05-24 17:20:58 +0000",
								"thetext": "Unlike for Konstantin Olchanski \n\nreverting to\n rpcbind.x86_64 0.2.0-38.el7\nand \n libtirpc.x86_64 0.2.4-0.8.el7\n\nDoes not fix the problem for me.\nOtherwise I am seeing the same issue."
							},
							{
								"isprivate": "0",
								"commentid": "10447115",
								"comment_count": "45",
								"who": {
									"text": "andrew2.hart"
								},
								"bug_when": "2017-05-25 11:21:41 +0000",
								"thetext": "rpcbind: pmap_rmtcall callit req for (100004, 2, 2, udp) from ########: \nrpcbind: not found\n\n*** Error in `rpcbind': free(): invalid pointer: 0x00007fff3cd8fd80 ***\n======= Backtrace: =========\n/lib64/libc.so.6(+0x7c503)[0x7feba03a6503]\n/lib64/libtirpc.so.1(xdr_bytes+0x8b)[0x7feba0b2e0ab]\nrpcbind(+0x672b)[0x7feba0f6572b]\nrpcbind(+0x422d)[0x7feba0f6322d]\n/lib64/libtirpc.so.1(svc_getreq_common+0x251)[0x7feba0b28511]\n/lib64/libtirpc.so.1(svc_getreq_poll+0x8b)[0x7feba0b286ab]\nrpcbind(+0x7832)[0x7feba0f66832]\nrpcbind(+0x3600)[0x7feba0f62600]\n/lib64/libc.so.6(__libc_start_main+0xf5)[0x7feba034bb35]\nrpcbind(+0x3800)[0x7feba0f62800]"
							},
							{
								"isprivate": "0",
								"commentid": "10452650",
								"comment_count": "46",
								"who": {
									"text": "dmaziuk",
									"name": "Dimitri Maziuk"
								},
								"bug_when": "2017-05-26 22:21:11 +0000",
								"thetext": "Another \"yum downgrade\" here because of rpcbind crashes. I've reverted only rpcbind, not libtirpc, and that seems to work for me.\nI'm on centos 6.9."
							},
							{
								"isprivate": "0",
								"commentid": "10480025",
								"comment_count": "47",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2017-06-06 07:58:08 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Gluster Storage 3.2 for RHEL 6\n  Red Hat Gluster Storage 3.2 for RHEL 7\n\nVia RHSA-2017:1395 https://access.redhat.com/errata/RHSA-2017:1395"
							},
							{
								"isprivate": "0",
								"commentid": "10481757",
								"comment_count": "48",
								"who": {
									"text": "damien.reyt",
									"name": "Damien REYT"
								},
								"bug_when": "2017-06-06 14:46:16 +0000",
								"thetext": "same behaviour on RHEL Server 6.9 using rpcbind-0.2.0-13.el6_9.x86_64 :\n\n*** glibc detected *** rpcbind: free(): invalid pointer: 0x00007ffd6929baa0 ***\n======= Backtrace: =========\n/lib64/libc.so.6(+0x3aaa675dee)[0x7ff74d00adee]\n/lib64/libc.so.6(+0x3aaa678c3d)[0x7ff74d00dc3d]\n/lib64/libtirpc.so.1(xdr_bytes+0xc2)[0x7ff74d562202]\nrpcbind(+0x6415)[0x7ff74dba4415]\nrpcbind(pmap_service+0x175)[0x7ff74dba6be5]\n/lib64/libtirpc.so.1(svc_getreq_common+0x231)[0x7ff74d55bc41]\n/lib64/libtirpc.so.1(svc_getreq_poll+0x91)[0x7ff74d55bcf1]\nrpcbind(+0x5c1e)[0x7ff74dba3c1e]\nrpcbind(main+0x478)[0x7ff74dba29b8]\n/lib64/libc.so.6(__libc_start_main+0xfd)[0x7ff74cfb3d1d]\nrpcbind(+0x3229)[0x7ff74dba1229]\n\ndowngrading for now to rpcbind.x86_64 0:0.2.0-13.el6 seems to fix the issue.\n\nThanks Dimitri."
							},
							{
								"isprivate": "0",
								"commentid": "10481771",
								"comment_count": "49",
								"who": {
									"text": "dmaziuk",
									"name": "Dimitri Maziuk"
								},
								"bug_when": "2017-06-06 14:48:12 +0000",
								"thetext": "(In reply to errata-xmlrpc from comment #47)\n> This issue has been addressed in the following products:\n> \n>   Red Hat Gluster Storage 3.2 for RHEL 6\n>   Red Hat Gluster Storage 3.2 for RHEL 7\n> \n> Via RHSA-2017:1395 https://access.redhat.com/errata/RHSA-2017:1395\n\nI'm sure this means something. I guess it means I'm writing a salt state to update yum.conf to exclude rpcbind and libtirpc so we can start updating our 6 & 7 computers again."
							},
							{
								"isprivate": "0",
								"commentid": "10482096",
								"comment_count": "51",
								"who": {
									"text": "cperry",
									"name": "Clifford Perry"
								},
								"bug_when": "2017-06-06 15:55:56 +0000",
								"thetext": "As mentioned in comment #43 there was an error within the fix for this CVE which caused a breakage for some customers. Customer cases are being attached and tracked for this breakage within the following bugs below. The bugs are in a Verified state and passed testing. Those fixes are being tracked as RHBA - bugfix advisories. \n\nCurrent bugs being tracked are: \n\nRHEL 6.9.z rpcbind: \n - Bug 1458240 - rpcbind crash on start [rhel-6.9.z]\n - https://bugzilla.redhat.com/show_bug.cgi?id=1458240\n\nRHEL 7.3.z rpcbind: \n - Bug 1457172 - rpcbind crash on start [rhel-7.3.z] \n - https://bugzilla.redhat.com/show_bug.cgi?id=1457172\n\nTracking for future releases we have the 2 bugs mentioned in comment 43, which were cloned to the two above bugs: \n\nRHEL 6 - https://bugzilla.redhat.com/show_bug.cgi?id=1455142\nRHEL 7 - https://bugzilla.redhat.com/show_bug.cgi?id=1454876\n\nWe will be updating the text of the previously released rpcbind RHSA's to note them as well. \n\n(In reply to Dimitri Maziuk from comment #49)\n> (In reply to errata-xmlrpc from comment #47)\n> > This issue has been addressed in the following products:\n> > \n> >   Red Hat Gluster Storage 3.2 for RHEL 6\n> >   Red Hat Gluster Storage 3.2 for RHEL 7\n> > \n> > Via RHSA-2017:1395 https://access.redhat.com/errata/RHSA-2017:1395\n> \n> I'm sure this means something. I guess it means I'm writing a salt state to\n> update yum.conf to exclude rpcbind and libtirpc so we can start updating our\n> 6 & 7 computers again.\n\nThose fixed packages have been released with the Red Hat Gluster Storage products and not within the main RHEL channels, which as noted above, are being tracked and in a verified state. \n\nRegards,\nCliff"
							},
							{
								"isprivate": "0",
								"commentid": "10482278",
								"comment_count": "52",
								"who": {
									"text": "dmaziuk",
									"name": "Dimitri Maziuk"
								},
								"bug_when": "2017-06-06 16:52:05 +0000",
								"thetext": "Thank you Cliff, now this makes sense."
							},
							{
								"isprivate": "0",
								"commentid": "10513050",
								"comment_count": "53",
								"who": {
									"text": "cperry",
									"name": "Clifford Perry"
								},
								"bug_when": "2017-06-16 13:17:13 +0000",
								"thetext": "Hi to follow up from my previous comment. I'm pleased to say that this week Red Hat released RHBA's to fix the regression introduced with this CVE fix. \n - You should be able to apply the following RHBA's, which include this security fix: \n\nRed Hat Enterprise Linux 6.9.z\n https://access.redhat.com/errata/RHBA-2017:1435 \n ( Released for bugzilla https://bugzilla.redhat.com/show_bug.cgi?id=1458240 )\n\nRed Hat Enterprise Linux 7.3.z\n https://access.redhat.com/errata/RHBA-2017:1436\n ( Released for bugzilla https://bugzilla.redhat.com/show_bug.cgi?id=1457172 )\n\nRegards,\nCliff"
							},
							{
								"isprivate": "0",
								"commentid": "10564941",
								"comment_count": "54",
								"who": {
									"text": "sisharma",
									"name": "Siddharth Sharma"
								},
								"bug_when": "2017-07-04 17:21:47 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Ceph Storage 2\n\nVia RHBA-2017:1497 https://access.redhat.com/errata/RHBA-2017:1497"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "10386522",
						"comment_count": "0",
						"who": {
							"text": "anemec",
							"name": "Andrej Nemec"
						},
						"bug_when": "2017-05-04 15:03:27 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof fedora-all.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate."
					},
					{
						"isprivate": "0",
						"commentid": "10386525",
						"comment_count": "1",
						"who": {
							"text": "anemec",
							"name": "Andrej Nemec"
						},
						"bug_when": "2017-05-04 15:03:33 +0000",
						"thetext": "Use the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1448124\n\n# Description of your update\nnotes=Security fix for [PUT CVEs HERE]\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi web interface to submit updates:\n\nhttps://bodhi.fedoraproject.org/updates/new"
					},
					{
						"isprivate": "0",
						"commentid": "10391185",
						"comment_count": "2",
						"who": {
							"text": "projects.rg",
							"name": "Raphael Groner"
						},
						"bug_when": "2017-05-07 06:50:57 +0000",
						"thetext": "Created attachment 1276838\npatch to fix CVE-2017-8779\n\nhttps://raw.githubusercontent.com/guidovranken/rpcbomb/master/rpcbind_patch.txt"
					},
					{
						"isprivate": "0",
						"commentid": "10405388",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2017-05-11 18:05:57 +0000",
						"thetext": "rpcbind-0.2.4-5.rc1.fc25 has been submitted as an update to Fedora 25. https://bodhi.fedoraproject.org/updates/FEDORA-2017-ac407781c3"
					},
					{
						"isprivate": "0",
						"commentid": "10405389",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2017-05-11 18:06:07 +0000",
						"thetext": "rpcbind-0.2.4-6.rc1.fc26 has been submitted as an update to Fedora 26. https://bodhi.fedoraproject.org/updates/FEDORA-2017-36cba32910"
					},
					{
						"isprivate": "0",
						"commentid": "10407831",
						"comment_count": "5",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2017-05-12 13:41:27 +0000",
						"thetext": "rpcbind-0.2.4-5.rc1.fc25 has been pushed to the Fedora 25 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-ac407781c3"
					},
					{
						"isprivate": "0",
						"commentid": "10409425",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2017-05-13 01:12:21 +0000",
						"thetext": "rpcbind-0.2.4-6.rc1.fc26 has been pushed to the Fedora 26 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2017-36cba32910"
					},
					{
						"isprivate": "0",
						"commentid": "10409996",
						"comment_count": "7",
						"who": {
							"text": "eloranta",
							"name": "Jussi Eloranta"
						},
						"bug_when": "2017-05-14 00:02:15 +0000",
						"thetext": "This new rpcbind just killed my nfs/yellow pages server completely. It is definitely not working correctly. After downgrading rpcbind, everything works again."
					},
					{
						"isprivate": "0",
						"commentid": "10410666",
						"comment_count": "8",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2017-05-14 20:20:55 +0000",
						"thetext": "rpcbind-0.2.4-6.rc1.fc26 has been pushed to the Fedora 26 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "10411126",
						"comment_count": "9",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2017-05-15 04:41:40 +0000",
						"thetext": "rpcbind-0.2.4-5.rc1.fc25 has been pushed to the Fedora 25 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "10411508",
						"comment_count": "10",
						"who": {
							"text": "watanabe.yu",
							"name": "Yu Watanabe"
						},
						"bug_when": "2017-05-15 07:22:13 +0000",
						"thetext": "The fix causes a new bug. Please see\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1450765"
					},
					{
						"isprivate": "0",
						"commentid": "10412448",
						"comment_count": "11",
						"who": {
							"text": "igeorgex",
							"name": "JM"
						},
						"bug_when": "2017-05-15 11:20:32 +0000",
						"thetext": "(In reply to Jussi Eloranta from comment #7)\n> This new rpcbind just killed my nfs/yellow pages server completely. It is\n> definitely not working correctly. After downgrading rpcbind, everything\n> works again.\n\nYes, the problem is actually that ypbind kills rpcbind, see bug #1450765 for more information."
					}
				]
			}
		}
	],
	"builds": [
		{
			"epoch": 0,
			"nvr": "rpcbind-0.2.4-5.rc1.fc25",
			"release_id": 15,
			"signed": true,
			"type": "rpm",
			"package": {
				"armv7hl": [
					{
						"name": "rpcbind",
						"version": "0.2.4",
						"release": "5.rc1.fc25",
						"arch": "armv7hl"
					},
					{
						"name": "rpcbind-debuginfo",
						"version": "0.2.4",
						"release": "5.rc1.fc25",
						"arch": "armv7hl"
					}
				],
				"i686": [
					{
						"name": "rpcbind",
						"version": "0.2.4",
						"release": "5.rc1.fc25",
						"arch": "i686"
					},
					{
						"name": "rpcbind-debuginfo",
						"version": "0.2.4",
						"release": "5.rc1.fc25",
						"arch": "i686"
					}
				],
				"src": [
					{
						"name": "rpcbind",
						"version": "0.2.4",
						"release": "5.rc1.fc25",
						"arch": "src"
					}
				],
				"x86_64": [
					{
						"name": "rpcbind-debuginfo",
						"version": "0.2.4",
						"release": "5.rc1.fc25",
						"arch": "x86_64"
					},
					{
						"name": "rpcbind",
						"version": "0.2.4",
						"release": "5.rc1.fc25",
						"arch": "x86_64"
					}
				]
			}
		}
	],
	"close_bugs": true,
	"comments": [
		{
			"id": 606239,
			"text": "This update has been submitted for testing by steved. ",
			"timestamp": "2017-05-11 18:05:44",
			"update_id": 87529,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 606723,
			"text": "This update has been pushed to testing.",
			"timestamp": "2017-05-12 13:42:33",
			"update_id": 87529,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 606749,
			"karma": 1,
			"text": "Works",
			"timestamp": "2017-05-12 13:51:17",
			"update_id": 87529,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/20f7756718e08ef810fe23344dfdcafe17dfb277e2c27d5cbf81e35b66247795?s=24&d=retro",
				"email": "walter.pete@yandex.com",
				"groups": [
					{
						"name": "packager"
					},
					{
						"name": "provenpackager"
					},
					{
						"name": "ipausers"
					},
					{
						"name": "fedora-contributor"
					},
					{
						"name": "signed_fpca"
					},
					{
						"name": "fedorabugs"
					}
				],
				"id": 491,
				"name": "pwalter",
				"openid": "pwalter.id.fedoraproject.org"
			},
			"user_id": 491
		},
		{
			"bug_feedback": [
				{
					"bug": {
						"bug_id": 1448128,
						"security": true,
						"title": "CVE-2017-8779 rpcbind: Unbounded maximum RPC data size during memory allocation for XDR strings [fedora-all]"
					},
					"bug_id": 1448128,
					"comment_id": 607348
				}
			],
			"id": 607348,
			"karma": 1,
			"karma_critpath": 1,
			"text": "No regressions here on x86_64.",
			"timestamp": "2017-05-13 10:21:26",
			"update_id": 87529,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/adb4c3f28bd6969871988f992b1bf71e404f03e3570fbfa0fc9bd7d0bf0003f8?s=24&d=retro",
				"email": "bojan@rexursive.com",
				"groups": [
					{
						"name": "packager"
					},
					{
						"name": "ipausers"
					},
					{
						"name": "fedora-contributor"
					},
					{
						"name": "signed_fpca"
					},
					{
						"name": "fedorabugs"
					}
				],
				"id": 198,
				"name": "bojan",
				"openid": "bojan.id.fedoraproject.org"
			},
			"user_id": 198
		},
		{
			"id": 607381,
			"karma": 1,
			"text": "works for me",
			"timestamp": "2017-05-13 13:42:19",
			"update_id": 87529,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/a3febfef42f58ed535f3c3a3cf9743653cd774dbb6e4554e2ce7c847d9802b6c?s=24&d=retro",
				"email": "cserpentis@gmail.com",
				"groups": [
					{
						"name": "packager"
					},
					{
						"name": "ipausers"
					},
					{
						"name": "fedora-contributor"
					},
					{
						"name": "signed_fpca"
					},
					{
						"name": "fedorabugs"
					},
					{
						"name": "trust admins"
					}
				],
				"id": 739,
				"name": "cserpentis",
				"openid": "cserpentis.id.fedoraproject.org"
			},
			"user_id": 739
		},
		{
			"id": 607382,
			"text": "This update has been submitted for stable by bodhi. ",
			"timestamp": "2017-05-13 13:42:20",
			"update_id": 87529,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 607931,
			"text": "This update has been pushed to stable.",
			"timestamp": "2017-05-15 04:42:23",
			"update_id": 87529,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"bug_feedback": [
				{
					"bug": {
						"bug_id": 1448128,
						"security": true,
						"title": "CVE-2017-8779 rpcbind: Unbounded maximum RPC data size during memory allocation for XDR strings [fedora-all]"
					},
					"bug_id": 1448128,
					"comment_id": 608005
				}
			],
			"id": 608005,
			"karma": -1,
			"karma_critpath": -1,
			"text": "ypbind.service cannot start with this rpcbind. See RHBZ#1450765.",
			"timestamp": "2017-05-15 07:18:22",
			"update_id": 87529,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/09d97054a1ae694346000a642b10639ee485b8a9254bca065f3c82df522cc811?s=24&d=retro",
				"email": "yuwatana@redhat.com",
				"groups": [
					{
						"name": "packager"
					}
				],
				"id": 125,
				"name": "yuwata",
				"openid": "yuwata.id.fedoraproject.org"
			},
			"user_id": 125
		},
		{
			"bug_feedback": [
				{
					"bug": {
						"bug_id": 1448128,
						"security": true,
						"title": "CVE-2017-8779 rpcbind: Unbounded maximum RPC data size during memory allocation for XDR strings [fedora-all]"
					},
					"bug_id": 1448128,
					"comment_id": 608337
				}
			],
			"id": 608337,
			"karma": -1,
			"karma_critpath": -1,
			"text": "This update doesn't work with ypbind. rpcbind crashes - see #1450765.",
			"timestamp": "2017-05-15 17:29:58",
			"update_id": 87529,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/6e9b05dfa070935c2e346cbab6b2b1c8faf64ce0347014f6be1824911c0d1c33?s=24&d=retro",
				"email": "edgar.hoch@ims.uni-stuttgart.de",
				"groups": [
					{
						"name": "ipausers"
					},
					{
						"name": "signed_fpca"
					}
				],
				"id": 1677,
				"name": "imsedgar",
				"openid": "imsedgar.id.fedoraproject.org"
			},
			"user_id": 1677
		}
	],
	"content_type": "rpm",
	"critpath": true,
	"date_pushed": "2017-05-14 20:16:02",
	"date_stable": "2017-05-14 20:16:02",
	"date_submitted": "2017-05-11 18:05:43",
	"date_testing": "2017-05-12 12:09:29",
	"karma": 1,
	"notes": "Security fix for CVE-2017-8779 ",
	"pushed": true,
	"release": {
		"branch": "f25",
		"candidate_tag": "f25-updates-candidate",
		"composed_by_bodhi": true,
		"dist_tag": "f25",
		"id_prefix": "FEDORA",
		"long_name": "Fedora 25",
		"mail_template": "fedora_errata_template",
		"name": "F25",
		"override_tag": "f25-override",
		"package_manager": "dnf",
		"pending_signing_tag": "f25-signing-pending",
		"pending_stable_tag": "f25-updates-pending",
		"pending_testing_tag": "f25-updates-testing-pending",
		"stable_tag": "f25-updates",
		"state": "archived",
		"testing_repository": "updates-testing",
		"testing_tag": "f25-updates-testing",
		"version": "25"
	},
	"require_bugs": true,
	"require_testcases": true,
	"severity": "unspecified",
	"stable_karma": 3,
	"status": "stable",
	"suggest": "unspecified",
	"title": "rpcbind-0.2.4-5.rc1.fc25",
	"type": "security",
	"url": "https://bodhi.fedoraproject.org/updates/FEDORA-2017-ac407781c3",
	"unstable_karma": -3,
	"updateid": "FEDORA-2017-ac407781c3",
	"user": {
		"avatar": "https://seccdn.libravatar.org/avatar/cb68638dd99dd0aef0ddb01a7eab6631984ac20fe03e99efd4d5a9b3dacba801?s=24&d=retro",
		"email": "steved@redhat.com",
		"groups": [
			{
				"name": "packager"
			},
			{
				"name": "ipausers"
			},
			{
				"name": "fedora-contributor"
			},
			{
				"name": "signed_fpca"
			},
			{
				"name": "fedorabugs"
			},
			{
				"name": "cla_redhat"
			},
			{
				"name": "trust admins"
			}
		],
		"id": 969,
		"name": "steved",
		"openid": "steved.id.fedoraproject.org"
	},
	"version_hash": "0f86936b60736bb9105959e0e56cf8d1bc297074"
}
