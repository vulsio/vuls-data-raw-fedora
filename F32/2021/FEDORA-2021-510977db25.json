{
	"alias": "FEDORA-2021-510977db25",
	"autokarma": true,
	"autotime": true,
	"bugs": [
		{
			"bug_id": 1886345,
			"parent": true,
			"security": true,
			"title": "CVE-2020-25650 spice-vdagent: memory DoS via arbitrary entries in active_xfers hash table",
			"bugzilla": {
				"bug_id": "1886345",
				"alias": "CVE-2020-25650",
				"creation_ts": "2020-10-08 09:01:10 +0000",
				"short_desc": "CVE-2020-25650 spice-vdagent: memory DoS via arbitrary entries in active_xfers hash table",
				"delta_ts": "2021-05-18 15:05:14 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security",
				"priority": "low",
				"bug_severity": "low",
				"depends_on": [
					"1886415",
					"1894433"
				],
				"blocked": [
					{
						"bug_id": "1882815",
						"error": "NotPermitted"
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "14377374",
						"comment_count": "0",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-10-08 09:01:10 +0000",
						"thetext": "The following flaw was reported by SUSE Security:\n\nThe `spice-vdagentd` maintains a hash map named `active_xfers` that maps `task_ids` to UNIX domain socket connections they belong to. These `task_ids`\nrefer to ongoing file transfers from the host to the virtual machine. An arbitrary client connected to `spice-vdagentd` via a UNIX domain socket can trigger an entry into this hash map, without the requirement that the client is associated with the currently active graphical session (function `do_agent_file_xfer_status`, specifically `vdagentd.c:1025`). There is no limit on the maximum amount of file transfers ongoing in parallel and there are no timeouts applied for a file transfer to be finished.\n\nTherefore any unprivileged local user with access to the `/run/spice-vdagentd/spice-vdagent-sock` socket path can perform a memory denial-of-service by entering a large amount of entries into this hash map. The system might enter an out of memory situation, causing a denial-of-service for spice-vdagentd or even other processes in the system."
					},
					{
						"isprivate": "0",
						"commentid": "14394053",
						"comment_count": "4",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-10-14 09:37:53 +0000",
						"thetext": "Acknowledgments:\n\nName: Matthias Gerstner (SUSE Security Team)"
					},
					{
						"isprivate": "0",
						"commentid": "14473839",
						"comment_count": "5",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-04 09:34:04 +0000",
						"thetext": "External References:\n\nhttps://www.openwall.com/lists/oss-security/2020/11/04/1"
					},
					{
						"isprivate": "0",
						"commentid": "14473843",
						"comment_count": "6",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-04 09:34:40 +0000",
						"thetext": "Created spice-vdagent tracking bugs for this issue:\n\nAffects: fedora-all [bug 1894433]"
					},
					{
						"isprivate": "0",
						"commentid": "14487765",
						"comment_count": "7",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-09 09:20:26 +0000",
						"thetext": "Upstream commits:\nhttps://github.com/freedesktop/spice-vd_agent/commit/1a8b93ca6ac0b690339ab7f0afc6fc45d198d332\nhttps://github.com/freedesktop/spice-vd_agent/commit/9d35d8a86fb310fc1f29d428c0a96995948d2357"
					},
					{
						"isprivate": "0",
						"commentid": "15075443",
						"comment_count": "11",
						"who": {
							"text": "prodsec-dev",
							"name": "Product Security DevOps Team"
						},
						"bug_when": "2021-05-18 14:35:35 +0000",
						"thetext": "This bug is now closed. Further updates for individual products will be reflected on the CVE page(s):\n\nhttps://access.redhat.com/security/cve/cve-2020-25650"
					},
					{
						"isprivate": "0",
						"commentid": "15076356",
						"comment_count": "12",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2021-05-18 15:05:14 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 8\n\nVia RHSA-2021:1791 https://access.redhat.com/errata/RHSA-2021:1791"
					}
				]
			}
		},
		{
			"bug_id": 1886359,
			"parent": true,
			"security": true,
			"title": "CVE-2020-25651 spice-vdagent: possible file transfer DoS and information leak via active_xfers hash map",
			"bugzilla": {
				"bug_id": "1886359",
				"alias": "CVE-2020-25651",
				"creation_ts": "2020-10-08 09:34:33 +0000",
				"short_desc": "CVE-2020-25651 spice-vdagent: possible file transfer DoS and information leak via active_xfers hash map",
				"delta_ts": "2021-05-18 15:05:15 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security",
				"priority": "medium",
				"bug_severity": "medium",
				"depends_on": [
					"1886434",
					"1894434"
				],
				"blocked": [
					{
						"bug_id": "1882815",
						"error": "NotPermitted"
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "14377474",
						"comment_count": "0",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-10-08 09:34:33 +0000",
						"thetext": "A flaw was found in the SPICE file transfer protocol. It was reported by SUSE Security as follows:\n\nThe host application (tested with `remote-viewer` from the virt-viewer package) chooses an incrementally growing `task_id` for file exchanges\nwhich starts counting at 1. Thus the `task_id` is predictable. Since any unauthenticated local client can replace the mapping of `task_id` to client\nconnection by its own client connection, there is a possibility for an attacker to obtain parts of the transferred file data.\n\nFile data from the host system can end up in full or in parts in the client connection of an illegitimate local user in the VM system. Exploitability will be difficult if there is not a suitable side channel with information about file transfers going on. In any case active file transfers from other users can also be interrupted (DoS aspect)."
					},
					{
						"isprivate": "0",
						"commentid": "14394055",
						"comment_count": "4",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-10-14 09:38:15 +0000",
						"thetext": "Acknowledgments:\n\nName: Matthias Gerstner (SUSE Security Team)"
					},
					{
						"isprivate": "0",
						"commentid": "14473842",
						"comment_count": "5",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-04 09:34:29 +0000",
						"thetext": "External References:\n\nhttps://www.openwall.com/lists/oss-security/2020/11/04/1"
					},
					{
						"isprivate": "0",
						"commentid": "14473848",
						"comment_count": "6",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-04 09:35:14 +0000",
						"thetext": "Created spice-vdagent tracking bugs for this issue:\n\nAffects: fedora-all [bug 1894434]"
					},
					{
						"isprivate": "0",
						"commentid": "14487773",
						"comment_count": "7",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-09 09:22:08 +0000",
						"thetext": "Upstream commits:\nhttps://github.com/freedesktop/spice-vd_agent/commit/e4bfd1b632b6c14e8411dbe3565115a78cd3d256\nhttps://github.com/freedesktop/spice-vd_agent/commit/b7db1c20c9f80154fb54392eb44add3486d3e427"
					},
					{
						"isprivate": "0",
						"commentid": "15075444",
						"comment_count": "11",
						"who": {
							"text": "prodsec-dev",
							"name": "Product Security DevOps Team"
						},
						"bug_when": "2021-05-18 14:35:39 +0000",
						"thetext": "This bug is now closed. Further updates for individual products will be reflected on the CVE page(s):\n\nhttps://access.redhat.com/security/cve/cve-2020-25651"
					},
					{
						"isprivate": "0",
						"commentid": "15076357",
						"comment_count": "12",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2021-05-18 15:05:15 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 8\n\nVia RHSA-2021:1791 https://access.redhat.com/errata/RHSA-2021:1791"
					}
				]
			}
		},
		{
			"bug_id": 1886366,
			"parent": true,
			"security": true,
			"title": "CVE-2020-25652 spice-vdagent: possibility to exhaust file descriptors in vdagentd",
			"bugzilla": {
				"bug_id": "1886366",
				"alias": "CVE-2020-25652",
				"creation_ts": "2020-10-08 09:46:56 +0000",
				"short_desc": "CVE-2020-25652 spice-vdagent: possibility to exhaust file descriptors in vdagentd",
				"delta_ts": "2021-05-18 15:05:20 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security",
				"priority": "low",
				"bug_severity": "low",
				"depends_on": [
					"1886486",
					"1894435"
				],
				"blocked": [
					{
						"bug_id": "1882815",
						"error": "NotPermitted"
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "14377515",
						"comment_count": "0",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-10-08 09:46:56 +0000",
						"thetext": "The following flaw was reported by SUSE Security:\n\n`spice-vdagentd` does not apply a limit to the amount of client connections that can be established via the UNIX domain socket in `/run/spice-vdagentd/spice-vdagent-sock`. Also existing connections aren't subject to a timeout or any kind of preconditions for them to stay alive. Any local user in the VM can prevent legitimate `spice-vdagent` instances from connecting to the `spice-vdagentd` daemon. `spice-vdagentd` will become unable to open further connections for legitimate clients or perform other tasks."
					},
					{
						"isprivate": "0",
						"commentid": "14394058",
						"comment_count": "4",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-10-14 09:38:59 +0000",
						"thetext": "Acknowledgments:\n\nName: Matthias Gerstner (SUSE Security Team)"
					},
					{
						"isprivate": "0",
						"commentid": "14473847",
						"comment_count": "5",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-04 09:35:09 +0000",
						"thetext": "External References:\n\nhttps://www.openwall.com/lists/oss-security/2020/11/04/1"
					},
					{
						"isprivate": "0",
						"commentid": "14473852",
						"comment_count": "6",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-04 09:35:40 +0000",
						"thetext": "Created spice-vdagent tracking bugs for this issue:\n\nAffects: fedora-all [bug 1894435]"
					},
					{
						"isprivate": "0",
						"commentid": "14487778",
						"comment_count": "7",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-09 09:23:30 +0000",
						"thetext": "Upstream commits:\nhttps://github.com/freedesktop/spice-vd_agent/commit/91caa9223857708475d29df1768208fed1675340\nhttps://github.com/freedesktop/spice-vd_agent/commit/812ca777469a377c84b9861d7d326bfc72563304"
					},
					{
						"isprivate": "0",
						"commentid": "15075447",
						"comment_count": "11",
						"who": {
							"text": "prodsec-dev",
							"name": "Product Security DevOps Team"
						},
						"bug_when": "2021-05-18 14:35:43 +0000",
						"thetext": "This bug is now closed. Further updates for individual products will be reflected on the CVE page(s):\n\nhttps://access.redhat.com/security/cve/cve-2020-25652"
					},
					{
						"isprivate": "0",
						"commentid": "15076358",
						"comment_count": "12",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2021-05-18 15:05:20 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 8\n\nVia RHSA-2021:1791 https://access.redhat.com/errata/RHSA-2021:1791"
					}
				]
			}
		},
		{
			"bug_id": 1886372,
			"parent": true,
			"security": true,
			"title": "CVE-2020-25653 spice-vdagent: UNIX domain socket peer PID retrieved via SO_PEERCRED is subject to race condition",
			"bugzilla": {
				"bug_id": "1886372",
				"alias": "CVE-2020-25653",
				"creation_ts": "2020-10-08 10:12:40 +0000",
				"short_desc": "CVE-2020-25653 spice-vdagent: UNIX domain socket peer PID retrieved via SO_PEERCRED is subject to race condition",
				"delta_ts": "2021-05-18 15:05:21 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security",
				"priority": "medium",
				"bug_severity": "medium",
				"depends_on": [
					"1886512",
					"1894436"
				],
				"blocked": [
					{
						"bug_id": "1882815",
						"error": "NotPermitted"
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "14377583",
						"comment_count": "0",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-10-08 10:12:40 +0000",
						"thetext": "The following flaw was reported by SUSE Security:\n\nOne major security property of `spice-vdagentd` is that it only allows those clients access to most of the SPICE features (like clipboard, file transfer) that are currently in an active session according to systemd. It is possible for arbitrary local users (like *nobody*) to connect to\n`spice-vdagentd` but these connections should not be able to interact with the host machine, because they don't belong to the active session.\n\nThere is a race condition between the point in time when a client performs the `connect()` call to establish a connection with `spice-vdagentd` and the time `spice-vdagentd` retrieves and checks the PID in its `agent_connect()` function. The described race condition is very hard to hit under normal circumstances, because the `agent_connect()` function in `spice-vdagentd` is very likely to run before an unrelated process gets reassigned the malicious PID in question. When combined with the file descriptor exhaustion security issue however, then this attack will become way more feasible.\n\nAn unprivileged local attacker inside a VM could use this flaw to become the \"active agent\" for `spice-vdagentd` for the graphical session of a legitimate local user. If successful then the attacker can access the host's clipboard contents or send malicious clipboard content to the host. The attacker can also retrieve file data from the host or send invalid screen resolution and display information to the host. If the victim's graphical session already runs a legitimate `spice-vdagent` then a successful attack will trigger an information leak protection logic in `vdagentd.c:874`. This has the effect of a denial-of-service, because neither the attacker nor the legitimate user will be able to use the SPICE features anymore."
					},
					{
						"isprivate": "0",
						"commentid": "14394059",
						"comment_count": "4",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-10-14 09:39:17 +0000",
						"thetext": "Acknowledgments:\n\nName: Matthias Gerstner (SUSE Security Team)"
					},
					{
						"isprivate": "0",
						"commentid": "14473851",
						"comment_count": "5",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-04 09:35:31 +0000",
						"thetext": "External References:\n\nhttps://www.openwall.com/lists/oss-security/2020/11/04/1"
					},
					{
						"isprivate": "0",
						"commentid": "14473855",
						"comment_count": "6",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-04 09:35:57 +0000",
						"thetext": "Created spice-vdagent tracking bugs for this issue:\n\nAffects: fedora-all [bug 1894436]"
					},
					{
						"isprivate": "0",
						"commentid": "14487783",
						"comment_count": "7",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-09 09:24:54 +0000",
						"thetext": "Upstream commits:\nhttps://github.com/freedesktop/spice-vd_agent/commit/51c415df82a52e9ec033225783c77df95f387891\nhttps://github.com/freedesktop/spice-vd_agent/commit/5c50131797e985d0a5654c1fd7000ae945ed29a7"
					},
					{
						"isprivate": "0",
						"commentid": "15075450",
						"comment_count": "11",
						"who": {
							"text": "prodsec-dev",
							"name": "Product Security DevOps Team"
						},
						"bug_when": "2021-05-18 14:35:53 +0000",
						"thetext": "This bug is now closed. Further updates for individual products will be reflected on the CVE page(s):\n\nhttps://access.redhat.com/security/cve/cve-2020-25653"
					},
					{
						"isprivate": "0",
						"commentid": "15076359",
						"comment_count": "12",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2021-05-18 15:05:21 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 8\n\nVia RHSA-2021:1791 https://access.redhat.com/errata/RHSA-2021:1791"
					}
				]
			}
		},
		{
			"bug_id": 1894433,
			"security": true,
			"title": "CVE-2020-25650 spice-vdagent: memory DoS via arbitrary entries in `active_xfers` hash table [fedora-all]",
			"bugzilla": {
				"bug_id": "1894433",
				"creation_ts": "2020-11-04 09:34:26 +0000",
				"short_desc": "CVE-2020-25650 spice-vdagent: memory DoS via arbitrary entries in `active_xfers` hash table [fedora-all]",
				"delta_ts": "2021-02-17 05:08:41 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security, SecurityTracking",
				"priority": "low",
				"bug_severity": "low",
				"blocked": [
					{
						"bug_id": "1886345",
						"alias": "CVE-2020-25650",
						"creation_ts": "2020-10-08 09:01:10 +0000",
						"short_desc": "CVE-2020-25650 spice-vdagent: memory DoS via arbitrary entries in active_xfers hash table",
						"delta_ts": "2021-05-18 15:05:14 +0000",
						"bug_status": "CLOSED",
						"resolution": "ERRATA",
						"keywords": "Security",
						"priority": "low",
						"bug_severity": "low",
						"depends_on": [
							"1886415",
							"1894433"
						],
						"blocked": [
							{
								"bug_id": "1882815",
								"error": "NotPermitted"
							}
						],
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "14377374",
								"comment_count": "0",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-10-08 09:01:10 +0000",
								"thetext": "The following flaw was reported by SUSE Security:\n\nThe `spice-vdagentd` maintains a hash map named `active_xfers` that maps `task_ids` to UNIX domain socket connections they belong to. These `task_ids`\nrefer to ongoing file transfers from the host to the virtual machine. An arbitrary client connected to `spice-vdagentd` via a UNIX domain socket can trigger an entry into this hash map, without the requirement that the client is associated with the currently active graphical session (function `do_agent_file_xfer_status`, specifically `vdagentd.c:1025`). There is no limit on the maximum amount of file transfers ongoing in parallel and there are no timeouts applied for a file transfer to be finished.\n\nTherefore any unprivileged local user with access to the `/run/spice-vdagentd/spice-vdagent-sock` socket path can perform a memory denial-of-service by entering a large amount of entries into this hash map. The system might enter an out of memory situation, causing a denial-of-service for spice-vdagentd or even other processes in the system."
							},
							{
								"isprivate": "0",
								"commentid": "14394053",
								"comment_count": "4",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-10-14 09:37:53 +0000",
								"thetext": "Acknowledgments:\n\nName: Matthias Gerstner (SUSE Security Team)"
							},
							{
								"isprivate": "0",
								"commentid": "14473839",
								"comment_count": "5",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-11-04 09:34:04 +0000",
								"thetext": "External References:\n\nhttps://www.openwall.com/lists/oss-security/2020/11/04/1"
							},
							{
								"isprivate": "0",
								"commentid": "14473843",
								"comment_count": "6",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-11-04 09:34:40 +0000",
								"thetext": "Created spice-vdagent tracking bugs for this issue:\n\nAffects: fedora-all [bug 1894433]"
							},
							{
								"isprivate": "0",
								"commentid": "14487765",
								"comment_count": "7",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-11-09 09:20:26 +0000",
								"thetext": "Upstream commits:\nhttps://github.com/freedesktop/spice-vd_agent/commit/1a8b93ca6ac0b690339ab7f0afc6fc45d198d332\nhttps://github.com/freedesktop/spice-vd_agent/commit/9d35d8a86fb310fc1f29d428c0a96995948d2357"
							},
							{
								"isprivate": "0",
								"commentid": "15075443",
								"comment_count": "11",
								"who": {
									"text": "prodsec-dev",
									"name": "Product Security DevOps Team"
								},
								"bug_when": "2021-05-18 14:35:35 +0000",
								"thetext": "This bug is now closed. Further updates for individual products will be reflected on the CVE page(s):\n\nhttps://access.redhat.com/security/cve/cve-2020-25650"
							},
							{
								"isprivate": "0",
								"commentid": "15076356",
								"comment_count": "12",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2021-05-18 15:05:14 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 8\n\nVia RHSA-2021:1791 https://access.redhat.com/errata/RHSA-2021:1791"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "14473840",
						"comment_count": "0",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-04 09:34:26 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof fedora-all.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate."
					},
					{
						"isprivate": "0",
						"commentid": "14473841",
						"comment_count": "1",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-04 09:34:29 +0000",
						"thetext": "Use the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# low, medium, high, urgent (required)\nseverity=low\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1886345,1894433\n\n# Description of your update\nnotes=Security fix for [PUT CVEs HERE]\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi web interface to submit updates:\n\nhttps://bodhi.fedoraproject.org/updates/new"
					},
					{
						"isprivate": "0",
						"commentid": "14758599",
						"comment_count": "2",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-08 15:17:19 +0000",
						"thetext": "FEDORA-2021-09ce0cdfac has been submitted as an update to Fedora 33. https://bodhi.fedoraproject.org/updates/FEDORA-2021-09ce0cdfac"
					},
					{
						"isprivate": "0",
						"commentid": "14758744",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-08 15:40:08 +0000",
						"thetext": "FEDORA-2021-510977db25 has been submitted as an update to Fedora 32. https://bodhi.fedoraproject.org/updates/FEDORA-2021-510977db25"
					},
					{
						"isprivate": "0",
						"commentid": "14760400",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-09 01:26:43 +0000",
						"thetext": "FEDORA-2021-09ce0cdfac has been pushed to the Fedora 33 testing repository.\nSoon you'll be able to install the update with the following command:\n`sudo dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2021-09ce0cdfac`\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2021-09ce0cdfac\n\nSee also https://fedoraproject.org/wiki/QA:Updates_Testing for more information on how to test updates."
					},
					{
						"isprivate": "0",
						"commentid": "14760443",
						"comment_count": "5",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-09 01:49:12 +0000",
						"thetext": "FEDORA-2021-510977db25 has been pushed to the Fedora 32 testing repository.\nSoon you'll be able to install the update with the following command:\n`sudo dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2021-510977db25`\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2021-510977db25\n\nSee also https://fedoraproject.org/wiki/QA:Updates_Testing for more information on how to test updates."
					},
					{
						"isprivate": "0",
						"commentid": "14774382",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-12 01:42:28 +0000",
						"thetext": "FEDORA-2021-09ce0cdfac has been pushed to the Fedora 33 stable repository.\nIf problem still persists, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "14791630",
						"comment_count": "7",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-17 05:08:41 +0000",
						"thetext": "FEDORA-2021-510977db25 has been pushed to the Fedora 32 stable repository.\nIf problem still persists, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1894434,
			"security": true,
			"title": "CVE-2020-25651 spice-vdagent: possible file transfer DoS and information leak via `active_xfers` hash map [fedora-all]",
			"bugzilla": {
				"bug_id": "1894434",
				"creation_ts": "2020-11-04 09:35:00 +0000",
				"short_desc": "CVE-2020-25651 spice-vdagent: possible file transfer DoS and information leak via `active_xfers` hash map [fedora-all]",
				"delta_ts": "2021-02-17 05:08:43 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security, SecurityTracking",
				"priority": "medium",
				"bug_severity": "medium",
				"blocked": [
					{
						"bug_id": "1886359",
						"alias": "CVE-2020-25651",
						"creation_ts": "2020-10-08 09:34:33 +0000",
						"short_desc": "CVE-2020-25651 spice-vdagent: possible file transfer DoS and information leak via active_xfers hash map",
						"delta_ts": "2021-05-18 15:05:15 +0000",
						"bug_status": "CLOSED",
						"resolution": "ERRATA",
						"keywords": "Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"1886434",
							"1894434"
						],
						"blocked": [
							{
								"bug_id": "1882815",
								"error": "NotPermitted"
							}
						],
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "14377474",
								"comment_count": "0",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-10-08 09:34:33 +0000",
								"thetext": "A flaw was found in the SPICE file transfer protocol. It was reported by SUSE Security as follows:\n\nThe host application (tested with `remote-viewer` from the virt-viewer package) chooses an incrementally growing `task_id` for file exchanges\nwhich starts counting at 1. Thus the `task_id` is predictable. Since any unauthenticated local client can replace the mapping of `task_id` to client\nconnection by its own client connection, there is a possibility for an attacker to obtain parts of the transferred file data.\n\nFile data from the host system can end up in full or in parts in the client connection of an illegitimate local user in the VM system. Exploitability will be difficult if there is not a suitable side channel with information about file transfers going on. In any case active file transfers from other users can also be interrupted (DoS aspect)."
							},
							{
								"isprivate": "0",
								"commentid": "14394055",
								"comment_count": "4",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-10-14 09:38:15 +0000",
								"thetext": "Acknowledgments:\n\nName: Matthias Gerstner (SUSE Security Team)"
							},
							{
								"isprivate": "0",
								"commentid": "14473842",
								"comment_count": "5",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-11-04 09:34:29 +0000",
								"thetext": "External References:\n\nhttps://www.openwall.com/lists/oss-security/2020/11/04/1"
							},
							{
								"isprivate": "0",
								"commentid": "14473848",
								"comment_count": "6",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-11-04 09:35:14 +0000",
								"thetext": "Created spice-vdagent tracking bugs for this issue:\n\nAffects: fedora-all [bug 1894434]"
							},
							{
								"isprivate": "0",
								"commentid": "14487773",
								"comment_count": "7",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-11-09 09:22:08 +0000",
								"thetext": "Upstream commits:\nhttps://github.com/freedesktop/spice-vd_agent/commit/e4bfd1b632b6c14e8411dbe3565115a78cd3d256\nhttps://github.com/freedesktop/spice-vd_agent/commit/b7db1c20c9f80154fb54392eb44add3486d3e427"
							},
							{
								"isprivate": "0",
								"commentid": "15075444",
								"comment_count": "11",
								"who": {
									"text": "prodsec-dev",
									"name": "Product Security DevOps Team"
								},
								"bug_when": "2021-05-18 14:35:39 +0000",
								"thetext": "This bug is now closed. Further updates for individual products will be reflected on the CVE page(s):\n\nhttps://access.redhat.com/security/cve/cve-2020-25651"
							},
							{
								"isprivate": "0",
								"commentid": "15076357",
								"comment_count": "12",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2021-05-18 15:05:15 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 8\n\nVia RHSA-2021:1791 https://access.redhat.com/errata/RHSA-2021:1791"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "14473845",
						"comment_count": "0",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-04 09:35:00 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof fedora-all.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate."
					},
					{
						"isprivate": "0",
						"commentid": "14473846",
						"comment_count": "1",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-04 09:35:04 +0000",
						"thetext": "Use the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# low, medium, high, urgent (required)\nseverity=medium\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1886359,1894434\n\n# Description of your update\nnotes=Security fix for [PUT CVEs HERE]\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi web interface to submit updates:\n\nhttps://bodhi.fedoraproject.org/updates/new"
					},
					{
						"isprivate": "0",
						"commentid": "14758600",
						"comment_count": "2",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-08 15:17:21 +0000",
						"thetext": "FEDORA-2021-09ce0cdfac has been submitted as an update to Fedora 33. https://bodhi.fedoraproject.org/updates/FEDORA-2021-09ce0cdfac"
					},
					{
						"isprivate": "0",
						"commentid": "14758745",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-08 15:40:11 +0000",
						"thetext": "FEDORA-2021-510977db25 has been submitted as an update to Fedora 32. https://bodhi.fedoraproject.org/updates/FEDORA-2021-510977db25"
					},
					{
						"isprivate": "0",
						"commentid": "14760401",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-09 01:26:45 +0000",
						"thetext": "FEDORA-2021-09ce0cdfac has been pushed to the Fedora 33 testing repository.\nSoon you'll be able to install the update with the following command:\n`sudo dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2021-09ce0cdfac`\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2021-09ce0cdfac\n\nSee also https://fedoraproject.org/wiki/QA:Updates_Testing for more information on how to test updates."
					},
					{
						"isprivate": "0",
						"commentid": "14760444",
						"comment_count": "5",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-09 01:49:14 +0000",
						"thetext": "FEDORA-2021-510977db25 has been pushed to the Fedora 32 testing repository.\nSoon you'll be able to install the update with the following command:\n`sudo dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2021-510977db25`\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2021-510977db25\n\nSee also https://fedoraproject.org/wiki/QA:Updates_Testing for more information on how to test updates."
					},
					{
						"isprivate": "0",
						"commentid": "14774383",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-12 01:42:33 +0000",
						"thetext": "FEDORA-2021-09ce0cdfac has been pushed to the Fedora 33 stable repository.\nIf problem still persists, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "14791632",
						"comment_count": "7",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-17 05:08:43 +0000",
						"thetext": "FEDORA-2021-510977db25 has been pushed to the Fedora 32 stable repository.\nIf problem still persists, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1894435,
			"security": true,
			"title": "CVE-2020-25652 spice-vdagent: possibility to exhaust file descriptors in `vdagentd` [fedora-all]",
			"bugzilla": {
				"bug_id": "1894435",
				"creation_ts": "2020-11-04 09:35:25 +0000",
				"short_desc": "CVE-2020-25652 spice-vdagent: possibility to exhaust file descriptors in `vdagentd` [fedora-all]",
				"delta_ts": "2021-02-17 05:08:45 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security, SecurityTracking",
				"priority": "low",
				"bug_severity": "low",
				"blocked": [
					{
						"bug_id": "1886366",
						"alias": "CVE-2020-25652",
						"creation_ts": "2020-10-08 09:46:56 +0000",
						"short_desc": "CVE-2020-25652 spice-vdagent: possibility to exhaust file descriptors in vdagentd",
						"delta_ts": "2021-05-18 15:05:20 +0000",
						"bug_status": "CLOSED",
						"resolution": "ERRATA",
						"keywords": "Security",
						"priority": "low",
						"bug_severity": "low",
						"depends_on": [
							"1886486",
							"1894435"
						],
						"blocked": [
							{
								"bug_id": "1882815",
								"error": "NotPermitted"
							}
						],
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "14377515",
								"comment_count": "0",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-10-08 09:46:56 +0000",
								"thetext": "The following flaw was reported by SUSE Security:\n\n`spice-vdagentd` does not apply a limit to the amount of client connections that can be established via the UNIX domain socket in `/run/spice-vdagentd/spice-vdagent-sock`. Also existing connections aren't subject to a timeout or any kind of preconditions for them to stay alive. Any local user in the VM can prevent legitimate `spice-vdagent` instances from connecting to the `spice-vdagentd` daemon. `spice-vdagentd` will become unable to open further connections for legitimate clients or perform other tasks."
							},
							{
								"isprivate": "0",
								"commentid": "14394058",
								"comment_count": "4",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-10-14 09:38:59 +0000",
								"thetext": "Acknowledgments:\n\nName: Matthias Gerstner (SUSE Security Team)"
							},
							{
								"isprivate": "0",
								"commentid": "14473847",
								"comment_count": "5",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-11-04 09:35:09 +0000",
								"thetext": "External References:\n\nhttps://www.openwall.com/lists/oss-security/2020/11/04/1"
							},
							{
								"isprivate": "0",
								"commentid": "14473852",
								"comment_count": "6",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-11-04 09:35:40 +0000",
								"thetext": "Created spice-vdagent tracking bugs for this issue:\n\nAffects: fedora-all [bug 1894435]"
							},
							{
								"isprivate": "0",
								"commentid": "14487778",
								"comment_count": "7",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-11-09 09:23:30 +0000",
								"thetext": "Upstream commits:\nhttps://github.com/freedesktop/spice-vd_agent/commit/91caa9223857708475d29df1768208fed1675340\nhttps://github.com/freedesktop/spice-vd_agent/commit/812ca777469a377c84b9861d7d326bfc72563304"
							},
							{
								"isprivate": "0",
								"commentid": "15075447",
								"comment_count": "11",
								"who": {
									"text": "prodsec-dev",
									"name": "Product Security DevOps Team"
								},
								"bug_when": "2021-05-18 14:35:43 +0000",
								"thetext": "This bug is now closed. Further updates for individual products will be reflected on the CVE page(s):\n\nhttps://access.redhat.com/security/cve/cve-2020-25652"
							},
							{
								"isprivate": "0",
								"commentid": "15076358",
								"comment_count": "12",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2021-05-18 15:05:20 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 8\n\nVia RHSA-2021:1791 https://access.redhat.com/errata/RHSA-2021:1791"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "14473849",
						"comment_count": "0",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-04 09:35:25 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof fedora-all.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate."
					},
					{
						"isprivate": "0",
						"commentid": "14473850",
						"comment_count": "1",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-04 09:35:28 +0000",
						"thetext": "Use the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# low, medium, high, urgent (required)\nseverity=low\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1886366,1894435\n\n# Description of your update\nnotes=Security fix for [PUT CVEs HERE]\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi web interface to submit updates:\n\nhttps://bodhi.fedoraproject.org/updates/new"
					},
					{
						"isprivate": "0",
						"commentid": "14758601",
						"comment_count": "2",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-08 15:17:24 +0000",
						"thetext": "FEDORA-2021-09ce0cdfac has been submitted as an update to Fedora 33. https://bodhi.fedoraproject.org/updates/FEDORA-2021-09ce0cdfac"
					},
					{
						"isprivate": "0",
						"commentid": "14758746",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-08 15:40:14 +0000",
						"thetext": "FEDORA-2021-510977db25 has been submitted as an update to Fedora 32. https://bodhi.fedoraproject.org/updates/FEDORA-2021-510977db25"
					},
					{
						"isprivate": "0",
						"commentid": "14760402",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-09 01:26:46 +0000",
						"thetext": "FEDORA-2021-09ce0cdfac has been pushed to the Fedora 33 testing repository.\nSoon you'll be able to install the update with the following command:\n`sudo dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2021-09ce0cdfac`\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2021-09ce0cdfac\n\nSee also https://fedoraproject.org/wiki/QA:Updates_Testing for more information on how to test updates."
					},
					{
						"isprivate": "0",
						"commentid": "14760445",
						"comment_count": "5",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-09 01:49:16 +0000",
						"thetext": "FEDORA-2021-510977db25 has been pushed to the Fedora 32 testing repository.\nSoon you'll be able to install the update with the following command:\n`sudo dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2021-510977db25`\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2021-510977db25\n\nSee also https://fedoraproject.org/wiki/QA:Updates_Testing for more information on how to test updates."
					},
					{
						"isprivate": "0",
						"commentid": "14774384",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-12 01:42:38 +0000",
						"thetext": "FEDORA-2021-09ce0cdfac has been pushed to the Fedora 33 stable repository.\nIf problem still persists, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "14791634",
						"comment_count": "7",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-17 05:08:45 +0000",
						"thetext": "FEDORA-2021-510977db25 has been pushed to the Fedora 32 stable repository.\nIf problem still persists, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1894436,
			"security": true,
			"title": "CVE-2020-25653 spice-vdagent: UNIX domain socket peer PID retrieved via `SO_PEERCRED` is subject to race condition [fedora-all]",
			"bugzilla": {
				"bug_id": "1894436",
				"creation_ts": "2020-11-04 09:35:42 +0000",
				"short_desc": "CVE-2020-25653 spice-vdagent: UNIX domain socket peer PID retrieved via `SO_PEERCRED` is subject to race condition [fedora-all]",
				"delta_ts": "2021-02-17 05:08:48 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security, SecurityTracking",
				"priority": "medium",
				"bug_severity": "medium",
				"blocked": [
					{
						"bug_id": "1886372",
						"alias": "CVE-2020-25653",
						"creation_ts": "2020-10-08 10:12:40 +0000",
						"short_desc": "CVE-2020-25653 spice-vdagent: UNIX domain socket peer PID retrieved via SO_PEERCRED is subject to race condition",
						"delta_ts": "2021-05-18 15:05:21 +0000",
						"bug_status": "CLOSED",
						"resolution": "ERRATA",
						"keywords": "Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"1886512",
							"1894436"
						],
						"blocked": [
							{
								"bug_id": "1882815",
								"error": "NotPermitted"
							}
						],
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "14377583",
								"comment_count": "0",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-10-08 10:12:40 +0000",
								"thetext": "The following flaw was reported by SUSE Security:\n\nOne major security property of `spice-vdagentd` is that it only allows those clients access to most of the SPICE features (like clipboard, file transfer) that are currently in an active session according to systemd. It is possible for arbitrary local users (like *nobody*) to connect to\n`spice-vdagentd` but these connections should not be able to interact with the host machine, because they don't belong to the active session.\n\nThere is a race condition between the point in time when a client performs the `connect()` call to establish a connection with `spice-vdagentd` and the time `spice-vdagentd` retrieves and checks the PID in its `agent_connect()` function. The described race condition is very hard to hit under normal circumstances, because the `agent_connect()` function in `spice-vdagentd` is very likely to run before an unrelated process gets reassigned the malicious PID in question. When combined with the file descriptor exhaustion security issue however, then this attack will become way more feasible.\n\nAn unprivileged local attacker inside a VM could use this flaw to become the \"active agent\" for `spice-vdagentd` for the graphical session of a legitimate local user. If successful then the attacker can access the host's clipboard contents or send malicious clipboard content to the host. The attacker can also retrieve file data from the host or send invalid screen resolution and display information to the host. If the victim's graphical session already runs a legitimate `spice-vdagent` then a successful attack will trigger an information leak protection logic in `vdagentd.c:874`. This has the effect of a denial-of-service, because neither the attacker nor the legitimate user will be able to use the SPICE features anymore."
							},
							{
								"isprivate": "0",
								"commentid": "14394059",
								"comment_count": "4",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-10-14 09:39:17 +0000",
								"thetext": "Acknowledgments:\n\nName: Matthias Gerstner (SUSE Security Team)"
							},
							{
								"isprivate": "0",
								"commentid": "14473851",
								"comment_count": "5",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-11-04 09:35:31 +0000",
								"thetext": "External References:\n\nhttps://www.openwall.com/lists/oss-security/2020/11/04/1"
							},
							{
								"isprivate": "0",
								"commentid": "14473855",
								"comment_count": "6",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-11-04 09:35:57 +0000",
								"thetext": "Created spice-vdagent tracking bugs for this issue:\n\nAffects: fedora-all [bug 1894436]"
							},
							{
								"isprivate": "0",
								"commentid": "14487783",
								"comment_count": "7",
								"who": {
									"text": "mcascell",
									"name": "Mauro Matteo Cascella"
								},
								"bug_when": "2020-11-09 09:24:54 +0000",
								"thetext": "Upstream commits:\nhttps://github.com/freedesktop/spice-vd_agent/commit/51c415df82a52e9ec033225783c77df95f387891\nhttps://github.com/freedesktop/spice-vd_agent/commit/5c50131797e985d0a5654c1fd7000ae945ed29a7"
							},
							{
								"isprivate": "0",
								"commentid": "15075450",
								"comment_count": "11",
								"who": {
									"text": "prodsec-dev",
									"name": "Product Security DevOps Team"
								},
								"bug_when": "2021-05-18 14:35:53 +0000",
								"thetext": "This bug is now closed. Further updates for individual products will be reflected on the CVE page(s):\n\nhttps://access.redhat.com/security/cve/cve-2020-25653"
							},
							{
								"isprivate": "0",
								"commentid": "15076359",
								"comment_count": "12",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2021-05-18 15:05:21 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 8\n\nVia RHSA-2021:1791 https://access.redhat.com/errata/RHSA-2021:1791"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "14473853",
						"comment_count": "0",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-04 09:35:42 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof fedora-all.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate."
					},
					{
						"isprivate": "0",
						"commentid": "14473854",
						"comment_count": "1",
						"who": {
							"text": "mcascell",
							"name": "Mauro Matteo Cascella"
						},
						"bug_when": "2020-11-04 09:35:46 +0000",
						"thetext": "Use the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# low, medium, high, urgent (required)\nseverity=medium\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1886372,1894436\n\n# Description of your update\nnotes=Security fix for [PUT CVEs HERE]\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi web interface to submit updates:\n\nhttps://bodhi.fedoraproject.org/updates/new"
					},
					{
						"isprivate": "0",
						"commentid": "14758603",
						"comment_count": "2",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-08 15:17:26 +0000",
						"thetext": "FEDORA-2021-09ce0cdfac has been submitted as an update to Fedora 33. https://bodhi.fedoraproject.org/updates/FEDORA-2021-09ce0cdfac"
					},
					{
						"isprivate": "0",
						"commentid": "14758750",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-08 15:40:16 +0000",
						"thetext": "FEDORA-2021-510977db25 has been submitted as an update to Fedora 32. https://bodhi.fedoraproject.org/updates/FEDORA-2021-510977db25"
					},
					{
						"isprivate": "0",
						"commentid": "14760404",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-09 01:26:48 +0000",
						"thetext": "FEDORA-2021-09ce0cdfac has been pushed to the Fedora 33 testing repository.\nSoon you'll be able to install the update with the following command:\n`sudo dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2021-09ce0cdfac`\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2021-09ce0cdfac\n\nSee also https://fedoraproject.org/wiki/QA:Updates_Testing for more information on how to test updates."
					},
					{
						"isprivate": "0",
						"commentid": "14760446",
						"comment_count": "5",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-09 01:49:18 +0000",
						"thetext": "FEDORA-2021-510977db25 has been pushed to the Fedora 32 testing repository.\nSoon you'll be able to install the update with the following command:\n`sudo dnf upgrade --enablerepo=updates-testing --advisory=FEDORA-2021-510977db25`\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2021-510977db25\n\nSee also https://fedoraproject.org/wiki/QA:Updates_Testing for more information on how to test updates."
					},
					{
						"isprivate": "0",
						"commentid": "14774385",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-12 01:42:43 +0000",
						"thetext": "FEDORA-2021-09ce0cdfac has been pushed to the Fedora 33 stable repository.\nIf problem still persists, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "14791636",
						"comment_count": "7",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2021-02-17 05:08:48 +0000",
						"thetext": "FEDORA-2021-510977db25 has been pushed to the Fedora 32 stable repository.\nIf problem still persists, please make note of it in this bug report."
					}
				]
			}
		}
	],
	"builds": [
		{
			"epoch": 0,
			"nvr": "spice-vdagent-0.21.0-1.fc32",
			"release_id": 35,
			"signed": true,
			"type": "rpm",
			"package": {
				"aarch64": [
					{
						"name": "spice-vdagent-debugsource",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "aarch64"
					},
					{
						"name": "spice-vdagent-debuginfo",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "aarch64"
					},
					{
						"name": "spice-vdagent",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "aarch64"
					}
				],
				"armv7hl": [
					{
						"name": "spice-vdagent",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "armv7hl"
					},
					{
						"name": "spice-vdagent-debugsource",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "armv7hl"
					},
					{
						"name": "spice-vdagent-debuginfo",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "armv7hl"
					}
				],
				"i686": [
					{
						"name": "spice-vdagent-debuginfo",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "i686"
					},
					{
						"name": "spice-vdagent-debugsource",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "i686"
					},
					{
						"name": "spice-vdagent",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "i686"
					}
				],
				"ppc64le": [
					{
						"name": "spice-vdagent-debuginfo",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "ppc64le"
					},
					{
						"name": "spice-vdagent-debugsource",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "ppc64le"
					},
					{
						"name": "spice-vdagent",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "ppc64le"
					}
				],
				"s390x": [
					{
						"name": "spice-vdagent-debugsource",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "s390x"
					},
					{
						"name": "spice-vdagent",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "s390x"
					},
					{
						"name": "spice-vdagent-debuginfo",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "s390x"
					}
				],
				"src": [
					{
						"name": "spice-vdagent",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "src"
					}
				],
				"x86_64": [
					{
						"name": "spice-vdagent-debuginfo",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "x86_64"
					},
					{
						"name": "spice-vdagent-debugsource",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "x86_64"
					},
					{
						"name": "spice-vdagent",
						"version": "0.21.0",
						"release": "1.fc32",
						"arch": "x86_64"
					}
				]
			}
		}
	],
	"close_bugs": true,
	"comments": [
		{
			"id": 1877209,
			"text": "This update has been submitted for testing by victortoso. ",
			"timestamp": "2021-02-08 15:40:03",
			"update_id": 282246,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 1877210,
			"text": "This update's test gating status has been changed to 'ignored'.",
			"timestamp": "2021-02-08 15:40:04",
			"update_id": 282246,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 1877211,
			"text": "This update's test gating status has been changed to 'waiting'.",
			"timestamp": "2021-02-08 15:40:04",
			"update_id": 282246,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 1877246,
			"text": "This update's test gating status has been changed to 'ignored'.",
			"timestamp": "2021-02-08 16:12:17",
			"update_id": 282246,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 1877985,
			"text": "This update has been pushed to testing.",
			"timestamp": "2021-02-09 01:49:24",
			"update_id": 282246,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 1882096,
			"karma": 1,
			"text": "Works",
			"timestamp": "2021-02-11 16:15:46",
			"update_id": 282246,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/cd6029d8d81108a2a69c38a2373d2a185c0e86224b8ee4971cd77bb6cdad7a20?s=24&d=retro",
				"email": "walter.pete@yandex.com",
				"groups": [
					{
						"name": "packager"
					},
					{
						"name": "provenpackager"
					},
					{
						"name": "ipausers"
					},
					{
						"name": "fedora-contributor"
					},
					{
						"name": "signed_fpca"
					},
					{
						"name": "fedorabugs"
					}
				],
				"id": 491,
				"name": "pwalter",
				"openid": "pwalter.id.fedoraproject.org"
			},
			"user_id": 491
		},
		{
			"id": 1888822,
			"text": "This update can be pushed to stable now if the maintainer wishes",
			"timestamp": "2021-02-16 01:49:29",
			"update_id": 282246,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 1888823,
			"text": "This update has been submitted for stable by bodhi. ",
			"timestamp": "2021-02-16 01:49:29",
			"update_id": 282246,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 1890747,
			"text": "This update has been pushed to stable.",
			"timestamp": "2021-02-17 05:09:23",
			"update_id": 282246,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		}
	],
	"content_type": "rpm",
	"date_pushed": "2021-02-17 05:08:16",
	"date_stable": "2021-02-17 05:08:16",
	"date_submitted": "2021-02-08 15:40:03",
	"date_testing": "2021-02-09 01:48:56",
	"karma": 1,
	"meets_testing_requirements": true,
	"notes": "Update to spice-vdagent 0.21.0: security fixes: CVE-2020-25650, CVE-2020-25651, CVE-2020-25652, CVE-2020-25653",
	"pushed": true,
	"release": {
		"branch": "f32",
		"candidate_tag": "f32-updates-candidate",
		"composed_by_bodhi": true,
		"create_automatic_updates": false,
		"dist_tag": "f32",
		"id_prefix": "FEDORA",
		"long_name": "Fedora 32",
		"mail_template": "fedora_errata_template",
		"name": "F32",
		"override_tag": "f32-override",
		"package_manager": "dnf",
		"pending_signing_tag": "f32-signing-pending",
		"pending_stable_tag": "f32-updates-pending",
		"pending_testing_tag": "f32-updates-testing-pending",
		"stable_tag": "f32-updates",
		"state": "archived",
		"testing_repository": "updates-testing",
		"testing_tag": "f32-updates-testing",
		"version": "32"
	},
	"require_bugs": true,
	"require_testcases": true,
	"severity": "low",
	"stable_days": 7,
	"stable_karma": 3,
	"status": "stable",
	"suggest": "unspecified",
	"test_gating_status": "ignored",
	"title": "spice-vdagent-0.21.0-1.fc32",
	"type": "security",
	"url": "https://bodhi.fedoraproject.org/updates/FEDORA-2021-510977db25",
	"unstable_karma": -3,
	"updateid": "FEDORA-2021-510977db25",
	"user": {
		"avatar": "https://seccdn.libravatar.org/avatar/94b754f724a93cbfa5c74006d1a6775c9ae06b921c3982fa25f800c23eacc212?s=24&d=retro",
		"email": "victortoso@redhat.com",
		"groups": [
			{
				"name": "packager"
			},
			{
				"name": "virtmaint-sig"
			},
			{
				"name": "ipausers"
			},
			{
				"name": "fedora-contributor"
			},
			{
				"name": "signed_fpca"
			},
			{
				"name": "fedorabugs"
			},
			{
				"name": "spice-team"
			}
		],
		"id": 2281,
		"name": "victortoso",
		"openid": "victortoso.id.fedoraproject.org"
	},
	"version_hash": "26cc5af0d76989a24da1edeefe23a76e70260b93"
}
