{
	"alias": "FEDORA-EPEL-2024-23b122f235",
	"autokarma": true,
	"autotime": true,
	"bugs": [
		{
			"bug_id": 2326136,
			"feedback": [
				{
					"bug_id": 2326136,
					"comment": {
						"id": 3813601,
						"karma": 1,
						"timestamp": "2024-11-14 00:04:55",
						"update_id": 666206,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/d88a780857fad21172a7d2369e92de8b422c86e967da3fc1d8677f1a10a2fc5b?s=24&d=retro",
							"email": "fedoradev@cloud-foo.de",
							"groups": [
								{
									"name": "ipausers"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "trust admins"
								}
							],
							"id": 6075,
							"name": "mschwarz",
							"openid": "mschwarz.id.fedoraproject.org"
						},
						"user_id": 6075
					},
					"comment_id": 3813601,
					"karma": 1
				}
			],
			"title": "trafficserver stopped working after upgrade from F39 to F40 - connection to backendserver is finished before data flows",
			"bugzilla": {
				"bug_id": "2326136",
				"creation_ts": "2024-11-13 23:28:06 +0000",
				"short_desc": "trafficserver stopped working after upgrade from F39 to F40 - connection to backendserver is finished before data flows",
				"delta_ts": "2024-11-14 00:09:04 +0000",
				"bug_status": "MODIFIED",
				"bug_file_loc": "https://github.com/apache/trafficserver/issues/11858",
				"keywords": "Regression, Upgrades",
				"priority": "unspecified",
				"bug_severity": "urgent",
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "18266484",
						"comment_count": "0",
						"who": {
							"text": "customercare"
						},
						"bug_when": "2024-11-13 23:28:06 +0000",
						"thetext": "OS: Fedora 40\nVersion: 9.2.5\n\nWorked on Fedora 39 with same version, downgrade to fc39 version same release tested, same result.\n\nIt does not matter where the backendserver is, local on another port or on a different ip.\nThis dump is locally on the same server:\n\n22:48:01.224680 IP 83.246.80.131.53420 > 83.246.80.131.18443: Flags [S], seq 4065112379, win 65495, options [mss 65495,sackOK,TS val 2381864768 ecr 0,nop,wscale 7], length 0\n22:48:01.224689 IP 83.246.80.131.18443 > 83.246.80.131.53420: Flags [S.], seq 2155888146, ack 4065112380, win 65483, options [mss 65495,sackOK,TS val 2381864768 ecr 2381864768,nop,wscale 7], length 0\n22:48:01.224698 IP 83.246.80.131.53420 > 83.246.80.131.18443: Flags [.], ack 1, win 512, options [nop,nop,TS val 2381864768 ecr 2381864768], length 0\n22:48:01.224994 IP 83.246.80.131.53420 > 83.246.80.131.18443: Flags [F.], seq 1, ack 1, win 512, options [nop,nop,TS val 2381864769 ecr 2381864768], length 0\n22:48:01.225168 IP 83.246.80.131.18443 > 83.246.80.131.53420: Flags [F.], seq 1, ack 2, win 512, options [nop,nop,TS val 2381864769 ecr 2381864769], length 0\n22:48:01.225178 IP 83.246.80.131.53420 > 83.246.80.131.18443: Flags [.], ack 2, win 512, options [nop,nop,TS val 2381864769 ecr 2381864769], length 0\n\nImmediatly after the SYN-ACK is ACKed ATS sends a FIN package. And than it logs:\n\n20241113.22h48m01s CONNECT: attempt fail [CONNECTION_ERROR] to 83.246.80.131:18443 for host='cloud-foo.de' connection_result=Invalid argument [22] error=Invalid argument [22] attempts=3 url='https://cloud-foo.de:18443/equery.js'\n\nA connect with curl to that ip:port works flawless.. The cert is the same as ATS would use.\n\nFor more infos see : \n\nhttps://github.com/apache/trafficserver/issues/11858\n\nReproducible: Always\n\nSteps to Reproduce:\nTcpdump the connection to a backendserver \ncall a webpage that is not cached\nActual Results:  \nThe outgoing connection, no matter it local or remote desto, just does this\n\nC: SYN\nS: SYN-ACK\nC: ACK\nC: FIN\nS: FIN\nC: ACK\n\nExpected Results:  \nA working connection to a given desto\n\n- no firewall is in the way\n- downgrades of:\n - HTTP ( backendserver ) \n - TrafficServer \n - SystemD ( Processlimits ) \n tested -> same result\n- same kernel as before the update -> same result\n- connecting to backendserver with curl/firefox .. works\n- crypto policy downgraded -> same result\n- mod_ssl downgrade -> same result\n- diag debugging enabled -> no clues why it does not send data after SYN-ACK/ACK\n- firewall cleared\n- nftables not in use\n- firewalld not in use\n- SELinux checked - disabled -> no effect\n\nI'm out of options"
					},
					{
						"isprivate": "0",
						"commentid": "18266495",
						"comment_count": "1",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2024-11-13 23:37:08 +0000",
						"thetext": "FEDORA-EPEL-2024-60dd7e7ad3 (trafficserver-9.2.6-2.el8) has been submitted as an update to Fedora EPEL 8.\nhttps://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2024-60dd7e7ad3"
					},
					{
						"isprivate": "0",
						"commentid": "18266496",
						"comment_count": "2",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2024-11-13 23:37:08 +0000",
						"thetext": "FEDORA-2024-f4dc07db08 (trafficserver-9.2.6-2.fc41) has been submitted as an update to Fedora 41.\nhttps://bodhi.fedoraproject.org/updates/FEDORA-2024-f4dc07db08"
					},
					{
						"isprivate": "0",
						"commentid": "18266497",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2024-11-13 23:37:09 +0000",
						"thetext": "FEDORA-2024-b3c4e8da81 (trafficserver-9.2.6-2.fc40) has been submitted as an update to Fedora 40.\nhttps://bodhi.fedoraproject.org/updates/FEDORA-2024-b3c4e8da81"
					},
					{
						"isprivate": "0",
						"commentid": "18266498",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2024-11-13 23:37:09 +0000",
						"thetext": "FEDORA-2024-589ea34c42 (trafficserver-9.2.6-2.fc39) has been submitted as an update to Fedora 39.\nhttps://bodhi.fedoraproject.org/updates/FEDORA-2024-589ea34c42"
					},
					{
						"isprivate": "0",
						"commentid": "18266511",
						"comment_count": "5",
						"who": {
							"text": "jered",
							"name": "Jered Floyd"
						},
						"bug_when": "2024-11-13 23:46:57 +0000",
						"thetext": "Great timing on your report -- I hit this on the RHEL 9.5 update last night, where this also occurs.  This is due to https://github.com/apache/trafficserver/issues/11465  where outbound TLS connections cannot be established to origin servers because of an incompatibility with OpenSSL 3.2+.  Fedora 40 is the first Fedora release that uses 3.2+, and the RHEL 9.5 update also moves to OpenSSL 3.2.2 (which led to a bit of a panic for me last night).\n\nAppreciated if you could try out the testing build and verify the fix in your environment (and vote in Bodhi so it goes to release faster)."
					},
					{
						"isprivate": "0",
						"commentid": "18266533",
						"comment_count": "6",
						"who": {
							"text": "customercare"
						},
						"bug_when": "2024-11-14 00:09:04 +0000",
						"thetext": "done and karma given.. works again."
					}
				]
			}
		}
	],
	"builds": [
		{
			"epoch": 0,
			"nvr": "trafficserver-9.2.6-2.el9",
			"release_id": 61,
			"signed": true,
			"type": "rpm",
			"package": {
				"aarch64": [
					{
						"name": "trafficserver",
						"version": "9.2.6",
						"release": "2.el9",
						"arch": "aarch64"
					},
					{
						"name": "trafficserver-debuginfo",
						"version": "9.2.6",
						"release": "2.el9",
						"arch": "aarch64"
					},
					{
						"name": "trafficserver-debugsource",
						"version": "9.2.6",
						"release": "2.el9",
						"arch": "aarch64"
					}
				],
				"noarch": [
					{
						"name": "trafficserver-devel",
						"version": "9.2.6",
						"release": "2.el9",
						"arch": "noarch"
					},
					{
						"name": "trafficserver-perl",
						"version": "9.2.6",
						"release": "2.el9",
						"arch": "noarch"
					},
					{
						"name": "trafficserver-selinux",
						"version": "9.2.6",
						"release": "2.el9",
						"arch": "noarch"
					}
				],
				"ppc64le": [
					{
						"name": "trafficserver-debuginfo",
						"version": "9.2.6",
						"release": "2.el9",
						"arch": "ppc64le"
					},
					{
						"name": "trafficserver",
						"version": "9.2.6",
						"release": "2.el9",
						"arch": "ppc64le"
					},
					{
						"name": "trafficserver-debugsource",
						"version": "9.2.6",
						"release": "2.el9",
						"arch": "ppc64le"
					}
				],
				"src": [
					{
						"name": "trafficserver",
						"version": "9.2.6",
						"release": "2.el9",
						"arch": "src"
					}
				],
				"x86_64": [
					{
						"name": "trafficserver-debuginfo",
						"version": "9.2.6",
						"release": "2.el9",
						"arch": "x86_64"
					},
					{
						"name": "trafficserver",
						"version": "9.2.6",
						"release": "2.el9",
						"arch": "x86_64"
					},
					{
						"name": "trafficserver-debugsource",
						"version": "9.2.6",
						"release": "2.el9",
						"arch": "x86_64"
					}
				]
			}
		}
	],
	"close_bugs": true,
	"comments": [
		{
			"id": 3813574,
			"text": "This update has been submitted for testing by jered. ",
			"timestamp": "2024-11-13 23:37:05",
			"update_id": 666204,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 3813575,
			"text": "This update's test gating status has been changed to 'ignored'.",
			"timestamp": "2024-11-13 23:37:05",
			"update_id": 666204,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		}
	],
	"content_type": "rpm",
	"critpath_groups": "",
	"date_submitted": "2024-11-13 23:37:05",
	"locked": true,
	"notes": "- Update to upstream 9.2.6\n- Backport fix for broken oubound TLS with OpenSSL 3.2+ \n- Resolves CVE-2024-38479, CVE-2024-50305, CVE-2024-50306",
	"release": {
		"branch": "epel9",
		"candidate_tag": "epel9-testing-candidate",
		"composed_by_bodhi": true,
		"create_automatic_updates": false,
		"dist_tag": "epel9",
		"id_prefix": "FEDORA-EPEL",
		"long_name": "Fedora EPEL 9",
		"mail_template": "fedora_epel_legacy_errata_template",
		"name": "EPEL-9",
		"override_tag": "epel9-override",
		"package_manager": "unspecified",
		"pending_signing_tag": "epel9-signing-pending",
		"pending_stable_tag": "epel9-pending",
		"pending_testing_tag": "epel9-testing-pending",
		"stable_tag": "epel9",
		"state": "current",
		"testing_tag": "epel9-testing",
		"version": "9"
	},
	"request": "testing",
	"require_bugs": true,
	"require_testcases": true,
	"severity": "high",
	"stable_days": 7,
	"stable_karma": 3,
	"status": "pending",
	"suggest": "unspecified",
	"test_gating_status": "ignored",
	"title": "trafficserver-9.2.6-2.el9",
	"type": "security",
	"url": "https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2024-23b122f235",
	"unstable_karma": -3,
	"updateid": "FEDORA-EPEL-2024-23b122f235",
	"user": {
		"avatar": "https://seccdn.libravatar.org/avatar/a51bc04cef852c0b20afcf76f1acf5ee4f2f8d4768f21a2f3f6e8151a63c024f?s=24&d=retro",
		"email": "jered@redhat.com",
		"groups": [
			{
				"name": "packager"
			},
			{
				"name": "ipausers"
			},
			{
				"name": "fedora-contributor"
			},
			{
				"name": "signed_fpca"
			},
			{
				"name": "fedorabugs"
			},
			{
				"name": "trust admins"
			}
		],
		"id": 7090,
		"name": "jered",
		"openid": "jered.id.fedoraproject.org"
	},
	"version_hash": "3437921269819cef22284d224453abc0bab5b4d7"
}
