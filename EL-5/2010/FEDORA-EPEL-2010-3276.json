{
	"alias": "FEDORA-EPEL-2010-3276",
	"bugs": [
		{
			"bug_id": 624764,
			"parent": true,
			"security": true,
			"title": "CVE-2010-2234 couchdb: CSRF vulnerability in versions prior to 0.11.2/1.0.1",
			"bugzilla": {
				"bug_id": "624764",
				"alias": "CVE-2010-2234",
				"creation_ts": "2010-08-17 17:04:00 +0000",
				"short_desc": "CVE-2010-2234 couchdb: CSRF vulnerability in versions prior to 0.11.2/1.0.1",
				"delta_ts": "2019-09-29 12:38:21 +0000",
				"bug_status": "CLOSED",
				"resolution": "UPSTREAM",
				"keywords": "Security",
				"priority": "medium",
				"bug_severity": "medium",
				"depends_on": [
					"624765"
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "3086140",
						"comment_count": "0",
						"who": {
							"text": "vdanen",
							"name": "Vincent Danen"
						},
						"bug_when": "2010-08-17 17:04:00 +0000",
						"thetext": "Apache CouchDB prior to 0.11.2 and 1.0.1 are vulnerable to cross site request forgery (CSRF) attacks.  A malicious web site can POST arbitrary JavaScript code to wellknown CouchDB installation URLs and make the browser execute the injected JavaScript in the security context of CouchDB's admin interface Futon.\n\nThis issue has been assigned the name CVE-2010-2234.\n\nReferences:\n\nhttp://seclists.org/fulldisclosure/2010/Aug/199"
					},
					{
						"isprivate": "0",
						"commentid": "3086145",
						"comment_count": "1",
						"who": {
							"text": "vdanen",
							"name": "Vincent Danen"
						},
						"bug_when": "2010-08-17 17:05:27 +0000",
						"thetext": "Created couchdb tracking bugs for this issue\n\nAffects: fedora-all [bug 624765]"
					},
					{
						"isprivate": "0",
						"commentid": "12826087",
						"comment_count": "2",
						"who": {
							"text": "prodsec-dev",
							"name": "Product Security DevOps Team"
						},
						"bug_when": "2019-06-10 10:57:09 +0000",
						"thetext": "This CVE Bugzilla entry is for community support informational purposes only as it does not affect a package in a commercially supported Red Hat product. Refer to the dependent bugs for status of those individual community products."
					}
				]
			}
		},
		{
			"bug_id": 624765,
			"security": true,
			"title": "CVE-2010-2234 couchdb: CSRF vulnerability in versions prior to 0.11.2/1.0.1 [fedora-all]",
			"bugzilla": {
				"bug_id": "624765",
				"creation_ts": "2010-08-17 17:05:23 +0000",
				"short_desc": "CVE-2010-2234 couchdb: CSRF vulnerability in versions prior to 0.11.2/1.0.1 [fedora-all]",
				"delta_ts": "2010-10-05 17:27:18 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security, SecurityTracking",
				"priority": "medium",
				"bug_severity": "medium",
				"blocked": [
					{
						"bug_id": "624764",
						"alias": "CVE-2010-2234",
						"creation_ts": "2010-08-17 17:04:00 +0000",
						"short_desc": "CVE-2010-2234 couchdb: CSRF vulnerability in versions prior to 0.11.2/1.0.1",
						"delta_ts": "2019-09-29 12:38:21 +0000",
						"bug_status": "CLOSED",
						"resolution": "UPSTREAM",
						"keywords": "Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"624765"
						],
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "3086140",
								"comment_count": "0",
								"who": {
									"text": "vdanen",
									"name": "Vincent Danen"
								},
								"bug_when": "2010-08-17 17:04:00 +0000",
								"thetext": "Apache CouchDB prior to 0.11.2 and 1.0.1 are vulnerable to cross site request forgery (CSRF) attacks.  A malicious web site can POST arbitrary JavaScript code to wellknown CouchDB installation URLs and make the browser execute the injected JavaScript in the security context of CouchDB's admin interface Futon.\n\nThis issue has been assigned the name CVE-2010-2234.\n\nReferences:\n\nhttp://seclists.org/fulldisclosure/2010/Aug/199"
							},
							{
								"isprivate": "0",
								"commentid": "3086145",
								"comment_count": "1",
								"who": {
									"text": "vdanen",
									"name": "Vincent Danen"
								},
								"bug_when": "2010-08-17 17:05:27 +0000",
								"thetext": "Created couchdb tracking bugs for this issue\n\nAffects: fedora-all [bug 624765]"
							},
							{
								"isprivate": "0",
								"commentid": "12826087",
								"comment_count": "2",
								"who": {
									"text": "prodsec-dev",
									"name": "Product Security DevOps Team"
								},
								"bug_when": "2019-06-10 10:57:09 +0000",
								"thetext": "This CVE Bugzilla entry is for community support informational purposes only as it does not affect a package in a commercially supported Red Hat product. Refer to the dependent bugs for status of those individual community products."
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "3086143",
						"comment_count": "0",
						"who": {
							"text": "vdanen",
							"name": "Vincent Danen"
						},
						"bug_when": "2010-08-17 17:05:23 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected Fedora\nversions.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen creating a Bodhi update request, please include the bug IDs of the\nrespective parent bugs filed against the \"Security Response\" product.\nPlease mention CVE ids in the RPM changelog when available.\n\nBodhi update submission link:\nhttps://admin.fedoraproject.org/updates/new/?type_=security&bugs=624764\n\nPlease note: this issue affects multiple supported versions of Fedora.\nOnly one tracking bug has been filed; please only close it when all\naffected versions are fixed.\n\n\n[bug automatically created by: add-tracking-bugs]"
					},
					{
						"isprivate": "0",
						"commentid": "3096299",
						"comment_count": "1",
						"who": {
							"text": "lemenkov",
							"name": "Peter Lemenkov"
						},
						"bug_when": "2010-08-21 09:33:10 +0000",
						"thetext": "I'm working on it. First test build for EL-5 (also affected) was made and I'm currently looking for possible regressions and incompatibilities.\n\nhttp://koji.fedoraproject.org/koji/taskinfo?taskID=2416032"
					},
					{
						"isprivate": "0",
						"commentid": "3107179",
						"comment_count": "2",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2010-08-26 11:16:46 +0000",
						"thetext": "couchdb-0.11.2-2.fc12 has been submitted as an update for Fedora 12.\nhttp://admin.fedoraproject.org/updates/couchdb-0.11.2-2.fc12"
					},
					{
						"isprivate": "0",
						"commentid": "3107180",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2010-08-26 11:16:55 +0000",
						"thetext": "couchdb-0.11.2-2.el5 has been submitted as an update for Fedora EPEL 5.\nhttp://admin.fedoraproject.org/updates/couchdb-0.11.2-2.el5"
					},
					{
						"isprivate": "0",
						"commentid": "3107181",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2010-08-26 11:17:06 +0000",
						"thetext": "couchdb-0.11.2-2.fc13 has been submitted as an update for Fedora 13.\nhttp://admin.fedoraproject.org/updates/couchdb-0.11.2-2.fc13"
					},
					{
						"isprivate": "0",
						"commentid": "3108927",
						"comment_count": "5",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2010-08-26 23:23:30 +0000",
						"thetext": "couchdb-0.11.2-2.el5 has been pushed to the Fedora EPEL 5 testing repository.  If problems still persist, please make note of it in this bug report.\n If you want to test the update, you can install it with \n su -c 'yum --enablerepo=updates-testing update couchdb'.  You can provide feedback for this update here: https://admin.fedoraproject.org/updates/couchdb-0.11.2-2.el5"
					},
					{
						"isprivate": "0",
						"commentid": "3164071",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2010-09-21 01:32:48 +0000",
						"thetext": "couchdb-0.11.2-2.fc12 has been pushed to the Fedora 12 stable repository.  If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "3164118",
						"comment_count": "7",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2010-09-21 01:42:09 +0000",
						"thetext": "couchdb-0.11.2-2.fc13 has been pushed to the Fedora 13 stable repository.  If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "3195498",
						"comment_count": "8",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2010-10-05 17:27:11 +0000",
						"thetext": "couchdb-0.11.2-2.el5 has been pushed to the Fedora EPEL 5 stable repository.  If problems still persist, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 627498,
			"parent": true,
			"security": true,
			"title": "CVE-2010-2953 couchdb: start-up script sets insecure LD_LIBRARY_PATH",
			"bugzilla": {
				"bug_id": "627498",
				"alias": "CVE-2010-2953",
				"creation_ts": "2010-08-26 08:13:00 +0000",
				"short_desc": "CVE-2010-2953 couchdb: start-up script sets insecure LD_LIBRARY_PATH",
				"delta_ts": "2010-12-22 15:51:12 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security",
				"priority": "low",
				"bug_severity": "low",
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "3106858",
						"comment_count": "0",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2010-08-26 08:13:00 +0000",
						"thetext": "Dan Rosenberg reports:\n\n  http://thread.gmane.org/gmane.comp.security.oss.general/3358\n\n  I discovered that the /usr/bin/couchdb script on Debian/Ubuntu sets an\n  insecure LD_LIBRARY_PATH environment variable, such that libraries\n  from the current directory are loaded.  If a local attacker placed a\n  maliciously crafted shared library in a directory and an administrator\n  were tricked into launching CouchDB from this directory, arbitrary\n  code execution could be achieved.  This vulnerability is only\n  triggered when the /usr/bin/couchdb script is executed explicitly,\n  since the init script (/etc/init.d/couchdb) changes the current\n  directory before launching CouchDB.\n\n  The vulnerability was introduced by Debian patch\n  \"mozjs1.9_ldlibpath.patch\" on 3/24/2009.\n\nWhile Fedora / EPEL packages don't seem to include mentioned Debian patch, they include different LD_LIBRARY_PATH-setting change that seems to be inspired by Debian icu-config.patch patch:\n\nhttp://pkgs.fedoraproject.org/gitweb/?p=couchdb.git;a=blob;f=couchdb.spec;h=aaef7be9;hb=f13/master#l81\n\nIf LD_LIBRARY_PATH is unset before running /usr/bin/couchdb, it gets set to /usr/lib{,64}: , which causes linker to search for libs relative to the current working directory, possibly allowing arbitrary code execution if run from some attacker-controlled/writeable directory (such as /tmp).   I don't know what typical couchdb use case is, it may be rather unlikely to have couchdb run from arbitrary directories.\n\nI wonder why we need to change LD_LIBRARY_PATH at all.  Only /usr/lib or /usr/lib64 is added there, so setting it should be redundant as those directories are in linker search path by default.  If setting it is really required, something like this should work instead:\n  LD_LIBRARY_PATH=%{_libdir}${LD_LIBRARY_PATH:+:$LD_LIBRARY_PATH}"
					},
					{
						"isprivate": "0",
						"commentid": "3106900",
						"comment_count": "1",
						"who": {
							"text": "lemenkov",
							"name": "Peter Lemenkov"
						},
						"bug_when": "2010-08-26 08:37:20 +0000",
						"thetext": "Thanks! I will provide fix very soon.\n\n(In reply to comment #0)\n\n> attacker-controlled/writeable directory (such as /tmp).   I don't know what\n> typical couchdb use case is, it may be rather unlikely to have couchdb run from\n> arbitrary directories.\n\nUnfortunately running CouchDB from arbitrary directory is one of possible (and rather popular) user-cases. So yes, this needs to be fixed urgently.\n\n> I wonder why we need to change LD_LIBRARY_PATH at all.  Only /usr/lib or\n> /usr/lib64 is added there, so setting it should be redundant as those\n> directories are in linker search path by default.  If setting it is really\n> required, something like this should work instead:\n>   LD_LIBRARY_PATH=%{_libdir}${LD_LIBRARY_PATH:+:$LD_LIBRARY_PATH}\n\nIt seems that this line isn't necessary at all, so I will simply remove it."
					},
					{
						"isprivate": "0",
						"commentid": "3440420",
						"comment_count": "2",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2010-12-22 15:51:12 +0000",
						"thetext": "Fixed in F13 and EPEL-5."
					}
				]
			}
		}
	],
	"builds": [
		{
			"nvr": "couchdb-0.11.2-2.el5",
			"signed": true,
			"type": "rpm",
			"package": {
				"i386": [
					{
						"name": "couchdb",
						"version": "0.11.2",
						"release": "2.el5",
						"arch": "i386"
					},
					{
						"name": "couchdb-debuginfo",
						"version": "0.11.2",
						"release": "2.el5",
						"arch": "i386"
					}
				],
				"ppc": [
					{
						"name": "couchdb",
						"version": "0.11.2",
						"release": "2.el5",
						"arch": "ppc"
					},
					{
						"name": "couchdb-debuginfo",
						"version": "0.11.2",
						"release": "2.el5",
						"arch": "ppc"
					}
				],
				"src": [
					{
						"name": "couchdb",
						"version": "0.11.2",
						"release": "2.el5",
						"arch": "src"
					}
				],
				"x86_64": [
					{
						"name": "couchdb",
						"version": "0.11.2",
						"release": "2.el5",
						"arch": "x86_64"
					},
					{
						"name": "couchdb-debuginfo",
						"version": "0.11.2",
						"release": "2.el5",
						"arch": "x86_64"
					}
				]
			}
		}
	],
	"close_bugs": true,
	"comments": [
		{
			"id": 52233,
			"text": "This update has been pushed to testing",
			"timestamp": "2010-08-26 23:23:33",
			"update_id": 7466,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 52234,
			"text": "This update has reached 14 days in testing and can be pushed to stable now if the maintainer wishes",
			"timestamp": "2010-09-10 01:47:10",
			"update_id": 7466,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 52235,
			"text": "No regressions were reported by Fedora users (who upgraded from 0.10.2 to\n0.11.2) in a month, so I believe that we may push it to the stable",
			"timestamp": "2010-10-05 08:21:53",
			"update_id": 7466,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/d53efeffc09824d0346fafc3f8b597e513e6a552419176ef6b49d1275a1141e2?s=24&d=retro",
				"email": "lemenkov@gmail.com",
				"groups": [
					{
						"name": "provenpackager"
					},
					{
						"name": "packager"
					},
					{
						"name": "giterlang"
					},
					{
						"name": "erlang"
					},
					{
						"name": "sig-messaging"
					},
					{
						"name": "centosproject-email-aliases"
					},
					{
						"name": "signed_fpca"
					},
					{
						"name": "giterlang-mochiweb"
					},
					{
						"name": "ipausers"
					},
					{
						"name": "gitleveldb"
					},
					{
						"name": "fedorabugs"
					},
					{
						"name": "erlang-maint-sig"
					},
					{
						"name": "fedora-contributor"
					},
					{
						"name": "trust admins"
					}
				],
				"id": 144,
				"name": "peter",
				"openid": "peter.id.fedoraproject.org"
			},
			"user_id": 144
		},
		{
			"id": 52236,
			"text": "This update has been submitted for stable by peter. ",
			"timestamp": "2010-10-05 08:22:04",
			"update_id": 7466,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 52237,
			"text": "This update has been pushed to stable",
			"timestamp": "2010-10-05 17:27:22",
			"update_id": 7466,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		}
	],
	"content_type": "rpm",
	"date_pushed": "2010-10-05 17:27:22",
	"date_stable": "2010-10-05 17:27:22",
	"date_submitted": "2010-08-26 11:16:49",
	"date_testing": "2010-08-26 23:23:33",
	"meets_testing_requirements": true,
	"notes": "Despite the fact that this is a security-related fix I would like to test these packages for a while because of possible API incompatibilities (version upgrade).",
	"pushed": true,
	"release": {
		"branch": "el5",
		"candidate_tag": "dist-5E-epel-testing-candidate",
		"composed_by_bodhi": true,
		"dist_tag": "dist-5E-epel",
		"id_prefix": "FEDORA-EPEL",
		"long_name": "Fedora EPEL 5",
		"mail_template": "fedora_epel_legacy_errata_template",
		"name": "EL-5",
		"override_tag": "dist-5E-epel-override",
		"package_manager": "unspecified",
		"stable_tag": "dist-5E-epel",
		"state": "archived",
		"testing_tag": "dist-5E-epel-testing",
		"version": "5"
	},
	"severity": "unspecified",
	"stable_karma": 3,
	"status": "stable",
	"suggest": "unspecified",
	"title": "couchdb-0.11.2-2.el5",
	"type": "security",
	"url": "https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2010-3276",
	"unstable_karma": -3,
	"updateid": "FEDORA-EPEL-2010-3276",
	"user": {
		"avatar": "https://seccdn.libravatar.org/avatar/d53efeffc09824d0346fafc3f8b597e513e6a552419176ef6b49d1275a1141e2?s=24&d=retro",
		"email": "lemenkov@gmail.com",
		"groups": [
			{
				"name": "provenpackager"
			},
			{
				"name": "packager"
			},
			{
				"name": "giterlang"
			},
			{
				"name": "erlang"
			},
			{
				"name": "sig-messaging"
			},
			{
				"name": "centosproject-email-aliases"
			},
			{
				"name": "signed_fpca"
			},
			{
				"name": "giterlang-mochiweb"
			},
			{
				"name": "ipausers"
			},
			{
				"name": "gitleveldb"
			},
			{
				"name": "fedorabugs"
			},
			{
				"name": "erlang-maint-sig"
			},
			{
				"name": "fedora-contributor"
			},
			{
				"name": "trust admins"
			}
		],
		"id": 144,
		"name": "peter",
		"openid": "peter.id.fedoraproject.org"
	},
	"version_hash": "62d9f175db38e92a2d8829312784a4db332c67bd"
}
