{
	"alias": "FEDORA-EPEL-2011-0474",
	"bugs": [
		{
			"bug_id": 245278,
			"title": "Changing to a password with a single quote does not work",
			"bugzilla": {
				"bug_id": "245278",
				"creation_ts": "2007-06-22 03:41:20 +0000",
				"short_desc": "Changing to a password with a single quote does not work",
				"delta_ts": "2015-01-04 23:27:19 +0000",
				"bug_status": "CLOSED",
				"resolution": "CURRENTRELEASE",
				"priority": "medium",
				"bug_severity": "medium",
				"blocked": [
					{
						"bug_id": "434915",
						"error": "NotPermitted"
					},
					{
						"bug_id": "495079",
						"alias": "389_1.3.0",
						"creation_ts": "2009-04-09 16:48:31 +0000",
						"short_desc": "TRACKER: 389 Directory Server 1.3.0 tracking bug",
						"delta_ts": "2021-03-30 03:39:47 +0000",
						"bug_status": "CLOSED",
						"resolution": "NOTABUG",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"151705",
							"154145",
							"154176",
							"154601",
							"154950",
							"155071",
							"155397",
							"155766",
							"158262",
							"158369",
							"158593",
							"158661",
							"158669",
							"158926",
							"160687",
							"164595",
							"167370",
							"170791",
							"171080",
							"174554",
							"178898",
							"184130",
							"185713",
							"186955",
							"190862",
							"191289",
							"191772",
							"204346",
							"206053",
							"210381",
							"213301",
							"215481",
							"216525",
							"220222",
							"220691",
							"221229",
							"221905",
							"224385",
							"227455",
							"235959",
							"241090",
							"244423",
							"245278",
							"245968",
							"246544",
							"247411",
							"247413",
							"249327",
							"293821",
							"314071",
							"314481",
							"362341",
							"410951",
							"437104",
							"437632",
							"448786",
							"450738",
							"451678",
							"452008",
							"452009",
							"452014",
							"452325",
							"452543",
							"452548",
							"452554",
							"453756",
							"457842",
							"458187",
							"459181",
							"466144",
							"474113",
							"476925",
							"478859",
							"478865",
							"479753",
							"480940",
							"488179",
							"488951",
							"491733",
							"493424",
							"497439",
							"500233",
							"501613",
							"504803",
							"509030",
							"511112",
							"511226",
							"517913",
							"519464",
							"521111",
							"527848",
							"528567",
							"533505",
							"555189",
							"576303",
							"595173",
							"600051",
							"602525",
							"612387",
							"613136",
							"616707",
							"643979",
							"661116",
							"667943",
							"674723",
							"682897",
							"690815",
							"692211",
							"697701",
							"739677",
							"740081",
							"741599",
							"741744",
							"741999",
							"742317",
							"743403",
							"744945",
							"747403",
							"758983",
							"766322",
							"768084",
							"781539",
							"781543",
							"1270020",
							"1333946",
							"1944494"
						],
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "2124434",
								"comment_count": "0",
								"who": {
									"text": "rmeggins",
									"name": "Rich Megginson"
								},
								"bug_when": "2009-04-09 16:48:31 +0000",
								"thetext": "This is the tracking bug for the Fedora DS 1.3.0 release"
							},
							{
								"isprivate": "0",
								"commentid": "4285785",
								"comment_count": "1",
								"who": {
									"text": "mkosek",
									"name": "Martin Kosek"
								},
								"bug_when": "2012-01-04 13:42:32 +0000",
								"thetext": "Upstream ticket:\nhttps://fedorahosted.org/389/ticket/104"
							},
							{
								"isprivate": "0",
								"commentid": "6634098",
								"comment_count": "2",
								"who": {
									"text": "nkinder",
									"name": "Nathan Kinder"
								},
								"bug_when": "2013-12-18 19:45:20 +0000",
								"thetext": "Closing, as 1.3.0 was released long ago."
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "210957",
						"comment_count": "0",
						"who": {
							"text": "djk",
							"name": "David Keegel"
						},
						"bug_when": "2007-06-22 03:41:20 +0000",
						"thetext": "Description of problem:\nUsing the Console to change the admin password to a new password with \na single quote (') in it does not work as expected - the password is actually\nset to a different value.\n\nVersion-Release number of selected component (if applicable):\nFedora-DS 1.0.4\n\nHow reproducible:\nVery\n\nSteps to Reproduce:\n1. Login to Directory Management Console\n2. Change admin password to pass'word\n3. Try to login again to Directory Manangement Console\n  \nActual results:\nShould be able to login to console with user=\"admin\", password=\"pass'word\"\n\nExpected results:\nConsole gives error saying user/password is incorrect.\n\nAdditional info:\nuffe reports that the password is url-encoded from pass'word to pass%27word."
					},
					{
						"isprivate": "0",
						"commentid": "2047028",
						"comment_count": "4",
						"who": {
							"text": "djk",
							"name": "David Keegel"
						},
						"bug_when": "2009-02-13 01:29:31 +0000",
						"thetext": "Hmm, I think I swapped actual & expected results above.\n\nThe upshot is that if you change to a password with a single quote (apostrophe) in it, then you will *not* be able to login to the Console with that new password.\nThis can leave sysadmins with no way to login to FDS, which is really bad.\n\nCould the change password screen at least display a warning or error if the new password has funny characters in it?  That would give you a clue that you should change the password before you get locked out of the Console (next time you try to login)."
					},
					{
						"isprivate": "0",
						"commentid": "2047588",
						"comment_count": "5",
						"who": {
							"text": "rmeggins",
							"name": "Rich Megginson"
						},
						"bug_when": "2009-02-13 15:26:28 +0000",
						"thetext": "Have you tried to reproduce this problem with the latest Fedora DS 1.1.3 and other latest components (especially fedora-ds-admin 1.1.6 and adminutil 1.1.7)?  There were some fixes made in the url encoding/decoding area that may have helped with this problem."
					},
					{
						"isprivate": "0",
						"commentid": "3533414",
						"comment_count": "7",
						"who": {
							"text": "nhosoi",
							"name": "Noriko Hosoi"
						},
						"bug_when": "2011-02-11 19:40:07 +0000",
						"thetext": "(In reply to comment #5)\n> Have you tried to reproduce this problem with the latest Fedora DS 1.1.3 and\n> other latest components (especially fedora-ds-admin 1.1.6 and adminutil 1.1.7)?\n>  There were some fixes made in the url encoding/decoding area that may have\n> helped with this problem.\n\nThis bug still in this combination:\n389-console-1.1.4-1.fc13.noarch\n389-ds-console-doc-1.2.3-1.fc13.noarch\n389-admin-console-1.1.5-1.fc13.noarch\n389-admin-1.1.14-1.fc13.x86_64\n389-ds-base-1.2.8-0.1.a1.fc13.x86_64\n\nIf you update password from Admin Console | COnfiguration | Access,\npass'word is converted to pass%27word.\n\nIf it is on the Directory Console | Edit Entry, \npass'word is passed with no change."
					},
					{
						"isprivate": "0",
						"commentid": "3533451",
						"comment_count": "8",
						"who": {
							"text": "nhosoi",
							"name": "Noriko Hosoi"
						},
						"bug_when": "2011-02-11 20:08:36 +0000",
						"thetext": "Created attachment 478303\n389-admin-console: git patch file (master)\n\nDescription: The save method in CGIAccessSetup \"encodes\" the admin\npassword with URLByteEncoder.encodeUTF8, which escapes a string in\nthe HTML safe manner, which should not be done for the password."
					},
					{
						"isprivate": "0",
						"commentid": "3533465",
						"comment_count": "9",
						"who": {
							"text": "nhosoi",
							"name": "Noriko Hosoi"
						},
						"bug_when": "2011-02-11 20:15:23 +0000",
						"thetext": "Created attachment 478306\n389-admin-console: git patch file (master)"
					},
					{
						"isprivate": "0",
						"commentid": "3533476",
						"comment_count": "10",
						"who": {
							"text": "nhosoi",
							"name": "Noriko Hosoi"
						},
						"bug_when": "2011-02-11 20:19:41 +0000",
						"thetext": "Note: The console password field does not accept non-ascii characters at all.  Input method does not get enabled for the field.  If you force to input non-ascii characters with copy&paste, the characters are simply dropped.\nE.g., LibertÃ© --> Libert"
					},
					{
						"isprivate": "0",
						"commentid": "3533685",
						"comment_count": "11",
						"who": {
							"text": "rmeggins",
							"name": "Rich Megginson"
						},
						"bug_when": "2011-02-11 22:37:17 +0000",
						"thetext": "Comment on attachment 478306\n389-admin-console: git patch file (master)\n\nI think the console is doing the right thing - it should be url encoding/escaping possibly dangerous characters - I think mod_admserv should be unescaping the password"
					},
					{
						"isprivate": "0",
						"commentid": "3533699",
						"comment_count": "12",
						"who": {
							"text": "nhosoi",
							"name": "Noriko Hosoi"
						},
						"bug_when": "2011-02-11 22:52:16 +0000",
						"thetext": "Hmmm, then the password input on the DS Console's Edit Entry should be escaped, as well?"
					},
					{
						"isprivate": "0",
						"commentid": "3533716",
						"comment_count": "13",
						"who": {
							"text": "nhosoi",
							"name": "Noriko Hosoi"
						},
						"bug_when": "2011-02-11 23:07:41 +0000",
						"thetext": "Never mind...  DS sends the password in LDAP not via HTTP.  So, it won't break the protocol."
					},
					{
						"isprivate": "0",
						"commentid": "3533765",
						"comment_count": "14",
						"who": {
							"text": "nhosoi",
							"name": "Noriko Hosoi"
						},
						"bug_when": "2011-02-11 23:39:52 +0000",
						"thetext": "Created attachment 478329\nAS: git patch file (master)\n\nThanks to Rich for his comments.  I cancelled the 389-admin-console patch.\n\nDescription: When the Admin User password is changed on the Admin\nConsole, the console escapes the password then sends it to the\nAdmin Server.  This patch adds the apache API ap_unescape_url to\nmod_admserv to unescape the password before handling it."
					},
					{
						"isprivate": "0",
						"commentid": "3533838",
						"comment_count": "15",
						"who": {
							"text": "rmeggins",
							"name": "Rich Megginson"
						},
						"bug_when": "2011-02-12 01:49:25 +0000",
						"thetext": "Comment on attachment 478329\nAS: git patch file (master)\n\nap_unescape_url() will do the unescape in place - is that safe to do?  This is the r->args pointer from the request_rec* passed in to the function.  It may be safe to rewrite that memory - I just don't know."
					},
					{
						"isprivate": "0",
						"commentid": "3534450",
						"comment_count": "16",
						"who": {
							"text": "nhosoi",
							"name": "Noriko Hosoi"
						},
						"bug_when": "2011-02-13 02:49:58 +0000",
						"thetext": "Created attachment 478422\nAS: git patch file (master)\n\nThanks to Rich for his comments.  Instead of doing the in-place escape, changed to duplicate the given password and work on the copy.\n\nDescription: When the Admin User password is changed on the Admin\nConsole, the console escapes the password then sends it to the\nAdmin Server.  This patch adds the apache API ap_unescape_url to\nmod_admserv to unescape the password before handling it.  Since\nap_unescape_url does the unescape in place, it duplicates the\ngiven password and escapes on the duplicated memory."
					},
					{
						"isprivate": "0",
						"commentid": "3536601",
						"comment_count": "17",
						"who": {
							"text": "nhosoi",
							"name": "Noriko Hosoi"
						},
						"bug_when": "2011-02-14 17:25:32 +0000",
						"thetext": "Thanks to Rich and Nathan for their comments and reviews.\n\nPushed to master.\n\n$ git merge 245278\nUpdating 2f738ad..0f07440\nFast-forward\n mod_admserv/mod_admserv.c |   18 +++++++++++++++---\n 1 files changed, 15 insertions(+), 3 deletions(-)\n$ git push\nCounting objects: 7, done.\nDelta compression using up to 2 threads.\nCompressing objects: 100% (4/4), done.\nWriting objects: 100% (4/4), 847 bytes, done.\nTotal 4 (delta 3), reused 0 (delta 0)\nTo ssh://git.fedorahosted.org/git/389/admin.git\n   2f738ad..0f07440  master -> master"
					},
					{
						"isprivate": "0",
						"commentid": "3832909",
						"comment_count": "18",
						"who": {
							"text": "amsharma",
							"name": "Amita Sharma"
						},
						"bug_when": "2011-06-23 11:06:32 +0000",
						"thetext": "Tested As :\n1. Login to Directory Management Console\n2. Change admin password to pass'word\n3. Try to login again to Directory Manangement Console\n\n\nConsole gives error saying user/password is incorrect.\n\n\nAnd the also the password in the Access Logs is : pass%27word\n10.65.193.133 - cn=Directory Manager [23/Jun/2011:16:18:00 +0530] \"GET /admin-serv/tasks/operation/StatusPing HTTP/1.0\" 200 19\n10.65.193.133 - cn=Directory Manager [23/Jun/2011:16:18:01 +0530] \"POST /admin-serv/tasks/Configuration/ServerSetup HTTP/1.0\" 200 251\n10.65.193.133 - cn=Directory Manager [23/Jun/2011:16:18:03 +0530] \"POST /admin-serv/tasks/Configuration/AccessSetup HTTP/1.0\" 200 17\n10.65.193.133 - cn=Directory Manager [23/Jun/2011:16:18:14 +0530] \"GET /admin-serv/tasks/operation/StatusPing HTTP/1.0\" 200 19\n10.65.193.133 - cn=Directory Manager [23/Jun/2011:16:18:17 +0530] \"POST /admin-serv/tasks/Configuration/AccessSetup HTTP/1.0\" 200 14\n10.65.193.133 - cn=Directory Manager [23/Jun/2011:16:18:17 +0530] \"GET /admin-serv/commands/change-sie-password?pass%27word HTTP/1.0\" 200 -\n10.65.193.133 - cn=Directory Manager [23/Jun/2011:16:18:29 +0530] \"GET /admin-serv/tasks/operation/StatusPing HTTP/1.0\" 200 19\n10.65.193.133 - cn=Directory Manager [23/Jun/2011:16:18:44 +0530] \"GET /admin-serv/tasks/operation/StatusPing HTTP/1.0\" 200 19\n10.65.193.133 - cn=Directory Manager [23/Jun/2011:16:19:00 +0530] \"GET /admin-serv/tasks/operation/StatusPing HTTP/1.0\" 200 19\n10.65.193.133 - cn=Directory Manager [23/Jun/2011:16:19:15 +0530] \"GET /admin-serv/tasks/operation/StatusPing HTTP/1.0\" 200 19\n\nMore over in case I set the password like test123, even that password is not accepted meaning It is like It is not changing the password .. same as I opened a new bug - https://bugzilla.redhat.com/show_bug.cgi?id=715507 ??"
					},
					{
						"isprivate": "0",
						"commentid": "3832924",
						"comment_count": "19",
						"who": {
							"text": "amsharma",
							"name": "Amita Sharma"
						},
						"bug_when": "2011-06-23 11:13:52 +0000",
						"thetext": "[root@amsharma admin-serv]# rpm -qa | grep 389\n389-admin-console-doc-1.1.7-1.el6.noarch\n389-admin-console-1.1.7-1.el6.noarch\n389-ds-console-1.2.5-1.el6.noarch\n389-ds-1.2.1-2.el6.noarch\n389-adminutil-1.1.13-1.el6.x86_64\n389-ds-base-devel-1.2.8.4-2.el6.x86_64\n389-ds-base-libs-1.2.8.4-2.el6.x86_64\n389-console-1.1.4-1.el6.noarch\n389-admin-1.1.16-2.el6.x86_64\n389-ds-console-doc-1.2.5-1.el6.noarch\n389-ds-base-1.2.8.4-2.el6.x86_64"
					},
					{
						"isprivate": "0",
						"commentid": "3876833",
						"comment_count": "20",
						"who": {
							"text": "nhosoi",
							"name": "Noriko Hosoi"
						},
						"bug_when": "2011-07-11 17:23:50 +0000",
						"thetext": "I have no problem to change the admin password to pass'word.  Single quote is internally escaped and converted to %27, which is fine.\n\n[11/Jul/2011:10:07:14 -0700] \"GET /admin-serv/commands/change-sie-password?pass%27word HTTP/1.0\" 200 -\n\nMy system is on F15 and ahead of yours, but I don't think there are any differences in the area...\n\nWhat I did is identical to your test case.\n1. Login Console; open Admin Console\n2. On Configuration | Access tab, changed password (PASS'WORD); click Save\n3. Exit Console\n4. Restart Console; type PASS'WORD in the login panel.\n\n[11/Jul/2011:10:19:28 -0700] \"GET /admin-serv/commands/change-sie-password?PASS%27WORD HTTP/1.0\" 200 -"
					},
					{
						"isprivate": "0",
						"commentid": "3878010",
						"comment_count": "21",
						"who": {
							"text": "amsharma",
							"name": "Amita Sharma"
						},
						"bug_when": "2011-07-12 07:01:30 +0000",
						"thetext": "ok, done..\nMarking as VERIFIED."
					},
					{
						"isprivate": "0",
						"commentid": "7196644",
						"comment_count": "22",
						"who": {
							"text": "rmeggins",
							"name": "Rich Megginson"
						},
						"bug_when": "2014-06-16 13:39:28 +0000",
						"thetext": "should be marked CLOSED"
					}
				]
			}
		},
		{
			"bug_id": 493424,
			"title": "remove unneeded modules for admin server apache config",
			"bugzilla": {
				"bug_id": "493424",
				"creation_ts": "2009-04-01 17:30:00 +0000",
				"short_desc": "remove unneeded modules for admin server apache config",
				"delta_ts": "2015-12-07 16:39:44 +0000",
				"bug_status": "CLOSED",
				"resolution": "CURRENTRELEASE",
				"priority": "medium",
				"bug_severity": "medium",
				"blocked": [
					{
						"bug_id": "434915",
						"error": "NotPermitted"
					},
					{
						"bug_id": "495079",
						"alias": "389_1.3.0",
						"creation_ts": "2009-04-09 16:48:31 +0000",
						"short_desc": "TRACKER: 389 Directory Server 1.3.0 tracking bug",
						"delta_ts": "2021-03-30 03:39:47 +0000",
						"bug_status": "CLOSED",
						"resolution": "NOTABUG",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"151705",
							"154145",
							"154176",
							"154601",
							"154950",
							"155071",
							"155397",
							"155766",
							"158262",
							"158369",
							"158593",
							"158661",
							"158669",
							"158926",
							"160687",
							"164595",
							"167370",
							"170791",
							"171080",
							"174554",
							"178898",
							"184130",
							"185713",
							"186955",
							"190862",
							"191289",
							"191772",
							"204346",
							"206053",
							"210381",
							"213301",
							"215481",
							"216525",
							"220222",
							"220691",
							"221229",
							"221905",
							"224385",
							"227455",
							"235959",
							"241090",
							"244423",
							"245278",
							"245968",
							"246544",
							"247411",
							"247413",
							"249327",
							"293821",
							"314071",
							"314481",
							"362341",
							"410951",
							"437104",
							"437632",
							"448786",
							"450738",
							"451678",
							"452008",
							"452009",
							"452014",
							"452325",
							"452543",
							"452548",
							"452554",
							"453756",
							"457842",
							"458187",
							"459181",
							"466144",
							"474113",
							"476925",
							"478859",
							"478865",
							"479753",
							"480940",
							"488179",
							"488951",
							"491733",
							"493424",
							"497439",
							"500233",
							"501613",
							"504803",
							"509030",
							"511112",
							"511226",
							"517913",
							"519464",
							"521111",
							"527848",
							"528567",
							"533505",
							"555189",
							"576303",
							"595173",
							"600051",
							"602525",
							"612387",
							"613136",
							"616707",
							"643979",
							"661116",
							"667943",
							"674723",
							"682897",
							"690815",
							"692211",
							"697701",
							"739677",
							"740081",
							"741599",
							"741744",
							"741999",
							"742317",
							"743403",
							"744945",
							"747403",
							"758983",
							"766322",
							"768084",
							"781539",
							"781543",
							"1270020",
							"1333946",
							"1944494"
						],
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "2124434",
								"comment_count": "0",
								"who": {
									"text": "rmeggins",
									"name": "Rich Megginson"
								},
								"bug_when": "2009-04-09 16:48:31 +0000",
								"thetext": "This is the tracking bug for the Fedora DS 1.3.0 release"
							},
							{
								"isprivate": "0",
								"commentid": "4285785",
								"comment_count": "1",
								"who": {
									"text": "mkosek",
									"name": "Martin Kosek"
								},
								"bug_when": "2012-01-04 13:42:32 +0000",
								"thetext": "Upstream ticket:\nhttps://fedorahosted.org/389/ticket/104"
							},
							{
								"isprivate": "0",
								"commentid": "6634098",
								"comment_count": "2",
								"who": {
									"text": "nkinder",
									"name": "Nathan Kinder"
								},
								"bug_when": "2013-12-18 19:45:20 +0000",
								"thetext": "Closing, as 1.3.0 was released long ago."
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "2112087",
						"comment_count": "0",
						"who": {
							"text": "jhrozek",
							"name": "Jakub Hrozek"
						},
						"bug_when": "2009-04-01 17:30:00 +0000",
						"thetext": "Created attachment 337592\ninstallation log\n\nDescription of problem:\nOn F11-beta machine, the dirsrv-admin script looks for wrong files:\n# setup-ds-admin.pl --debug\n<snip>\n[09/04/01:19:25:31] - [Setup] Info Updating the configuration for the httpd engine . . .\n[09/04/01:19:25:31] - [Setup] Info Starting admin server . . .\n[09/04/01:19:25:31] - [Setup] Info output: httpd.worker: Syntax error on line 142 of /etc/dirsrv/admin-serv/httpd.conf: Cannot load /usr/lib64/httpd/modules/\nmod_file_cache.so into server: /usr/lib64/httpd/modules/mod_file_cache.so: cannot open shared object file: No such file or directory\n[09/04/01:19:25:31] - [Setup] Fatal Failed to create and configure the admin server\n[09/04/01:19:25:31] - [Setup] Fatal Exiting . . .\n\nI couldn't find the mod_file_cache.so file in any Fedora package:\n# yum provides \\*mod_file_cache.so\nLoaded plugins: refresh-packagekit\nNo Matches found\n#\n\nVersion-Release number of selected component (if applicable):\nfedora-ds-admin-1.1.6-3.fc11.x86_64\n\nHow reproducible:\nalways\n\nSteps to Reproduce:\n1. install fedora-ds* packages on rawhide \n2. setup-ds-admin.pl (pretty much defaults)\n3. \n  \nActual results:\nerror\n\nExpected results:\nno error\n\nAdditional info:\nFull log file is attached"
					},
					{
						"isprivate": "0",
						"commentid": "2114170",
						"comment_count": "1",
						"who": {
							"text": "nkinder",
							"name": "Nathan Kinder"
						},
						"bug_when": "2009-04-02 18:06:58 +0000",
						"thetext": "It appears that both mod_file_cache.so and mod_mem_cache.so are no longer a part of the httpd package as they were in F10 and earlier.  I don't believe that we use these modules, so it may be safe to remove them from our httpd config file template."
					},
					{
						"isprivate": "0",
						"commentid": "2114176",
						"comment_count": "2",
						"who": {
							"text": "nkinder",
							"name": "Nathan Kinder"
						},
						"bug_when": "2009-04-02 18:12:19 +0000",
						"thetext": "There is actually a bug open on these libraries no longer being provided with httpd (bug #493458).\n\nThe changelog for the httpd rpm on F11 shows that we explicitly are not building mod_mem_cache or mod_file_cache as of httpd-2.2.11-8, but I'm not sure why this change was made."
					},
					{
						"isprivate": "0",
						"commentid": "2124136",
						"comment_count": "3",
						"who": {
							"text": "rmeggins",
							"name": "Rich Megginson"
						},
						"bug_when": "2009-04-09 14:47:42 +0000",
						"thetext": "Do you have the patches to remove those modules from httpd.conf?  If so, I can get them into f11."
					},
					{
						"isprivate": "0",
						"commentid": "2124327",
						"comment_count": "4",
						"who": {
							"text": "nkinder",
							"name": "Nathan Kinder"
						},
						"bug_when": "2009-04-09 16:10:02 +0000",
						"thetext": "Created attachment 338936\npatch"
					},
					{
						"isprivate": "0",
						"commentid": "2124424",
						"comment_count": "5",
						"who": {
							"text": "rmeggins",
							"name": "Rich Megginson"
						},
						"bug_when": "2009-04-09 16:40:39 +0000",
						"thetext": "Built.  Please try the build and let me know if it works for you.\n\nPackage: fedora-ds-admin-1.1.7-4.fc11\nTag: dist-f11\nStatus: complete\nBuilt by: rmeggins\nID: 97203\nStarted: Thu, 09 Apr 2009 16:32:22 UTC\nFinished: Thu, 09 Apr 2009 16:35:57 UTC\nChangelog:\n* Thu Apr 09 2009 Rich Megginson <rmeggins@redhat.com> - 1.1.7-4\n- Resolves: bug 493424\n- Description: dirsrv-admin initscript looks for nonexistent library\n- Added patch to remove those modules from the httpd.conf\n\n\nI'm going to leave this bug open - we should at least remove these modules from the default admin server module list in the next release, and probably revisit the way we generate the httpd.conf."
					},
					{
						"isprivate": "0",
						"commentid": "2131622",
						"comment_count": "6",
						"who": {
							"text": "jhrozek",
							"name": "Jakub Hrozek"
						},
						"bug_when": "2009-04-15 14:23:37 +0000",
						"thetext": "(In reply to comment #5)\n> Built.  Please try the build and let me know if it works for you.\n> \n\nSorry for the late reply. I can confirm that this version fixed the problem for me.\n\nThanks for the quick turnaround!"
					},
					{
						"isprivate": "0",
						"commentid": "2131634",
						"comment_count": "7",
						"who": {
							"text": "rmeggins",
							"name": "Rich Megginson"
						},
						"bug_when": "2009-04-15 14:29:58 +0000",
						"thetext": "The real problem here is that the admin server has many unneeded modules in its config.  We need to remove all unneeded modules."
					},
					{
						"isprivate": "0",
						"commentid": "2310289",
						"comment_count": "8",
						"who": {
							"text": "borisbar7"
						},
						"bug_when": "2009-08-07 11:26:26 +0000",
						"thetext": "I use this modules.\nIt's useful modules, please add to next build.\n\none more bug:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=505048\n\nThanks"
					},
					{
						"isprivate": "0",
						"commentid": "2399852",
						"comment_count": "9",
						"who": {
							"text": "dev",
							"name": "Charlweed Hymerfan"
						},
						"bug_when": "2009-10-09 16:40:59 +0000",
						"thetext": "This bug is still preventing installs of 389 server on F11.\nThe patch above can still be applied while work on eliminating unused modules continues."
					},
					{
						"isprivate": "0",
						"commentid": "3554183",
						"comment_count": "11",
						"who": {
							"text": "nkinder",
							"name": "Nathan Kinder"
						},
						"bug_when": "2011-02-22 23:40:51 +0000",
						"thetext": "Created attachment 480295\nPatch"
					},
					{
						"isprivate": "0",
						"commentid": "3554222",
						"comment_count": "12",
						"who": {
							"text": "nkinder",
							"name": "Nathan Kinder"
						},
						"bug_when": "2011-02-23 00:18:06 +0000",
						"thetext": "Pushed to master.  Thanks to Noriko for her review!\n\nCounting objects: 9, done.\nDelta compression using up to 2 threads.\nCompressing objects: 100% (5/5), done.\nWriting objects: 100% (5/5), 529 bytes, done.\nTotal 5 (delta 4), reused 0 (delta 0)\nTo ssh://git.fedorahosted.org/git/389/admin.git\n   f5a1e66..8f350bf  master -> master"
					},
					{
						"isprivate": "0",
						"commentid": "3819762",
						"comment_count": "15",
						"who": {
							"text": "amsharma",
							"name": "Amita Sharma"
						},
						"bug_when": "2011-06-17 14:41:37 +0000",
						"thetext": "yes, Admin Server & console works fine on RHEL6."
					}
				]
			}
		},
		{
			"bug_id": 604881,
			"title": "server log files have incorrect permissions/ownerships",
			"bugzilla": {
				"bug_id": "604881",
				"creation_ts": "2010-06-16 22:11:11 +0000",
				"short_desc": "server log files have incorrect permissions/ownerships",
				"delta_ts": "2016-05-06 14:44:20 +0000",
				"bug_status": "CLOSED",
				"resolution": "CURRENTRELEASE",
				"priority": "high",
				"bug_severity": "medium",
				"blocked": [
					{
						"bug_id": "434915",
						"error": "NotPermitted"
					},
					{
						"bug_id": "639035",
						"error": "NotPermitted"
					},
					{
						"bug_id": "656390",
						"alias": "389_1.2.8",
						"creation_ts": "2010-11-23 16:17:56 +0000",
						"short_desc": "(389_1.2.8) Tracking bug for 389 Directory Server 1.2.8",
						"delta_ts": "2015-01-04 23:44:59 +0000",
						"bug_status": "CLOSED",
						"resolution": "CURRENTRELEASE",
						"priority": "high",
						"bug_severity": "medium",
						"depends_on": [
							"182507",
							"197886",
							"201652",
							"252249",
							"430321",
							"450016",
							"481195",
							"505722",
							"509897",
							"514190",
							"515329",
							"518890",
							"527912",
							"543633",
							"555577",
							"567282",
							"576534",
							"588480",
							"588791",
							"604881",
							"622907",
							"624485",
							"624547",
							"638511",
							"641944",
							"642046",
							"644784",
							"646381",
							"653007",
							"654054",
							"654057",
							"656734",
							"659131",
							"659776",
							"661102",
							"663191",
							"667935",
							"668385",
							"668862",
							"668909",
							"669205",
							"670616",
							"671033",
							"672313",
							"674430",
							"674852",
							"675113",
							"675265",
							"675320",
							"675853",
							"676053",
							"676407",
							"676655",
							"676666",
							"676689",
							"676729",
							"676733",
							"677440",
							"677464",
							"677465",
							"677467",
							"677483",
							"677705",
							"677774",
							"678369",
							"678646",
							"679542",
							"679978",
							"680284",
							"680305",
							"680555",
							"680558",
							"681015",
							"681332",
							"681351",
							"681379",
							"681550",
							"681611",
							"681720",
							"681726",
							"683250",
							"684349",
							"684996",
							"689866",
							"689889",
							"689952",
							"690526",
							"690955",
							"691486",
							"692331",
							"692937",
							"692991",
							"693451",
							"693455",
							"693466",
							"693473",
							"693503",
							"693516",
							"693519",
							"693520",
							"693522",
							"693523",
							"693597",
							"693598",
							"693868",
							"693962",
							"694927",
							"695779",
							"696407",
							"700145",
							"701057"
						],
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "3369423",
								"comment_count": "0",
								"who": {
									"text": "nkinder",
									"name": "Nathan Kinder"
								},
								"bug_when": "2010-11-23 16:17:56 +0000",
								"thetext": "Tracking bug for 389 1.2.8 release."
							}
						]
					},
					{
						"bug_id": "676729",
						"creation_ts": "2011-02-10 23:26:08 +0000",
						"short_desc": "server log files have incorrect permissions/ownerships",
						"delta_ts": "2015-01-04 23:46:18 +0000",
						"bug_status": "CLOSED",
						"resolution": "ERRATA",
						"keywords": "screened",
						"priority": "unspecified",
						"bug_severity": "unspecified",
						"depends_on": [
							"604881"
						],
						"blocked": [
							{
								"bug_id": "639035",
								"error": "NotPermitted"
							},
							{
								"bug_id": "656390",
								"alias": "389_1.2.8",
								"creation_ts": "2010-11-23 16:17:56 +0000",
								"short_desc": "(389_1.2.8) Tracking bug for 389 Directory Server 1.2.8",
								"delta_ts": "2015-01-04 23:44:59 +0000",
								"bug_status": "CLOSED",
								"resolution": "CURRENTRELEASE",
								"priority": "high",
								"bug_severity": "medium",
								"depends_on": [
									"182507",
									"197886",
									"201652",
									"252249",
									"430321",
									"450016",
									"481195",
									"505722",
									"509897",
									"514190",
									"515329",
									"518890",
									"527912",
									"543633",
									"555577",
									"567282",
									"576534",
									"588480",
									"588791",
									"604881",
									"622907",
									"624485",
									"624547",
									"638511",
									"641944",
									"642046",
									"644784",
									"646381",
									"653007",
									"654054",
									"654057",
									"656734",
									"659131",
									"659776",
									"661102",
									"663191",
									"667935",
									"668385",
									"668862",
									"668909",
									"669205",
									"670616",
									"671033",
									"672313",
									"674430",
									"674852",
									"675113",
									"675265",
									"675320",
									"675853",
									"676053",
									"676407",
									"676655",
									"676666",
									"676689",
									"676729",
									"676733",
									"677440",
									"677464",
									"677465",
									"677467",
									"677483",
									"677705",
									"677774",
									"678369",
									"678646",
									"679542",
									"679978",
									"680284",
									"680305",
									"680555",
									"680558",
									"681015",
									"681332",
									"681351",
									"681379",
									"681550",
									"681611",
									"681720",
									"681726",
									"683250",
									"684349",
									"684996",
									"689866",
									"689889",
									"689952",
									"690526",
									"690955",
									"691486",
									"692331",
									"692937",
									"692991",
									"693451",
									"693455",
									"693466",
									"693473",
									"693503",
									"693516",
									"693519",
									"693520",
									"693522",
									"693523",
									"693597",
									"693598",
									"693868",
									"693962",
									"694927",
									"695779",
									"696407",
									"700145",
									"701057"
								],
								"long_desc": [
									{
										"isprivate": "0",
										"commentid": "3369423",
										"comment_count": "0",
										"who": {
											"text": "nkinder",
											"name": "Nathan Kinder"
										},
										"bug_when": "2010-11-23 16:17:56 +0000",
										"thetext": "Tracking bug for 389 1.2.8 release."
									}
								]
							},
							{
								"bug_id": "676871",
								"error": "NotPermitted"
							}
						],
						"external_bugs": {
							"text": "RHEA-2011:0533",
							"name": "Red Hat Product Errata"
						},
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "3532104",
								"comment_count": "0",
								"who": {
									"text": "nhosoi",
									"name": "Noriko Hosoi"
								},
								"bug_when": "2011-02-10 23:26:08 +0000",
								"thetext": "Description of problem:\nCloning Bug 604881 - server log files have incorrect permissions/ownerships"
							},
							{
								"isprivate": "0",
								"commentid": "3532105",
								"comment_count": "1",
								"who": {
									"text": "nhosoi",
									"name": "Noriko Hosoi"
								},
								"bug_when": "2011-02-10 23:29:06 +0000",
								"thetext": "The patch for this has been pushed to the 389-ds-base-1.2.8 branch.\n\n$ git cherry-pick 513e5a83ff806e9dcfa9b32287e2ce7b6ff95ddf\nFinished one cherry-pick.\n[ds128-local 96bb64a] Bug 604881 - admin server log files have incorrect\npermissions/ownerships\n 1 files changed, 6 insertions(+), 6 deletions(-)\n$ git push origin ds128-local:389-ds-base-1.2.8\nCounting objects: 11, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (6/6), done.\nWriting objects: 100% (6/6), 884 bytes, done.\nTotal 6 (delta 4), reused 0 (delta 0)\nTo ssh://git.fedorahosted.org/git/389/ds.git\n   ceec7ba..96bb64a  ds128-local -> 389-ds-base-1.2.8"
							},
							{
								"isprivate": "0",
								"commentid": "3695188",
								"comment_count": "4",
								"who": {
									"text": "amsharma",
									"name": "Amita Sharma"
								},
								"bug_when": "2011-04-25 06:20:49 +0000",
								"thetext": "Hi,\n\nI have tested this bug :\n\nSteps:\n1. cd /var/log/dirsrv/slapd-amitesthost\n2. [root@amitesthost slapd-amitesthost]# ls -alrt\ntotal 32\ndrwxr-xr-x. 3 root   root   4096 Apr 13 10:55 ..\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 errors.rotationinfo\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 audit.rotationinfo\n-rw-------. 1 nobody nobody    0 Apr 13 10:55 audit\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 access.rotationinfo\n-rw-------. 1 nobody nobody 1853 Apr 13 18:33 errors\ndrwxrwx---. 2 nobody nobody 4096 Apr 13 19:09 .\n-rw-------. 1 nobody nobody 5996 Apr 13 19:35 access\n3.chown root:root errors access\n[root@amitesthost slapd-amitesthost]# ls -alrt\ntotal 32\ndrwxr-xr-x. 3 root   root   4096 Apr 13 10:55 ..\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 errors.rotationinfo\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 audit.rotationinfo\n-rw-------. 1 nobody nobody    0 Apr 13 10:55 audit\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 access.rotationinfo\ndrwxrwx---. 2 root   root   4096 Apr 13 19:09 .\n-rw-------. 1 root   root   5996 Apr 13 19:35 access\n-rw-------. 1 root   root   2507 Apr 14 18:35 errors\n4. service dirsrv restart\n5. [root@amitesthost slapd-amitesthost]# ls -alrt\ntotal 32\ndrwxr-xr-x. 3 root   root   4096 Apr 13 10:55 ..\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 errors.rotationinfo\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 audit.rotationinfo\n-rw-------. 1 nobody nobody    0 Apr 13 10:55 audit\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 access.rotationinfo\ndrwxrwx---. 2 root   root   4096 Apr 13 19:09 .\n-rw-------. 1 nobody nobody 5996 Apr 13 19:35 access\n-rw-------. 1 nobody nobody 3161 Apr 14 19:01 errors\n\nTest passed, Marking it as verified.\n\n- Amita"
							},
							{
								"isprivate": "0",
								"commentid": "3744594",
								"comment_count": "5",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2011-05-19 12:41:32 +0000",
								"thetext": "An advisory has been issued which should help the problem\ndescribed in this bug report. This report is therefore being\nclosed with a resolution of ERRATA. For more information\non therefore solution and/or where to find the updated files,\nplease follow the link below. You may reopen this bug report\nif the solution does not work for you.\n\nhttp://rhn.redhat.com/errata/RHEA-2011-0533.html"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "2932443",
						"comment_count": "0",
						"who": {
							"text": "ckannan",
							"name": "Chandrasekar Kannan"
						},
						"bug_when": "2010-06-16 22:11:11 +0000",
						"thetext": "When changing admin server log file path/filenames via console, I noticed the old filenames have incorrect ownerships"
					},
					{
						"isprivate": "0",
						"commentid": "2932446",
						"comment_count": "1",
						"who": {
							"text": "ckannan",
							"name": "Chandrasekar Kannan"
						},
						"bug_when": "2010-06-16 22:14:42 +0000",
						"thetext": "[root@nocp8 admin-serv]# ls -alrt\ntotal 48\ndrwxr-xr-x 4 root   root   4096 Jun 16 14:10 ..\ndrwx------ 2 nobody nobody 4096 Jun 16 14:18 .\n-rw-r--r-- 1 root   root   1470 Jun 16 14:18 access\n-rw-r--r-- 1 root   root   2615 Jun 16 14:18 error\n-rw-r--r-- 1 nobody nobody 2202 Jun 16 15:06 error2\n-rw-r--r-- 1 nobody nobody 1356 Jun 16 15:06 access2\n[root@nocp8 admin-serv]# pwd\n/var/log/dirsrv/admin-serv"
					},
					{
						"isprivate": "0",
						"commentid": "3528032",
						"comment_count": "4",
						"who": {
							"text": "nhosoi",
							"name": "Noriko Hosoi"
						},
						"bug_when": "2011-02-09 00:06:55 +0000",
						"thetext": "Created attachment 477717\ngit patch file (master)\n\nDescription: Log files generated in the server's startup time has\nthe server's owner (nsslapd-localuser) for the owner and the group\nwho starts the server (ordinarily, root).  Once the server goes\ninto the daemon stage, new log files are owned by owner: nsslapd-\nlocaluser and group: the local user's primary group.  The latter\nis the correct ownership of the log files.\nThis patch sets the correct ownership to the files generated in\nthe server's startup time, as well."
					},
					{
						"isprivate": "0",
						"commentid": "3531982",
						"comment_count": "5",
						"who": {
							"text": "nhosoi",
							"name": "Noriko Hosoi"
						},
						"bug_when": "2011-02-10 22:11:32 +0000",
						"thetext": "Created attachment 478131\nAS: git patch file (master)\n\nDescription: Log files first generated by the Admin Server/Apache\nhas the owner (root, root), but the log files created later via\nConsole/CGI are owned by the Admin User/Group (e.g., nobody, nobody).\nTo make them consistent, this patch modifies the install script to\ncall chown to change the owner to the original log files."
					},
					{
						"isprivate": "0",
						"commentid": "3532071",
						"comment_count": "6",
						"who": {
							"text": "nhosoi",
							"name": "Noriko Hosoi"
						},
						"bug_when": "2011-02-10 23:11:03 +0000",
						"thetext": "Reviewed by Rich and Nathan (Thank you!!!)\n\nPushed to master.\n\nDS\n$ git merge 604881\nUpdating 1132e09..513e5a8\nFast-forward\n ldap/servers/slapd/main.c |   12 ++++++------\n 1 files changed, 6 insertions(+), 6 deletions(-)\n$ git push\nCounting objects: 11, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (6/6), done.\nWriting objects: 100% (6/6), 885 bytes, done.\nTotal 6 (delta 4), reused 0 (delta 0)\nTo ssh://git.fedorahosted.org/git/389/ds.git\n   1132e09..513e5a8  master -> master\n\nAS\n$ git merge work\nUpdating a9085ef..a997fc5\nFast-forward\n admserv/newinst/src/AdminServer.pm.in |   16 ++++++++++++++++\n 1 files changed, 16 insertions(+), 0 deletions(-)\n$ git push\nCounting objects: 11, done.\nDelta compression using up to 2 threads.\nCompressing objects: 100% (5/5), done.\nWriting objects: 100% (6/6), 936 bytes, done.\nTotal 6 (delta 4), reused 0 (delta 0)\nTo ssh://git.fedorahosted.org/git/389/admin.git\n   a9085ef..a997fc5  master -> master"
					},
					{
						"isprivate": "0",
						"commentid": "3532088",
						"comment_count": "7",
						"who": {
							"text": "nhosoi",
							"name": "Noriko Hosoi"
						},
						"bug_when": "2011-02-10 23:15:45 +0000",
						"thetext": "Cherry-picked and pushed to 389-ds-base-1.2.8.\n\n$ git cherry-pick 513e5a83ff806e9dcfa9b32287e2ce7b6ff95ddf\nFinished one cherry-pick.\n[ds128-local 96bb64a] Bug 604881 - admin server log files have incorrect permissions/ownerships\n 1 files changed, 6 insertions(+), 6 deletions(-)\n$ git push origin ds128-local:389-ds-base-1.2.8\nCounting objects: 11, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (6/6), done.\nWriting objects: 100% (6/6), 884 bytes, done.\nTotal 6 (delta 4), reused 0 (delta 0)\nTo ssh://git.fedorahosted.org/git/389/ds.git\n   ceec7ba..96bb64a  ds128-local -> 389-ds-base-1.2.8"
					},
					{
						"isprivate": "0",
						"commentid": "3532097",
						"comment_count": "8",
						"who": {
							"text": "nhosoi",
							"name": "Noriko Hosoi"
						},
						"bug_when": "2011-02-10 23:22:07 +0000",
						"thetext": "Since this bug covers both the directory and the admin server, changing the summary from:\n  admin server log files have incorrect permissions/ownerships\nto\n  server log files have incorrect permissions/ownerships"
					},
					{
						"isprivate": "0",
						"commentid": "3674745",
						"comment_count": "9",
						"who": {
							"text": "amsharma",
							"name": "Amita Sharma"
						},
						"bug_when": "2011-04-14 13:27:43 +0000",
						"thetext": "Hi,\n\nI have tested this bug :\n\nSteps:\n1. cd /var/log/dirsrv/slapd-amitesthost\n2. [root@amitesthost slapd-amitesthost]# ls -alrt\ntotal 32\ndrwxr-xr-x. 3 root   root   4096 Apr 13 10:55 ..\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 errors.rotationinfo\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 audit.rotationinfo\n-rw-------. 1 nobody nobody    0 Apr 13 10:55 audit\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 access.rotationinfo\n-rw-------. 1 nobody nobody 1853 Apr 13 18:33 errors\ndrwxrwx---. 2 nobody nobody 4096 Apr 13 19:09 .\n-rw-------. 1 nobody nobody 5996 Apr 13 19:35 access\n3.chown root:root errors access\n[root@amitesthost slapd-amitesthost]# ls -alrt\ntotal 32\ndrwxr-xr-x. 3 root   root   4096 Apr 13 10:55 ..\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 errors.rotationinfo\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 audit.rotationinfo\n-rw-------. 1 nobody nobody    0 Apr 13 10:55 audit\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 access.rotationinfo\ndrwxrwx---. 2 root   root   4096 Apr 13 19:09 .\n-rw-------. 1 root   root   5996 Apr 13 19:35 access\n-rw-------. 1 root   root   2507 Apr 14 18:35 errors\n4. service dirsrv restart\n5. [root@amitesthost slapd-amitesthost]# ls -alrt\ntotal 32\ndrwxr-xr-x. 3 root   root   4096 Apr 13 10:55 ..\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 errors.rotationinfo\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 audit.rotationinfo\n-rw-------. 1 nobody nobody    0 Apr 13 10:55 audit\n-rw-------. 1 nobody nobody   63 Apr 13 10:55 access.rotationinfo\ndrwxrwx---. 2 root   root   4096 Apr 13 19:09 .\n-rw-------. 1 nobody nobody 5996 Apr 13 19:35 access\n-rw-------. 1 nobody nobody 3161 Apr 14 19:01 errors\n\nTest passed, Marking it as verified."
					}
				]
			}
		},
		{
			"bug_id": 618897,
			"title": "rhds82 - manage cert with several instance and uid - cannot open nss db if instance created from console",
			"bugzilla": {
				"bug_id": "618897",
				"creation_ts": "2010-07-28 01:43:24 +0000",
				"short_desc": "rhds82 - manage cert with several instance and uid - cannot open nss db if instance created from console",
				"delta_ts": "2016-05-06 14:37:10 +0000",
				"bug_status": "CLOSED",
				"resolution": "CURRENTRELEASE",
				"priority": "medium",
				"bug_severity": "medium",
				"blocked": [
					{
						"bug_id": "434915",
						"error": "NotPermitted"
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "3036568",
						"comment_count": "0",
						"who": {
							"text": "msauton",
							"name": "Marc Sauton"
						},
						"bug_when": "2010-07-28 01:43:24 +0000",
						"thetext": "Description of problem:\n\ncannot manage certificates with the console when having several instance running with different uid, even when using the same primary group\ncannot open nss db\nthe file and directory permissions are not correct in /etc/dirsrv/\n\nrelated to\nbugzilla number 455629 with summary\nrhds80 - multiple instance uid's - cannot manage cert and keys\nwhich had been fixed in 8.1 and was working\n\n\nVersion-Release number of selected component (if applicable):\n\nredhat-ds-8.2.0-2.el5dsrv\nredhat-ds-base-8.2.0-12.el5dsrv\nredhat-ds-console-8.2.0-4.el5dsrv\nredhat-ds-admin-8.2.0-3.el5dsrv\n\n\nHow reproducible:\nalways\n\n\nSteps to Reproduce:\n\n1. groupadd -r ldap1\nuseradd -r -g ldap1 ldap1\ngrep ldap /etc/passwd /etc/group\n/etc/passwd:ldap1:x:101:102::/home/ldap1:/bin/bash\n/etc/group:ldap1:x:102:\n\n2. /usr/sbin/setup-ds-admin.pl --silent --file=/root/HowTo-ds82.ms2-test2.lab.sjc.redhat.com.1instance.389.8888.inf\n\n3. verify I can manage cert in console works ok\n\n4. useradd -r -g ldap1 ldap2\n\n5. create a second instance in console, as a test, can be silent install\n\n6. verify I can manage cert in console for second instance, broken with \"Unexpected Failure - Unable to open certificate database.\"\n\n  \nActual results:\n\nconsole debug output\n\nCommManager> New CommRecord (http://ms2-test2.lab.sjc.redhat.com:8888/admin-serv/tasks/configuration/SecurityOp)\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] open> Ready\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] accept> http://ms2-test2.lab.sjc.redhat.com:8888/admin-serv/tasks/configuration/SecurityOp\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] send> POST  \\\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] send> /admin-serv/tasks/configuration/SecurityOp \\\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] send>  HTTP/1.0\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] send> Host: ms2-test2.lab.sjc.redhat.com:8888\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] send> Connection: Keep-Alive\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] send> User-Agent: Red-Hat-Management-Console/1.1.5\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] send> Accept-Language: en\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] send> Authorization: Basic  \\\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] send> dWlkPWFkbWluLG91PUFkbWluaXN0cmF0b3JzLG91PVRvcG9sb2d5TWFuYWdlbWVudCxvPU5ldHNjYXBlUm9vdDpwYXNzd29yZA== \\\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] send>\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] send> Content-Length:78\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] send> Content-Type: application/x-www-form-urlencoded\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] send> Content-Transfer-Encoding: 7bit\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] send>\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] send> Writing 78 bytes...\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] send> 78 bytes written\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] recv> HTTP/1.1 200 OK\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] recv> Date: Wed, 28 Jul 2010 00:06:05 GMT\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] recv> Server: Apache/2.2\nHttpChannel.invoke: admin version = 2.2\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] recv> Admin-Server: Red Hat-Administrator/8.2.0\nHttpChannel.invoke: admin version = 8.2.0\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] recv> Connection: close\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] recv> Content-Type: text/html\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] recv>\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] recv> Reading unknown length bytes...\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] recv> 151 bytes read\nhttp://ms2-test2.lab.sjc.redhat.com:8888/[7:0] close> Closed\nContent-type: text/html\n\nNMC_Status: 1\nNMC_ErrType: Unexpected Failure\nNMC_ErrInfo: Internal error\nNMC_ErrDetail: Unable to open certificate database.\n\n\nFocus gained javax.swing.JButton[,0,0,38x37,alignmentX=0.0,alignmentY=0.5,border=javax.swing.plaf.BorderUIResource$CompoundBorderUIResource@1029f93b,flags=296,maximumSize=,minimumSize=,preferredSize=,defaultIcon=com/netscape/management/client/images/task.gif,disabledIcon=,disabledSelectedIcon=,margin=java.awt.Insets[top=0,left=0,bottom=0,right=0],paintBorder=true,paintFocus=true,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=,defaultCapable=true]\n\n\n\nExpected results:\n\n\nAdditional info:\n\nworkaround, fix permissions:\n\nls -la /etc/dirsrv/slapd-ms2-test22\ntotal 320\ndrwx------ 3 ldap2 root   4096 Jul 27 17:03 .\ndrwxrwxr-x 7 root  ldap1  4096 Jul 27 17:03 ..\n-rw-rw---- 1 ldap2 ldap1 65536 Jul 27 17:03 cert8.db\n-r-------- 1 ldap2 root   3595 Jul 27 17:03 certmap.conf\n-rw------- 1 ldap2 ldap1 56875 Jul 27 17:03 dse.ldif\n-rw------- 1 ldap2 ldap1 56294 Jul 27 17:03 dse.ldif.bak\n-rw------- 1 ldap2 root  44994 Jul 27 17:03 dse.ldif.startOK\n-r-------- 1 ldap2 root  31164 Jul 27 17:03 dse_original.ldif\n-rw-rw---- 1 ldap2 ldap1 16384 Jul 27 17:03 key3.db\ndrwx------ 2 ldap2 root   4096 Jul 27 17:03 schema\n-rw-rw---- 1 ldap2 ldap1 16384 Jul 27 17:03 secmod.db\n-r-------- 1 ldap2 root   5366 Jul 27 17:03 slapd-collations.conf\n\nchgrp ldap1 /etc/dirsrv/slapd-ms2-test22\nchmod g+rwx /etc/dirsrv/slapd-ms2-test22\n\nls -l /etc/dirsrv/\ntotal 20\ndrwx------ 2 ldap1 root  4096 Jul 27  2010 admin-serv\ndrwxr-xr-x 2 root  root  4096 Jul 27  2010 config\ndrwxr-xr-x 2 root  root  4096 Jul 27  2010 schema\ndrwxrwx--- 3 ldap1 ldap1 4096 Jul 27 17:19 slapd-ms2-test2\ndrwxrwx--- 3 ldap2 ldap1 4096 Jul 27 17:19 slapd-ms2-test22\n\nalso, probably needed\nchmod g+r /etc/dirsrv/slapd-ms2-test22/certmap.conf\n\nls -la /etc/dirsrv/slapd-ms2-test22\ntotal 348\ndrwxrwx--- 3 ldap2 ldap1  4096 Jul 27 17:19 .\ndrwxrwxr-x 7 root  ldap1  4096 Jul 27 17:03 ..\n-rw-rw---- 1 ldap2 ldap1 65536 Jul 27 17:19 cert8.db\n-r--r----- 1 ldap2 root   3595 Jul 27 17:03 certmap.conf\n-rw------- 1 ldap2 ldap1 58375 Jul 27 17:19 dse.ldif\n-rw------- 2 ldap2 ldap1 58376 Jul 27 17:19 dse.ldif.bak\n-rw------- 2 ldap2 ldap1 58376 Jul 27 17:19 dse.ldif.startOK\n-r-------- 1 ldap2 root  31164 Jul 27 17:03 dse_original.ldif\n-rw-rw---- 1 ldap2 ldap1 16384 Jul 27 17:19 key3.db\ndrwx------ 2 ldap2 root   4096 Jul 27 17:19 schema\n-rw-rw---- 1 ldap2 ldap1 16384 Jul 27 17:03 secmod.db\n-r-------- 1 ldap2 root   5366 Jul 27 17:03 slapd-collations.conf\n\n\nwhen I created a 3rd instance using setup-ds-admin.pl, with a third uid in the same primary group, like:\nid ldap3\nuid=103(ldap3) gid=102(ldap1) groups=102(ldap1)\n\nI was able to manage certificates just fine, only creating from the console seem to create the problem\n\n\ncorrect permissions I got for the 3rd instance created with setup-ds-admin.pl :\n\n[root@ms2-test2 ~]# ls -la /etc/dirsrv/\ntotal 44\ndrwxrwxr-x   8 root  ldap1  4096 Jul 27 17:42 .\ndrwxr-xr-x 100 root  root  12288 Jul 27 17:41 ..\ndrwx------   2 ldap1 root   4096 Jul 27  2010 admin-serv\ndrwxr-xr-x   2 root  root   4096 Jul 27  2010 config\ndrwxr-xr-x   2 root  root   4096 Jul 27  2010 schema\ndrwxrwx---   3 ldap1 ldap1  4096 Jul 27 17:19 slapd-ms2-test2\ndrwxrwx---   3 ldap2 ldap1  4096 Jul 27 17:19 slapd-ms2-test22\ndrwxrwx---   3 ldap3 ldap1  4096 Jul 27 17:42 slapd-ms2-test2-391\n[root@ms2-test2 ~]# ls -la /etc/dirsrv/slapd-ms2-test2-391/\ntotal 320\ndrwxrwx--- 3 ldap3 ldap1  4096 Jul 27 17:42 .\ndrwxrwxr-x 8 root  ldap1  4096 Jul 27 17:42 ..\n-rw-rw---- 1 ldap3 ldap1 65536 Jul 27 17:42 cert8.db\n-r--r----- 1 ldap3 ldap1  3595 Jul 27 17:42 certmap.conf\n-rw------- 1 ldap3 ldap1 56923 Jul 27 17:42 dse.ldif\n-rw------- 1 ldap3 ldap1 56342 Jul 27 17:42 dse.ldif.bak\n-rw------- 1 ldap3 root  45036 Jul 27 17:42 dse.ldif.startOK\n-r--r----- 1 ldap3 ldap1 31203 Jul 27 17:42 dse_original.ldif\n-rw-rw---- 1 ldap3 ldap1 16384 Jul 27 17:42 key3.db\ndrwxrwx--- 2 ldap3 ldap1  4096 Jul 27 17:42 schema\n-rw-rw---- 1 ldap3 ldap1 16384 Jul 27 17:42 secmod.db\n-r--r----- 1 ldap3 ldap1  5366 Jul 27 17:42 slapd-collations.conf\n[root@ms2-test2 ~]# \n\n\nincorrect permissions for a 4th instance created in the console:\n\n[root@ms2-test2 ~]# ls -la /etc/dirsrv/\ntotal 48\ndrwxrwxr-x   9 root  ldap1  4096 Jul 27 18:37 .\ndrwxr-xr-x 100 root  root  12288 Jul 27 18:36 ..\ndrwx------   2 ldap1 root   4096 Jul 27  2010 admin-serv\ndrwxr-xr-x   2 root  root   4096 Jul 27  2010 config\ndrwxr-xr-x   2 root  root   4096 Jul 27  2010 schema\ndrwxrwx---   3 ldap1 ldap1  4096 Jul 27 17:19 slapd-ms2-test2\ndrwxrwx---   3 ldap2 ldap1  4096 Jul 27 17:19 slapd-ms2-test22\ndrwxrwx---   3 ldap3 ldap1  4096 Jul 27 17:42 slapd-ms2-test2-391\ndrwx------   3 ldap4 root   4096 Jul 27 18:37 slapd-ms2-test24\n[root@ms2-test2 ~]# ls -la /etc/dirsrv/slapd-ms2-test24\ntotal 320\ndrwx------ 3 ldap4 root   4096 Jul 27 18:37 .\ndrwxrwxr-x 9 root  ldap1  4096 Jul 27 18:37 ..\n-rw-rw---- 1 ldap4 ldap1 65536 Jul 27 18:37 cert8.db\n-r-------- 1 ldap4 root   3595 Jul 27 18:37 certmap.conf\n-rw------- 1 ldap4 ldap1 56875 Jul 27 18:37 dse.ldif\n-rw------- 1 ldap4 ldap1 56294 Jul 27 18:37 dse.ldif.bak\n-rw------- 1 ldap4 root  44994 Jul 27 18:37 dse.ldif.startOK\n-r-------- 1 ldap4 root  31164 Jul 27 18:37 dse_original.ldif\n-rw-rw---- 1 ldap4 ldap1 16384 Jul 27 18:37 key3.db\ndrwx------ 2 ldap4 root   4096 Jul 27 18:37 schema\n-rw-rw---- 1 ldap4 ldap1 16384 Jul 27 18:37 secmod.db\n-r-------- 1 ldap4 root   5366 Jul 27 18:37 slapd-collations.conf\n[root@ms2-test2 ~]#"
					},
					{
						"isprivate": "0",
						"commentid": "3036572",
						"comment_count": "1",
						"who": {
							"text": "msauton",
							"name": "Marc Sauton"
						},
						"bug_when": "2010-07-28 01:45:52 +0000",
						"thetext": "note:\n\n> 5. create a second instance in console, as a test, can be silent install\n\nthis step must be done in the console, not setup-ds-admin.pl"
					},
					{
						"isprivate": "0",
						"commentid": "3038289",
						"comment_count": "2",
						"who": {
							"text": "nkinder",
							"name": "Nathan Kinder"
						},
						"bug_when": "2010-07-28 16:07:50 +0000",
						"thetext": "I have reproduced this issue, but I have also confirmed that this is not a regression.  The same behavior is observed with RHDS 8.1.\n\nI think that we should doc this for 8.2 along with a workaround of changing the permissions, but we should target this for 9.0."
					},
					{
						"isprivate": "0",
						"commentid": "3554003",
						"comment_count": "5",
						"who": {
							"text": "nkinder",
							"name": "Nathan Kinder"
						},
						"bug_when": "2011-02-22 21:43:06 +0000",
						"thetext": "Created attachment 480261\nPatch"
					},
					{
						"isprivate": "0",
						"commentid": "3554007",
						"comment_count": "6",
						"who": {
							"text": "nkinder",
							"name": "Nathan Kinder"
						},
						"bug_when": "2011-02-22 21:45:32 +0000",
						"thetext": "Prior to my patch, the ownership/permissions on the config directories of my two test instances looked like this (slapd-localhost was created by setup-ds-admin.pl and slapd-localhost2 was created by Console):\n\n[root@localhost ~]# ls -al /etc/dirsrv/slapd-localhost\ntotal 344\ndrwxrwx---. 3 slapd1 slapd  4096 Feb 22 11:32 .\ndrwxrwxr-x. 7 root   slapd  4096 Feb 22 11:39 ..\n-rw-rw----. 1 slapd1 slapd 65536 Feb 22 11:32 cert8.db\n-r--r-----. 1 slapd1 slapd  3595 Feb 22 11:32 certmap.conf\n-rw-------. 1 slapd1 slapd 70704 Feb 22 11:32 dse.ldif\n-rw-------. 1 slapd1 slapd 70067 Feb 22 11:32 dse.ldif.bak\n-rw-------. 1 slapd1 root  46034 Feb 22 11:32 dse.ldif.startOK\n-r--r-----. 1 slapd1 slapd 31500 Feb 22 11:32 dse_original.ldif\n-rw-rw----. 1 slapd1 slapd 16384 Feb 22 11:32 key3.db\ndrwxrwx---. 2 slapd1 slapd  4096 Feb 22 11:32 schema\n-rw-rw----. 1 slapd1 slapd 16384 Feb 22 11:32 secmod.db\n-r--r-----. 1 slapd1 slapd  5366 Feb 22 11:32 slapd-collations.conf\n[root@localhost ~]# ls -al /etc/dirsrv/slapd-localhost2\ntotal 320\ndrwx------. 3 slapd2 root   4096 Feb 22 11:39 .\ndrwxrwxr-x. 7 root   slapd  4096 Feb 22 11:39 ..\n-rw-rw----. 1 slapd2 slapd 65536 Feb 22 11:39 cert8.db\n-r--------. 1 slapd2 root   3595 Feb 22 11:39 certmap.conf\n-rw-------. 1 slapd2 slapd 58618 Feb 22 11:39 dse.ldif\n-rw-------. 1 slapd2 slapd 58037 Feb 22 11:39 dse.ldif.bak\n-rw-------. 1 slapd2 root  46697 Feb 22 11:39 dse.ldif.startOK\n-r--------. 1 slapd2 root  31515 Feb 22 11:39 dse_original.ldif\n-rw-rw----. 1 slapd2 slapd 16384 Feb 22 11:39 key3.db\ndrwx------. 2 slapd2 root   4096 Feb 22 11:39 schema\n-rw-rw----. 1 slapd2 slapd 16384 Feb 22 11:39 secmod.db\n-r--------. 1 slapd2 root   5366 Feb 22 11:39 slapd-collations.conf\n\nAfter my patch, the ownership/permissions are consistent between the two instances:\n\n[root@localhost ~]# ls -al /etc/dirsrv/slapd-localhost\ntotal 344\ndrwxrwx---. 3 slapd1 slapd  4096 Feb 22 13:32 .\ndrwxrwxr-x. 7 root   slapd  4096 Feb 22 13:34 ..\n-rw-rw----. 1 slapd1 slapd 65536 Feb 22 13:32 cert8.db\n-r--r-----. 1 slapd1 slapd  3595 Feb 22 13:32 certmap.conf\n-rw-------. 1 slapd1 slapd 70704 Feb 22 13:32 dse.ldif\n-rw-------. 1 slapd1 slapd 70067 Feb 22 13:32 dse.ldif.bak\n-rw-------. 1 slapd1 root  46034 Feb 22 13:32 dse.ldif.startOK\n-r--r-----. 1 slapd1 slapd 31500 Feb 22 13:32 dse_original.ldif\n-rw-rw----. 1 slapd1 slapd 16384 Feb 22 13:32 key3.db\ndrwxrwx---. 2 slapd1 slapd  4096 Feb 22 13:32 schema\n-rw-rw----. 1 slapd1 slapd 16384 Feb 22 13:32 secmod.db\n-r--r-----. 1 slapd1 slapd  5366 Feb 22 13:32 slapd-collations.conf\n[root@localhost ~]# ls -al /etc/dirsrv/slapd-localhost2\ntotal 320\ndrwxrwx---. 3 slapd2 slapd  4096 Feb 22 13:34 .\ndrwxrwxr-x. 7 root   slapd  4096 Feb 22 13:34 ..\n-rw-rw----. 1 slapd2 slapd 65536 Feb 22 13:34 cert8.db\n-r--r-----. 1 slapd2 slapd  3595 Feb 22 13:34 certmap.conf\n-rw-------. 1 slapd2 slapd 58618 Feb 22 13:34 dse.ldif\n-rw-------. 1 slapd2 slapd 58037 Feb 22 13:34 dse.ldif.bak\n-rw-------. 1 slapd2 root  46697 Feb 22 13:34 dse.ldif.startOK\n-r--r-----. 1 slapd2 slapd 31515 Feb 22 13:34 dse_original.ldif\n-rw-rw----. 1 slapd2 slapd 16384 Feb 22 13:34 key3.db\ndrwxrwx---. 2 slapd2 slapd  4096 Feb 22 13:34 schema\n-rw-rw----. 1 slapd2 slapd 16384 Feb 22 13:34 secmod.db\n-r--r-----. 1 slapd2 slapd  5366 Feb 22 13:34 slapd-collations.conf"
					},
					{
						"isprivate": "0",
						"commentid": "3554061",
						"comment_count": "7",
						"who": {
							"text": "nkinder",
							"name": "Nathan Kinder"
						},
						"bug_when": "2011-02-22 22:08:17 +0000",
						"thetext": "Pushed to master.  Thanks to Rich for his review!\n\nCounting objects: 9, done.\nDelta compression using up to 2 threads.\nCompressing objects: 100% (5/5), done.\nWriting objects: 100% (5/5), 822 bytes, done.\nTotal 5 (delta 4), reused 0 (delta 0)\nTo ssh://git.fedorahosted.org/git/389/admin.git\n   82b2fd2..f5a1e66  master -> master"
					},
					{
						"isprivate": "0",
						"commentid": "3865731",
						"comment_count": "8",
						"who": {
							"text": "amsharma",
							"name": "Amita Sharma"
						},
						"bug_when": "2011-07-05 12:50:04 +0000",
						"thetext": "[root@rheltest ~]# ls -al /etc/dirsrv/slapd-rheltest\ntotal 340\ndrwxrwx---. 3 nobody nobody  4096 Jul  5 16:49 .\ndrwxrwxr-x. 7 root   nobody  4096 Jul  5 18:18 ..\n-rw-rw----. 1 nobody nobody 65536 Jul  5 16:49 cert8.db\n-r--r-----. 1 nobody nobody  3595 Jul  5 16:49 certmap.conf\n-rw-------. 1 nobody nobody 70198 Jul  5 16:49 dse.ldif\n-rw-------. 1 nobody nobody 69553 Jul  5 16:49 dse.ldif.bak\n-rw-------. 1 nobody root   45523 Jul  5 16:49 dse.ldif.startOK\n-r--r-----. 1 nobody nobody 31741 Jul  5 16:49 dse_original.ldif\n-rw-rw----. 1 nobody nobody 16384 Jul  5 16:49 key3.db\ndrwxrwx---. 2 nobody nobody  4096 Jul  5 16:49 schema\n-rw-rw----. 1 nobody nobody 16384 Jul  5 16:49 secmod.db\n-r--r-----. 1 nobody nobody  5366 Jul  5 16:49 slapd-collations.conf\n[root@rheltest ~]# ls -al /etc/dirsrv/slapd-rheltest1\ntotal 316\ndrwxrwx---. 3 nobody nobody  4096 Jul  5 18:18 .\ndrwxrwxr-x. 7 root   nobody  4096 Jul  5 18:18 ..\n-rw-rw----. 1 nobody nobody 65536 Jul  5 18:18 cert8.db\n-r--r-----. 1 nobody nobody  3595 Jul  5 18:18 certmap.conf\n-rw-------. 1 nobody nobody 57513 Jul  5 18:18 dse.ldif\n-rw-------. 1 nobody nobody 56932 Jul  5 18:18 dse.ldif.bak\n-rw-------. 1 nobody root   45594 Jul  5 18:18 dse.ldif.startOK\n-r--r-----. 1 nobody nobody 31808 Jul  5 18:18 dse_original.ldif\n-rw-rw----. 1 nobody nobody 16384 Jul  5 18:18 key3.db\ndrwxrwx---. 2 nobody nobody  4096 Jul  5 18:18 schema\n-rw-rw----. 1 nobody nobody 16384 Jul  5 18:18 secmod.db\n-r--r-----. 1 nobody nobody  5366 Jul  5 18:18 slapd-collations.conf\n\n\nHence VERIFIED"
					}
				]
			}
		},
		{
			"bug_id": 672468,
			"parent": true,
			"security": true,
			"title": "CVE-2011-0532 Directory Server: use of insecure LD_LIBRARY_PATH settings",
			"bugzilla": {
				"bug_id": "672468",
				"alias": "CVE-2011-0532",
				"creation_ts": "2011-01-25 08:08:57 +0000",
				"short_desc": "CVE-2011-0532 Directory Server: use of insecure LD_LIBRARY_PATH settings",
				"delta_ts": "2019-09-29 12:42:02 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security",
				"priority": "low",
				"bug_severity": "low",
				"depends_on": [
					"670922"
				],
				"external_bugs": {
					"text": "RHSA-2011:0293",
					"name": "Red Hat Product Errata"
				},
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "3498454",
						"comment_count": "0",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2011-01-25 08:08:57 +0000",
						"thetext": "It was discovered that 398 / Red Hat Directory Server set LD_LIBRARY_PATH environment variable to insecure value containing empty path elements in various shell scripts used by DS (e.g. various backup/restore scripts instantiated for each DS instance, as well as the main initialization script).  Such LD_LIBRARY_PATH setting causes ld.so dynamic linker to perform library search relative to the current working directory before searching system library directories.  A local attacker able to trick a user running those scripts (usually the root user) to run them while working from an attacker writeable directory could use this flaw to escalate their privileges via specially crated dynamic library."
					},
					{
						"isprivate": "0",
						"commentid": "3498466",
						"comment_count": "1",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2011-01-25 08:20:45 +0000",
						"thetext": "Examples include:\n\n- dirsrv init script\n  LD_LIBRARY_PATH=/usr/lib/dirsrv::/usr/lib\n\n- ldap-agent\n  LIB_DIR=:::\n  LD_LIBRARY_PATH=${LIB_DIR}\n\n- backup scripts\n  LD_LIBRARY_PATH=$prefix/{{SERVER-DIR}}:$prefix:$prefix/usr/lib:$prefix/usr/lib\n  if [ -n \"$prefix\" ] ; then\n    LD_LIBRARY_PATH=\"${LD_LIBRARY_PATH}:\"                                  \n  fi\n\nThis issue is result of an expansion of certain configure variables to an empty string."
					},
					{
						"isprivate": "0",
						"commentid": "3498472",
						"comment_count": "2",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2011-01-25 08:23:30 +0000",
						"thetext": "Most scripts also set SHLIB_PATH to the same value as LD_LIBRARY_PATH.  I don't know if HP-UX dynamic linker handles empty paths in SHLIB_PATH in the same way as glibc ld.so does in LD_LIBRARY_PATH.  Can anyone with access to HP-UX system verify this?  DS scripts usually do SHLIB_PATH=$LD_LIBRARY_PATH or similar, so LD_LIBRARY_PATH fix should resolve most SHLIB_PATH issues too."
					},
					{
						"isprivate": "0",
						"commentid": "3553416",
						"comment_count": "19",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2011-02-22 17:46:12 +0000",
						"thetext": "This issue has been addressed in following products:\n\n  Red Hat Directory Server 8 for RHEL 4\n  Red Hat Directory Server 8 for RHEL 5\n\nVia RHSA-2011:0293 https://rhn.redhat.com/errata/RHSA-2011-0293.html"
					}
				]
			}
		}
	],
	"builds": [
		{
			"nvr": "389-admin-1.1.15-1.el5",
			"signed": true,
			"type": "rpm",
			"package": {
				"i386": [
					{
						"name": "389-admin",
						"version": "1.1.15",
						"release": "1.el5",
						"arch": "i386"
					},
					{
						"name": "389-admin-debuginfo",
						"version": "1.1.15",
						"release": "1.el5",
						"arch": "i386"
					}
				],
				"ppc": [
					{
						"name": "389-admin",
						"version": "1.1.15",
						"release": "1.el5",
						"arch": "ppc"
					},
					{
						"name": "389-admin-debuginfo",
						"version": "1.1.15",
						"release": "1.el5",
						"arch": "ppc"
					}
				],
				"src": [
					{
						"name": "389-admin",
						"version": "1.1.15",
						"release": "1.el5",
						"arch": "src"
					}
				],
				"x86_64": [
					{
						"name": "389-admin-debuginfo",
						"version": "1.1.15",
						"release": "1.el5",
						"arch": "x86_64"
					},
					{
						"name": "389-admin",
						"version": "1.1.15",
						"release": "1.el5",
						"arch": "x86_64"
					}
				]
			}
		}
	],
	"close_bugs": true,
	"comments": [
		{
			"id": 57100,
			"text": "This update has been submitted for testing by rmeggins. ",
			"timestamp": "2011-02-24 03:16:14",
			"update_id": 8091,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 57101,
			"text": "This update has been pushed to testing",
			"timestamp": "2011-02-24 19:53:57",
			"update_id": 8091,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 57102,
			"karma": 1,
			"text": "Appears to run fine.",
			"timestamp": "2011-03-09 19:12:14",
			"update_id": 8091,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/4dbef71827789c946f87277314d67676f0629ea0b689a0d0a55f326ae3a4cd72?s=24&d=retro",
				"email": "orion@nwra.com",
				"groups": [
					{
						"name": "provenpackager"
					},
					{
						"name": "packager"
					},
					{
						"name": "astro-sig"
					},
					{
						"name": "ipausers"
					},
					{
						"name": "fedorabugs"
					},
					{
						"name": "signed_fpca"
					},
					{
						"name": "scitech"
					},
					{
						"name": "fedora-contributor"
					},
					{
						"name": "packaging-committee"
					},
					{
						"name": "scitech_sig"
					},
					{
						"name": "epel-packagers-sig"
					},
					{
						"name": "clamav"
					},
					{
						"name": "trust admins"
					}
				],
				"id": 97,
				"name": "orion",
				"openid": "orion.id.fedoraproject.org"
			},
			"user_id": 97
		},
		{
			"id": 57103,
			"text": "This update has reached 14 days in testing and can be pushed to stable now if the maintainer wishes",
			"timestamp": "2011-03-10 22:16:51",
			"update_id": 8091,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 57104,
			"text": "This update has been obsoleted by https://admin.fedoraproject.org/updates/389-admin-1.1.16-1.el5",
			"timestamp": "2011-03-30 15:15:24",
			"update_id": 8091,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		}
	],
	"content_type": "rpm",
	"date_pushed": "2011-02-24 19:53:57",
	"date_submitted": "2011-02-24 03:15:54",
	"date_testing": "2011-02-24 19:53:57",
	"karma": 1,
	"notes": "1.1.15 release - git tag 389-admin-1.1.15\nsee Bugs for the list of bugs fixed\nstart-ds-admin.in -- replaced \"return 1\" with \"exit 1\"",
	"pushed": true,
	"release": {
		"branch": "el5",
		"candidate_tag": "dist-5E-epel-testing-candidate",
		"composed_by_bodhi": true,
		"dist_tag": "dist-5E-epel",
		"id_prefix": "FEDORA-EPEL",
		"long_name": "Fedora EPEL 5",
		"mail_template": "fedora_epel_legacy_errata_template",
		"name": "EL-5",
		"override_tag": "dist-5E-epel-override",
		"package_manager": "unspecified",
		"stable_tag": "dist-5E-epel",
		"state": "archived",
		"testing_tag": "dist-5E-epel-testing",
		"version": "5"
	},
	"severity": "unspecified",
	"stable_karma": 3,
	"status": "obsolete",
	"suggest": "unspecified",
	"title": "389-admin-1.1.15-1.el5",
	"type": "security",
	"url": "https://bodhi.fedoraproject.org/updates/FEDORA-EPEL-2011-0474",
	"unstable_karma": -3,
	"updateid": "FEDORA-EPEL-2011-0474",
	"user": {
		"avatar": "https://seccdn.libravatar.org/avatar/fe25890db2fabf330eba3ad1f7ec7b97331cabf8af3625bae2f59d9f8e03cf4c?s=24&d=retro",
		"email": "rmeggins@redhat.com",
		"groups": [
			{
				"name": "packager"
			},
			{
				"name": "ipausers"
			},
			{
				"name": "fedora-contributor"
			},
			{
				"name": "signed_fpca"
			},
			{
				"name": "fedorabugs"
			},
			{
				"name": "summer-coding"
			}
		],
		"id": 314,
		"name": "rmeggins",
		"openid": "rmeggins.id.fedoraproject.org"
	},
	"version_hash": "33e1a6fe656eff08b6ebb2d6f76ffafd7f039379"
}
