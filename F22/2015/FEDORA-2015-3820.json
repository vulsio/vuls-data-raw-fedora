{
	"alias": "FEDORA-2015-3820",
	"bugs": [
		{
			"bug_id": 1196274,
			"parent": true,
			"security": true,
			"title": "CVE-2015-2151 xen: hypervisor memory corruption due to x86 emulator flaw (xsa123)",
			"bugzilla": {
				"bug_id": "1196274",
				"alias": "xsa123",
				"creation_ts": "2015-02-25 15:44:39 +0000",
				"short_desc": "CVE-2015-2151 xen: hypervisor memory corruption due to x86 emulator flaw (xsa123)",
				"delta_ts": "2021-02-17 05:36:17 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security",
				"priority": "high",
				"bug_severity": "high",
				"depends_on": [
					"1200373",
					"1200398"
				],
				"blocked": [
					{
						"bug_id": "1196269",
						"error": "NotPermitted"
					}
				],
				"external_bugs": {
					"text": "RHSA-2016:0450",
					"name": "Red Hat Product Errata"
				},
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "7975838",
						"comment_count": "0",
						"who": {
							"text": "vkaigoro",
							"name": "Vasyl Kaigorodov"
						},
						"bug_when": "2015-02-25 15:44:39 +0000",
						"thetext": "ISSUE DESCRIPTION\n=================\n\nInstructions with register operands ignore eventual segment overrides\nencoded for them. Due to an insufficiently conditional assignment such\na bogus segment override can, however, corrupt a pointer used\nsubsequently to store the result of the instruction.\n\nIMPACT\n======\n\nA malicious guest might be able to read sensitive data relating to\nother guests, or to cause denial of service on the host. Arbitrary code\nexecution, and therefore privilege escalation, cannot be excluded.\n\nVULNERABLE SYSTEMS\n==================\n\nXen 3.2.x and later are vulnerable.\nXen 3.1.x and earlier have not been inspected.\n\nOnly x86 systems are vulnerable. ARM systems are not vulnerable.\n\nMITIGATION\n==========\n\nThere is no mitigation available for this issue.\n\nRESOLUTION\n==========\n\nApplying the appropriate attached patch resolves this issue.\n\nxsa123.patch xen-unstable, Xen 4.5.x, Xen 4.4.x\nxsa123-4.3-4.2.patch Xen 4.3.x, Xen 4.2.x\n\n$ sha256sum xsa123*.patch\nc65ff7e169416b8c8aef93f2f1b4c259f123f244cdb3ab7a1f4fe714000752ff xsa123-4.3-4.2.patch\n6f1587f9e0a4b9325c75c004b0069b5d5303a725cf7dd8def18c01b9d0aa8912 xsa123.patch"
					},
					{
						"isprivate": "0",
						"commentid": "7975842",
						"comment_count": "1",
						"who": {
							"text": "vkaigoro",
							"name": "Vasyl Kaigorodov"
						},
						"bug_when": "2015-02-25 15:45:46 +0000",
						"thetext": "Created attachment 995257\nxsa123-4.3-4.2.patch"
					},
					{
						"isprivate": "0",
						"commentid": "7975843",
						"comment_count": "2",
						"who": {
							"text": "vkaigoro",
							"name": "Vasyl Kaigorodov"
						},
						"bug_when": "2015-02-25 15:45:49 +0000",
						"thetext": "Created attachment 995258\nxsa123.patch"
					},
					{
						"isprivate": "0",
						"commentid": "8026921",
						"comment_count": "4",
						"who": {
							"text": "pmatouse",
							"name": "Petr Matousek"
						},
						"bug_when": "2015-03-10 12:36:13 +0000",
						"thetext": "Statement:\n\nThis issue does affect the Xen hypervisor packages as shipped with Red Hat Enterprise Linux 5. Future Xen hypervisor packages updates might address this issue."
					},
					{
						"isprivate": "0",
						"commentid": "8027228",
						"comment_count": "5",
						"who": {
							"text": "mprpic",
							"name": "Martin Prpič"
						},
						"bug_when": "2015-03-10 13:39:26 +0000",
						"thetext": "External References:\n\nhttp://xenbits.xen.org/xsa/advisory-123.html"
					},
					{
						"isprivate": "0",
						"commentid": "8027232",
						"comment_count": "6",
						"who": {
							"text": "mprpic",
							"name": "Martin Prpič"
						},
						"bug_when": "2015-03-10 13:39:50 +0000",
						"thetext": "\nCreated xen tracking bugs for this issue:\n\nAffects: fedora-all [bug 1200398]"
					},
					{
						"isprivate": "0",
						"commentid": "8069256",
						"comment_count": "7",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-21 04:59:04 +0000",
						"thetext": "xen-4.5.0-6.fc22 has been pushed to the Fedora 22 stable repository.  If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "8070047",
						"comment_count": "8",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-22 04:31:46 +0000",
						"thetext": "xen-4.3.3-12.fc20 has been pushed to the Fedora 20 stable repository.  If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "8071846",
						"comment_count": "9",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-23 07:10:18 +0000",
						"thetext": "xen-4.4.1-16.fc21 has been pushed to the Fedora 21 stable repository.  If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "9149716",
						"comment_count": "10",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2016-03-15 14:48:07 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 5\n\nVia RHSA-2016:0450 https://rhn.redhat.com/errata/RHSA-2016-0450.html"
					}
				]
			}
		},
		{
			"bug_id": 1200398,
			"security": true,
			"title": "CVE-2015-2151 xen: hypervisor memory corruption due to x86 emulator flaw (xsa123) [fedora-all]",
			"bugzilla": {
				"bug_id": "1200398",
				"creation_ts": "2015-03-10 13:39:42 +0000",
				"short_desc": "CVE-2015-2151 xen: hypervisor memory corruption due to x86 emulator flaw (xsa123) [fedora-all]",
				"delta_ts": "2015-03-23 07:10:10 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security, SecurityTracking",
				"priority": "high",
				"bug_severity": "high",
				"blocked": [
					{
						"bug_id": "1196274",
						"alias": "xsa123",
						"creation_ts": "2015-02-25 15:44:39 +0000",
						"short_desc": "CVE-2015-2151 xen: hypervisor memory corruption due to x86 emulator flaw (xsa123)",
						"delta_ts": "2021-02-17 05:36:17 +0000",
						"bug_status": "CLOSED",
						"resolution": "ERRATA",
						"keywords": "Security",
						"priority": "high",
						"bug_severity": "high",
						"depends_on": [
							"1200373",
							"1200398"
						],
						"blocked": [
							{
								"bug_id": "1196269",
								"error": "NotPermitted"
							}
						],
						"external_bugs": {
							"text": "RHSA-2016:0450",
							"name": "Red Hat Product Errata"
						},
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "7975838",
								"comment_count": "0",
								"who": {
									"text": "vkaigoro",
									"name": "Vasyl Kaigorodov"
								},
								"bug_when": "2015-02-25 15:44:39 +0000",
								"thetext": "ISSUE DESCRIPTION\n=================\n\nInstructions with register operands ignore eventual segment overrides\nencoded for them. Due to an insufficiently conditional assignment such\na bogus segment override can, however, corrupt a pointer used\nsubsequently to store the result of the instruction.\n\nIMPACT\n======\n\nA malicious guest might be able to read sensitive data relating to\nother guests, or to cause denial of service on the host. Arbitrary code\nexecution, and therefore privilege escalation, cannot be excluded.\n\nVULNERABLE SYSTEMS\n==================\n\nXen 3.2.x and later are vulnerable.\nXen 3.1.x and earlier have not been inspected.\n\nOnly x86 systems are vulnerable. ARM systems are not vulnerable.\n\nMITIGATION\n==========\n\nThere is no mitigation available for this issue.\n\nRESOLUTION\n==========\n\nApplying the appropriate attached patch resolves this issue.\n\nxsa123.patch xen-unstable, Xen 4.5.x, Xen 4.4.x\nxsa123-4.3-4.2.patch Xen 4.3.x, Xen 4.2.x\n\n$ sha256sum xsa123*.patch\nc65ff7e169416b8c8aef93f2f1b4c259f123f244cdb3ab7a1f4fe714000752ff xsa123-4.3-4.2.patch\n6f1587f9e0a4b9325c75c004b0069b5d5303a725cf7dd8def18c01b9d0aa8912 xsa123.patch"
							},
							{
								"isprivate": "0",
								"commentid": "7975842",
								"comment_count": "1",
								"who": {
									"text": "vkaigoro",
									"name": "Vasyl Kaigorodov"
								},
								"bug_when": "2015-02-25 15:45:46 +0000",
								"thetext": "Created attachment 995257\nxsa123-4.3-4.2.patch"
							},
							{
								"isprivate": "0",
								"commentid": "7975843",
								"comment_count": "2",
								"who": {
									"text": "vkaigoro",
									"name": "Vasyl Kaigorodov"
								},
								"bug_when": "2015-02-25 15:45:49 +0000",
								"thetext": "Created attachment 995258\nxsa123.patch"
							},
							{
								"isprivate": "0",
								"commentid": "8026921",
								"comment_count": "4",
								"who": {
									"text": "pmatouse",
									"name": "Petr Matousek"
								},
								"bug_when": "2015-03-10 12:36:13 +0000",
								"thetext": "Statement:\n\nThis issue does affect the Xen hypervisor packages as shipped with Red Hat Enterprise Linux 5. Future Xen hypervisor packages updates might address this issue."
							},
							{
								"isprivate": "0",
								"commentid": "8027228",
								"comment_count": "5",
								"who": {
									"text": "mprpic",
									"name": "Martin Prpič"
								},
								"bug_when": "2015-03-10 13:39:26 +0000",
								"thetext": "External References:\n\nhttp://xenbits.xen.org/xsa/advisory-123.html"
							},
							{
								"isprivate": "0",
								"commentid": "8027232",
								"comment_count": "6",
								"who": {
									"text": "mprpic",
									"name": "Martin Prpič"
								},
								"bug_when": "2015-03-10 13:39:50 +0000",
								"thetext": "\nCreated xen tracking bugs for this issue:\n\nAffects: fedora-all [bug 1200398]"
							},
							{
								"isprivate": "0",
								"commentid": "8069256",
								"comment_count": "7",
								"who": {
									"text": "updates",
									"name": "Fedora Update System"
								},
								"bug_when": "2015-03-21 04:59:04 +0000",
								"thetext": "xen-4.5.0-6.fc22 has been pushed to the Fedora 22 stable repository.  If problems still persist, please make note of it in this bug report."
							},
							{
								"isprivate": "0",
								"commentid": "8070047",
								"comment_count": "8",
								"who": {
									"text": "updates",
									"name": "Fedora Update System"
								},
								"bug_when": "2015-03-22 04:31:46 +0000",
								"thetext": "xen-4.3.3-12.fc20 has been pushed to the Fedora 20 stable repository.  If problems still persist, please make note of it in this bug report."
							},
							{
								"isprivate": "0",
								"commentid": "8071846",
								"comment_count": "9",
								"who": {
									"text": "updates",
									"name": "Fedora Update System"
								},
								"bug_when": "2015-03-23 07:10:18 +0000",
								"thetext": "xen-4.4.1-16.fc21 has been pushed to the Fedora 21 stable repository.  If problems still persist, please make note of it in this bug report."
							},
							{
								"isprivate": "0",
								"commentid": "9149716",
								"comment_count": "10",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2016-03-15 14:48:07 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 5\n\nVia RHSA-2016:0450 https://rhn.redhat.com/errata/RHSA-2016-0450.html"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "8027229",
						"comment_count": "0",
						"who": {
							"text": "mprpic",
							"name": "Martin Prpič"
						},
						"bug_when": "2015-03-10 13:39:42 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof Fedora.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate.\n\n[bug automatically created by: add-tracking-bugs]"
					},
					{
						"isprivate": "0",
						"commentid": "8027231",
						"comment_count": "1",
						"who": {
							"text": "mprpic",
							"name": "Martin Prpič"
						},
						"bug_when": "2015-03-10 13:39:48 +0000",
						"thetext": "\nUse the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1196274,1200398\n\n# Description of your update\nnotes=Security fix for CVE-2015-2151, xsa123\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi update submission link instead:\n\nhttps://admin.fedoraproject.org/updates/new/?type_=security&bugs=1196274,1200398"
					},
					{
						"isprivate": "0",
						"commentid": "8034604",
						"comment_count": "2",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-11 19:54:28 +0000",
						"thetext": "xen-4.5.0-4.fc22 has been submitted as an update for Fedora 22.\nhttps://admin.fedoraproject.org/updates/xen-4.5.0-4.fc22"
					},
					{
						"isprivate": "0",
						"commentid": "8034741",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-11 21:00:59 +0000",
						"thetext": "xen-4.4.1-14.fc21 has been submitted as an update for Fedora 21.\nhttps://admin.fedoraproject.org/updates/xen-4.4.1-14.fc21"
					},
					{
						"isprivate": "0",
						"commentid": "8034855",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-11 22:26:24 +0000",
						"thetext": "xen-4.3.3-11.fc20 has been submitted as an update for Fedora 20.\nhttps://admin.fedoraproject.org/updates/xen-4.3.3-11.fc20"
					},
					{
						"isprivate": "0",
						"commentid": "8038523",
						"comment_count": "5",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-12 21:12:01 +0000",
						"thetext": "xen-4.5.0-5.fc22 has been submitted as an update for Fedora 22.\nhttps://admin.fedoraproject.org/updates/xen-4.5.0-5.fc22"
					},
					{
						"isprivate": "0",
						"commentid": "8038577",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-12 21:57:18 +0000",
						"thetext": "xen-4.4.1-15.fc21 has been submitted as an update for Fedora 21.\nhttps://admin.fedoraproject.org/updates/xen-4.4.1-15.fc21"
					},
					{
						"isprivate": "0",
						"commentid": "8038657",
						"comment_count": "7",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-12 22:42:54 +0000",
						"thetext": "xen-4.3.3-12.fc20 has been submitted as an update for Fedora 20.\nhttps://admin.fedoraproject.org/updates/xen-4.3.3-12.fc20"
					},
					{
						"isprivate": "0",
						"commentid": "8041425",
						"comment_count": "8",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-13 17:05:45 +0000",
						"thetext": "Package xen-4.4.1-15.fc21:\n* should fix your issue,\n* was pushed to the Fedora 21 testing repository,\n* should be available at your local mirror within two days.\nUpdate it with:\n# su -c 'yum update --enablerepo=updates-testing xen-4.4.1-15.fc21'\nas soon as you are able to.\nPlease go to the following url:\nhttps://admin.fedoraproject.org/updates/FEDORA-2015-3666/xen-4.4.1-15.fc21\nthen log in and leave karma (feedback)."
					},
					{
						"isprivate": "0",
						"commentid": "8042105",
						"comment_count": "9",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-13 20:57:57 +0000",
						"thetext": "xen-4.5.0-6.fc22 has been submitted as an update for Fedora 22.\nhttps://admin.fedoraproject.org/updates/xen-4.5.0-6.fc22"
					},
					{
						"isprivate": "0",
						"commentid": "8042280",
						"comment_count": "10",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-13 22:42:24 +0000",
						"thetext": "xen-4.4.1-16.fc21 has been submitted as an update for Fedora 21.\nhttps://admin.fedoraproject.org/updates/xen-4.4.1-16.fc21"
					},
					{
						"isprivate": "0",
						"commentid": "8069255",
						"comment_count": "11",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-21 04:59:01 +0000",
						"thetext": "xen-4.5.0-6.fc22 has been pushed to the Fedora 22 stable repository.  If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "8070046",
						"comment_count": "12",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-22 04:31:43 +0000",
						"thetext": "xen-4.3.3-12.fc20 has been pushed to the Fedora 20 stable repository.  If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "8071844",
						"comment_count": "13",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-23 07:10:10 +0000",
						"thetext": "xen-4.4.1-16.fc21 has been pushed to the Fedora 21 stable repository.  If problems still persist, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1200724,
			"parent": true,
			"security": true,
			"title": "CVE-2015-2152 xen: HVM qemu unexpectedly enabling emulated VGA graphics backends (XSA 119)",
			"bugzilla": {
				"bug_id": "1200724",
				"alias": "xsa119",
				"creation_ts": "2015-03-11 09:47:56 +0000",
				"short_desc": "CVE-2015-2152 xen: HVM qemu unexpectedly enabling emulated VGA graphics backends (XSA 119)",
				"delta_ts": "2021-02-17 05:33:11 +0000",
				"bug_status": "CLOSED",
				"resolution": "NOTABUG",
				"keywords": "Security",
				"priority": "low",
				"bug_severity": "low",
				"depends_on": [
					"1201365"
				],
				"blocked": [
					{
						"bug_id": "1200725",
						"error": "NotPermitted"
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "8030573",
						"comment_count": "0",
						"who": {
							"text": "vkaigoro",
							"name": "Vasyl Kaigorodov"
						},
						"bug_when": "2015-03-11 09:47:56 +0000",
						"thetext": "ISSUE DESCRIPTION\n=================\n\nWhen instantiating an emulated VGA device for an x86 HVM guest qemu\nwill by default enable a backend to expose that device, either SDL or\nVNC depending on the version of qemu and the build time configuration.\n\nThe libxl toolstack library does not explicitly disable these default\nbackends when they are not enabled, leading to an unexpected backend\nrunning.\n\nIf either SDL or VNC is explicitly enabled in the guest configuration\nthen only the expected backends will be enabled.\n\nThis affects qemu-xen and qemu-xen-traditional differently.\n\nIf qemu-xen was compiled with SDL support then this would result in an\nSDL window being opened if $DISPLAY is valid, or a failure to start\nthe guest if not.\n\nIf qemu-xen was compiled without SDL support then qemu would instead\nstart a VNC server listening on ::1 (IPv6 localhost) or 127.0.0.1\n(IPv4 localhost) with IPv6 preferred if available. A VNC password will\nnot be configured even if one is present in the guest configuration.\n\nqemu-xen-traditional will never start a vnc backend unless explicitly\nconfigured. However by default it will start an SDL backend if it was\nbuilt with SDL support and $DISPLAY is valid.\n\n\nIMPACT\n======\n\nFor qemu-xen compiled without SDL support (unexpected VNC server):\n\nAny local user on the domain 0 hosting the VM will be able to access\nthe guest's emulated VGA console.\n\n\nFor any qemu compiled with SDL support (unexpected SDL backend):\n\nUsers who are able to control the DISPLAY environment variable of the\ntoolstack process which creates the VM will be able to direct the SDL\noutput to an X server of their choosing and from there gain access to\nthe guest's emulated console.\n\nThis is a practical attack only on systems where arrangements have\nbeen made for lower-privileged users to execute Xen toolstack code via\nmeans which do not sufficiently launder the process environment. This\nwould include some restricted sudo command configurations.\n\n\nIn both cases unexpected access to the guest console may then,\ndepending on the guest configuration, grant further privilege or\nopportunities for attack.\n\nBoth cases also open up the qemu process to attacks via the VNC or X\nnetwork protocols.\n\nThe qemu monitor is not exposed via this means unless it is explicitly\nenabled in the guest configuration.\n\n\nVULNERABLE SYSTEMS\n==================\n\nARM systems are not vulnerable.\n\nPV domains are not vulnerable.\n\nSystems where either SDL or VNC is explicitly enabled in the guest\nconfiguration (eg `sdl=1' or `vnc=1' in the guest config file) are not\nvulnerable.\n\nSystems using qemu-xen-traditional, or systems using qemu-xen where\nSDL support is built into qemu-xen, are not vulnerable; unless the Xen\ntoolstack code runs in a process environment partially controlled by\npotential attackers.\n\nx86 systems running HVM domains, configured to disable both SDL and\nVNC access to the emulated VGA device, may be vulnerable.\n\nVersions of Xen from 4.2 onwards are known to be affected. Older\nversions have not been inspected.\n\n\nMITIGATION\n==========\n\nRunning qemu in a stub domain will avoid this issue.\n\nSetting nographic to true on the domain (i.e. nographic=1 in an xl\nconfiguration file) will completely disable the emulated VGA device\nand therefore avoid this issue. (NB that publicly visible deployment\nof this mitigation during the embargo is forbidden.)\n\nIn order to disable the backends while retaining the emulated VGA then\nprepending \"-vnc none -display none\" to the qemu-xen command-line or\n\"-vnc none\" to the qemu-xen-traditional command-line, using e.g. a\nwrapper script will avoid the issue. Note that the \"extra_hvm\" option\nexposed by the libxl library is not useful because it appends the\ngiven options making them ineffective in this case.\n\nStatement:\n\nNot vulnerable. This issue did not affect the versions of xen as shipped with Red Hat Enterprise Linux 5 as they did not include affected libxc library."
					},
					{
						"isprivate": "0",
						"commentid": "8037192",
						"comment_count": "1",
						"who": {
							"text": "mprpic",
							"name": "Martin Prpič"
						},
						"bug_when": "2015-03-12 14:49:44 +0000",
						"thetext": "External References:\n\nhttp://xenbits.xen.org/xsa/advisory-119.html"
					},
					{
						"isprivate": "0",
						"commentid": "8037198",
						"comment_count": "2",
						"who": {
							"text": "mprpic",
							"name": "Martin Prpič"
						},
						"bug_when": "2015-03-12 14:51:23 +0000",
						"thetext": "\nCreated xen tracking bugs for this issue:\n\nAffects: fedora-all [bug 1201365]"
					}
				]
			}
		},
		{
			"bug_id": 1201365,
			"security": true,
			"title": "CVE-2015-2152 xen: HVM qemu unexpectedly enabling emulated VGA graphics backends (XSA 119) [fedora-all]",
			"bugzilla": {
				"bug_id": "1201365",
				"creation_ts": "2015-03-12 14:51:15 +0000",
				"short_desc": "CVE-2015-2152 xen: HVM qemu unexpectedly enabling emulated VGA graphics backends (XSA 119) [fedora-all]",
				"delta_ts": "2015-03-23 07:10:09 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security, SecurityTracking",
				"priority": "low",
				"bug_severity": "low",
				"blocked": [
					{
						"bug_id": "1200724",
						"alias": "xsa119",
						"creation_ts": "2015-03-11 09:47:56 +0000",
						"short_desc": "CVE-2015-2152 xen: HVM qemu unexpectedly enabling emulated VGA graphics backends (XSA 119)",
						"delta_ts": "2021-02-17 05:33:11 +0000",
						"bug_status": "CLOSED",
						"resolution": "NOTABUG",
						"keywords": "Security",
						"priority": "low",
						"bug_severity": "low",
						"depends_on": [
							"1201365"
						],
						"blocked": [
							{
								"bug_id": "1200725",
								"error": "NotPermitted"
							}
						],
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "8030573",
								"comment_count": "0",
								"who": {
									"text": "vkaigoro",
									"name": "Vasyl Kaigorodov"
								},
								"bug_when": "2015-03-11 09:47:56 +0000",
								"thetext": "ISSUE DESCRIPTION\n=================\n\nWhen instantiating an emulated VGA device for an x86 HVM guest qemu\nwill by default enable a backend to expose that device, either SDL or\nVNC depending on the version of qemu and the build time configuration.\n\nThe libxl toolstack library does not explicitly disable these default\nbackends when they are not enabled, leading to an unexpected backend\nrunning.\n\nIf either SDL or VNC is explicitly enabled in the guest configuration\nthen only the expected backends will be enabled.\n\nThis affects qemu-xen and qemu-xen-traditional differently.\n\nIf qemu-xen was compiled with SDL support then this would result in an\nSDL window being opened if $DISPLAY is valid, or a failure to start\nthe guest if not.\n\nIf qemu-xen was compiled without SDL support then qemu would instead\nstart a VNC server listening on ::1 (IPv6 localhost) or 127.0.0.1\n(IPv4 localhost) with IPv6 preferred if available. A VNC password will\nnot be configured even if one is present in the guest configuration.\n\nqemu-xen-traditional will never start a vnc backend unless explicitly\nconfigured. However by default it will start an SDL backend if it was\nbuilt with SDL support and $DISPLAY is valid.\n\n\nIMPACT\n======\n\nFor qemu-xen compiled without SDL support (unexpected VNC server):\n\nAny local user on the domain 0 hosting the VM will be able to access\nthe guest's emulated VGA console.\n\n\nFor any qemu compiled with SDL support (unexpected SDL backend):\n\nUsers who are able to control the DISPLAY environment variable of the\ntoolstack process which creates the VM will be able to direct the SDL\noutput to an X server of their choosing and from there gain access to\nthe guest's emulated console.\n\nThis is a practical attack only on systems where arrangements have\nbeen made for lower-privileged users to execute Xen toolstack code via\nmeans which do not sufficiently launder the process environment. This\nwould include some restricted sudo command configurations.\n\n\nIn both cases unexpected access to the guest console may then,\ndepending on the guest configuration, grant further privilege or\nopportunities for attack.\n\nBoth cases also open up the qemu process to attacks via the VNC or X\nnetwork protocols.\n\nThe qemu monitor is not exposed via this means unless it is explicitly\nenabled in the guest configuration.\n\n\nVULNERABLE SYSTEMS\n==================\n\nARM systems are not vulnerable.\n\nPV domains are not vulnerable.\n\nSystems where either SDL or VNC is explicitly enabled in the guest\nconfiguration (eg `sdl=1' or `vnc=1' in the guest config file) are not\nvulnerable.\n\nSystems using qemu-xen-traditional, or systems using qemu-xen where\nSDL support is built into qemu-xen, are not vulnerable; unless the Xen\ntoolstack code runs in a process environment partially controlled by\npotential attackers.\n\nx86 systems running HVM domains, configured to disable both SDL and\nVNC access to the emulated VGA device, may be vulnerable.\n\nVersions of Xen from 4.2 onwards are known to be affected. Older\nversions have not been inspected.\n\n\nMITIGATION\n==========\n\nRunning qemu in a stub domain will avoid this issue.\n\nSetting nographic to true on the domain (i.e. nographic=1 in an xl\nconfiguration file) will completely disable the emulated VGA device\nand therefore avoid this issue. (NB that publicly visible deployment\nof this mitigation during the embargo is forbidden.)\n\nIn order to disable the backends while retaining the emulated VGA then\nprepending \"-vnc none -display none\" to the qemu-xen command-line or\n\"-vnc none\" to the qemu-xen-traditional command-line, using e.g. a\nwrapper script will avoid the issue. Note that the \"extra_hvm\" option\nexposed by the libxl library is not useful because it appends the\ngiven options making them ineffective in this case.\n\nStatement:\n\nNot vulnerable. This issue did not affect the versions of xen as shipped with Red Hat Enterprise Linux 5 as they did not include affected libxc library."
							},
							{
								"isprivate": "0",
								"commentid": "8037192",
								"comment_count": "1",
								"who": {
									"text": "mprpic",
									"name": "Martin Prpič"
								},
								"bug_when": "2015-03-12 14:49:44 +0000",
								"thetext": "External References:\n\nhttp://xenbits.xen.org/xsa/advisory-119.html"
							},
							{
								"isprivate": "0",
								"commentid": "8037198",
								"comment_count": "2",
								"who": {
									"text": "mprpic",
									"name": "Martin Prpič"
								},
								"bug_when": "2015-03-12 14:51:23 +0000",
								"thetext": "\nCreated xen tracking bugs for this issue:\n\nAffects: fedora-all [bug 1201365]"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "8037196",
						"comment_count": "0",
						"who": {
							"text": "mprpic",
							"name": "Martin Prpič"
						},
						"bug_when": "2015-03-12 14:51:15 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof Fedora.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate.\n\n[bug automatically created by: add-tracking-bugs]"
					},
					{
						"isprivate": "0",
						"commentid": "8037197",
						"comment_count": "1",
						"who": {
							"text": "mprpic",
							"name": "Martin Prpič"
						},
						"bug_when": "2015-03-12 14:51:21 +0000",
						"thetext": "\nUse the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1200724,1201365\n\n# Description of your update\nnotes=Security fix for CVE-2015-2152, xsa119\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi update submission link instead:\n\nhttps://admin.fedoraproject.org/updates/new/?type_=security&bugs=1200724,1201365"
					},
					{
						"isprivate": "0",
						"commentid": "8038522",
						"comment_count": "2",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-12 21:12:00 +0000",
						"thetext": "xen-4.5.0-5.fc22 has been submitted as an update for Fedora 22.\nhttps://admin.fedoraproject.org/updates/xen-4.5.0-5.fc22"
					},
					{
						"isprivate": "0",
						"commentid": "8038575",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-12 21:57:16 +0000",
						"thetext": "xen-4.4.1-15.fc21 has been submitted as an update for Fedora 21.\nhttps://admin.fedoraproject.org/updates/xen-4.4.1-15.fc21"
					},
					{
						"isprivate": "0",
						"commentid": "8038655",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-12 22:42:52 +0000",
						"thetext": "xen-4.3.3-12.fc20 has been submitted as an update for Fedora 20.\nhttps://admin.fedoraproject.org/updates/xen-4.3.3-12.fc20"
					},
					{
						"isprivate": "0",
						"commentid": "8041424",
						"comment_count": "5",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-13 17:05:42 +0000",
						"thetext": "Package xen-4.4.1-15.fc21:\n* should fix your issue,\n* was pushed to the Fedora 21 testing repository,\n* should be available at your local mirror within two days.\nUpdate it with:\n# su -c 'yum update --enablerepo=updates-testing xen-4.4.1-15.fc21'\nas soon as you are able to.\nPlease go to the following url:\nhttps://admin.fedoraproject.org/updates/FEDORA-2015-3666/xen-4.4.1-15.fc21\nthen log in and leave karma (feedback)."
					},
					{
						"isprivate": "0",
						"commentid": "8042104",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-13 20:57:56 +0000",
						"thetext": "xen-4.5.0-6.fc22 has been submitted as an update for Fedora 22.\nhttps://admin.fedoraproject.org/updates/xen-4.5.0-6.fc22"
					},
					{
						"isprivate": "0",
						"commentid": "8042279",
						"comment_count": "7",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-13 22:42:22 +0000",
						"thetext": "xen-4.4.1-16.fc21 has been submitted as an update for Fedora 21.\nhttps://admin.fedoraproject.org/updates/xen-4.4.1-16.fc21"
					},
					{
						"isprivate": "0",
						"commentid": "8069254",
						"comment_count": "8",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-21 04:58:58 +0000",
						"thetext": "xen-4.5.0-6.fc22 has been pushed to the Fedora 22 stable repository.  If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "8070045",
						"comment_count": "9",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-22 04:31:41 +0000",
						"thetext": "xen-4.3.3-12.fc20 has been pushed to the Fedora 20 stable repository.  If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "8071843",
						"comment_count": "10",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-03-23 07:10:09 +0000",
						"thetext": "xen-4.4.1-16.fc21 has been pushed to the Fedora 21 stable repository.  If problems still persist, please make note of it in this bug report."
					}
				]
			}
		}
	],
	"builds": [
		{
			"nvr": "xen-4.5.0-5.fc22",
			"signed": true,
			"type": "rpm",
			"package": {
				"i686": [
					{
						"name": "xen-doc",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "i686"
					},
					{
						"name": "xen-licenses",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "i686"
					},
					{
						"name": "xen-runtime",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "i686"
					},
					{
						"name": "xen-ocaml-devel",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "i686"
					},
					{
						"name": "xen",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "i686"
					},
					{
						"name": "xen-debuginfo",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "i686"
					},
					{
						"name": "xen-libs",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "i686"
					},
					{
						"name": "xen-devel",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "i686"
					},
					{
						"name": "xen-ocaml",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "i686"
					},
					{
						"name": "xen-hypervisor",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "i686"
					}
				],
				"src": [
					{
						"name": "xen",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "src"
					}
				],
				"x86_64": [
					{
						"name": "xen-runtime",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "x86_64"
					},
					{
						"name": "xen-ocaml-devel",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "x86_64"
					},
					{
						"name": "xen-hypervisor",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "x86_64"
					},
					{
						"name": "xen-ocaml",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "x86_64"
					},
					{
						"name": "xen-licenses",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "x86_64"
					},
					{
						"name": "xen-doc",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "x86_64"
					},
					{
						"name": "xen-libs",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "x86_64"
					},
					{
						"name": "xen",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "x86_64"
					},
					{
						"name": "xen-debuginfo",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "x86_64"
					},
					{
						"name": "xen-devel",
						"version": "4.5.0",
						"release": "5.fc22",
						"arch": "x86_64"
					}
				]
			}
		}
	],
	"close_bugs": true,
	"comments": [
		{
			"id": 123484,
			"text": "This update has been submitted for testing by myoung. ",
			"timestamp": "2015-03-12 21:12:05",
			"update_id": 16654,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 123485,
			"text": "This update is currently being pushed to the Fedora 22 testing updates repository.",
			"timestamp": "2015-03-13 03:34:35",
			"update_id": 16654,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 123486,
			"text": "This update has been pushed to testing",
			"timestamp": "2015-03-13 17:28:59",
			"update_id": 16654,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 123487,
			"karma": 1,
			"text": "works",
			"timestamp": "2015-03-13 20:25:13",
			"update_id": 16654,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/2f2b587171cdabe19e85c9fdbad151effb8675add0763640b9fd57bb67c02e65?s=24&d=retro",
				"email": "smithpeter835@yahoo.co.uk",
				"groups": [
					{
						"name": "ipausers"
					}
				],
				"id": 506,
				"name": "smithp",
				"openid": "smithp.id.fedoraproject.org"
			},
			"user_id": 506
		},
		{
			"id": 123488,
			"text": "This update has been obsoleted by https://admin.fedoraproject.org/updates/xen-4.5.0-6.fc22",
			"timestamp": "2015-03-13 20:57:51",
			"update_id": 16654,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		}
	],
	"content_type": "rpm",
	"date_pushed": "2015-03-13 17:28:59",
	"date_submitted": "2015-03-12 21:10:51",
	"date_testing": "2015-03-13 17:28:59",
	"karma": 1,
	"meets_testing_requirements": true,
	"notes": "HVM qemu unexpectedly enabling emulated VGA graphics backends [XSA-119, CVE-2015-2152]\nHypervisor memory corruption due to x86 emulator flaw [XSA-123, CVE-2015-2151]\nInformation leak via internal x86 system device emulation, Information leak through version information hypercall, fix a typo in xen.fedora.systemd.patch",
	"pushed": true,
	"release": {
		"branch": "f22",
		"candidate_tag": "f22-updates-candidate",
		"composed_by_bodhi": true,
		"dist_tag": "f22",
		"id_prefix": "FEDORA",
		"long_name": "Fedora 22",
		"mail_template": "fedora_errata_template",
		"name": "F22",
		"override_tag": "f22-override",
		"package_manager": "dnf",
		"pending_stable_tag": "f22-updates-pending",
		"pending_testing_tag": "f22-updates-testing-pending",
		"stable_tag": "f22-updates",
		"state": "archived",
		"testing_repository": "updates-testing",
		"testing_tag": "f22-updates-testing",
		"version": "22"
	},
	"severity": "unspecified",
	"stable_karma": 3,
	"status": "obsolete",
	"suggest": "unspecified",
	"title": "xen-4.5.0-5.fc22",
	"type": "security",
	"url": "https://bodhi.fedoraproject.org/updates/FEDORA-2015-3820",
	"unstable_karma": -3,
	"updateid": "FEDORA-2015-3820",
	"user": {
		"avatar": "https://seccdn.libravatar.org/avatar/452c109725b44d08b366f9b865d80b0ed8e42a74addb73d34d139d0bdba27b63?s=24&d=retro",
		"email": "m.a.young@durham.ac.uk",
		"groups": [
			{
				"name": "packager"
			},
			{
				"name": "ipausers"
			},
			{
				"name": "fedora-contributor"
			},
			{
				"name": "signed_fpca"
			},
			{
				"name": "fedorabugs"
			},
			{
				"name": "trust admins"
			}
		],
		"id": 129,
		"name": "myoung",
		"openid": "myoung.id.fedoraproject.org"
	},
	"version_hash": "e08bc509ac93bf4c2598ea7ec3e4185ecd4d8bac"
}
