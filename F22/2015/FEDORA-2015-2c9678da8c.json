{
	"alias": "FEDORA-2015-2c9678da8c",
	"autokarma": true,
	"bugs": [
		{
			"bug_id": 1062943,
			"title": "libvirt can not start a VM with non-ACSII chars name: Invalid machine name (from systemd)",
			"bugzilla": {
				"bug_id": "1062943",
				"creation_ts": "2014-02-09 03:39:39 +0000",
				"short_desc": "libvirt can not start a VM with non-ACSII chars name: Invalid machine name (from systemd)",
				"delta_ts": "2016-04-26 13:37:18 +0000",
				"bug_status": "CLOSED",
				"resolution": "CURRENTRELEASE",
				"keywords": "Reopened",
				"priority": "unspecified",
				"bug_severity": "unspecified",
				"blocked": [
					{
						"bug_id": "1282846",
						"creation_ts": "2015-11-17 15:49:30 +0000",
						"short_desc": "libvirt can not start a VM with non-ACSII or long names: Invalid machine name (from systemd)",
						"delta_ts": "2019-10-10 10:30:54 +0000",
						"bug_status": "CLOSED",
						"resolution": "ERRATA",
						"keywords": "Upstream, ZStream",
						"priority": "urgent",
						"bug_severity": "high",
						"depends_on": [
							"1062943",
							"1285720"
						],
						"blocked": [
							{
								"bug_id": "1203710",
								"error": "NotPermitted"
							},
							{
								"bug_id": "1260131",
								"creation_ts": "2015-09-04 13:44:34 +0000",
								"short_desc": "RHEV does not support Cyrillic characters as Virtual Machine name",
								"delta_ts": "2023-10-06 17:29:54 +0000",
								"bug_status": "CLOSED",
								"resolution": "ERRATA",
								"keywords": "Reopened, Triaged, ZStream",
								"priority": "high",
								"bug_severity": "medium",
								"depends_on": [
									"1249130",
									"1281940",
									"1282846",
									"1285720",
									"1308494"
								],
								"blocked": [
									{
										"bug_id": "1276906",
										"creation_ts": "2015-11-01 07:08:19 +0000",
										"short_desc": "RHEV does not support Cyrillic characters as Virtual Machine name",
										"delta_ts": "2022-07-13 07:35:17 +0000",
										"bug_status": "CLOSED",
										"resolution": "WONTFIX",
										"keywords": "Reopened",
										"priority": "unspecified",
										"bug_severity": "medium",
										"depends_on": [
											"1260131"
										],
										"external_bugs": {
											"text": "48542",
											"name": "oVirt gerrit"
										},
										"long_desc": [
											{
												"isprivate": "0",
												"commentid": "8791136",
												"comment_count": "1",
												"who": {
													"text": "acanan",
													"name": "Aharon Canan"
												},
												"bug_when": "2015-11-04 16:31:57 +0000",
												"thetext": "Verified using vt18\n\n- VM can not be created if Russian characters are used in Disk Alias Field.\nWorks fine\n- VM can not not be started if Russian characters are used in VM Name Field.\nStill can't start the VM\n\nfrom engine log - \n=================\n2015-11-04 18:28:19,678 ERROR [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (DefaultQuartzScheduler_Worker-57) Correlation ID: null, Call Stack: null, Custom Event ID: -1, Message: VM Опишите is down with error. Exit message: 'ascii' codec can't decode byte 0xd0 in position 68: ordinal not in range(128).\n2015-11-04 18:28:19,678 INFO  [org.ovirt.engine.core.vdsbroker.VdsUpdateRunTimeInfo] (DefaultQuartzScheduler_Worker-57) Running on vds during rerun failed vm: null\n2015-11-04 18:28:19,680 INFO  [org.ovirt.engine.core.vdsbroker.VdsUpdateRunTimeInfo] (DefaultQuartzScheduler_Worker-57) VM Опишите (90be29a9-b274-46f5-a439-6ae5a1ca33c9) is running in db and not running in VDS camel-vdsb\n2015-11-04 18:28:19,971 ERROR [org.ovirt.engine.core.vdsbroker.VdsUpdateRunTimeInfo] (DefaultQuartzScheduler_Worker-57) Rerun vm 90be29a9-b274-46f5-a439-6ae5a1ca33c9. Called from vds camel-vdsb\n2015-11-04 18:28:20,093 WARN  [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (org.ovirt.thread.pool-7-thread-15) Correlation ID: 2965ccf4, Job ID: 290527ca-0caa-44c8-a460-b0713d114699, Call Stack: null, Custom Event ID: -1, Message: Failed to run VM Опишите on Host camel-vdsb.\n2015-11-04 18:28:20,109 INFO  [org.ovirt.engine.core.bll.RunVmCommand] (org.ovirt.thread.pool-7-thread-15) Lock Acquired to object EngineLock [exclusiveLocks= key: 90be29a9-b274-46f5-a439-6ae5a1ca33c9 value: VM\n, sharedLocks= ]\n2015-11-04 18:28:20,144 INFO  [org.ovirt.engine.core.vdsbroker.IsVmDuringInitiatingVDSCommand] (org.ovirt.thread.pool-7-thread-15) START, IsVmDuringInitiatingVDSCommand( vmId = 90be29a9-b274-46f5-a439-6ae5a1ca33c9), log id: 18f15bcf\n2015-11-04 18:28:20,160 INFO  [org.ovirt.engine.core.vdsbroker.IsVmDuringInitiatingVDSCommand] (org.ovirt.thread.pool-7-thread-15) FINISH, IsVmDuringInitiatingVDSCommand, return: false, log id: 18f15bcf\n2015-11-04 18:28:20,178 WARN  [org.ovirt.engine.core.bll.RunVmCommand] (org.ovirt.thread.pool-7-thread-15) CanDoAction of action RunVm failed for user admin@internal. Reasons: VAR__ACTION__RUN,VAR__TYPE__VM,VAR__ACTION__RUN,VAR__TYPE__VM,VAR__ACTION__RUN,VAR__TYPE__VM,SCHEDULING_NO_HOSTS\n\n\n\nI am not sure I understand, do we support or should block ? anyway we are not blocking nor supporting..."
											},
											{
												"isprivate": "0",
												"commentid": "8791156",
												"comment_count": "2",
												"who": {
													"text": "acanan",
													"name": "Aharon Canan"
												},
												"bug_when": "2015-11-04 16:33:09 +0000",
												"thetext": "Wrote by mistake verified in comment #1"
											},
											{
												"isprivate": "0",
												"commentid": "8794010",
												"comment_count": "3",
												"who": {
													"text": "eedri",
													"name": "Eyal Edri"
												},
												"bug_when": "2015-11-05 08:28:50 +0000",
												"thetext": "if this isn't a blocker and still open please move to 3.5.7."
											},
											{
												"isprivate": "0",
												"commentid": "8794122",
												"comment_count": "4",
												"who": {
													"text": "tnisan",
													"name": "Tal Nisan"
												},
												"bug_when": "2015-11-05 09:09:36 +0000",
												"thetext": "since the storage part is fixed and only the virt part of the VM name and starting the VM is left I'm moving to virt (see also Bug #1260131)"
											},
											{
												"isprivate": "0",
												"commentid": "8817845",
												"comment_count": "6",
												"who": {
													"text": "mzamazal",
													"name": "Milan Zamazal"
												},
												"bug_when": "2015-11-13 11:28:51 +0000",
												"thetext": "As for VM name:\n- VDSM crashes in logging code (I'll fix it).\n- libvirt fails to create domain with non-ASCII characters in its name, see https://bugzilla.redhat.com/show_bug.cgi?id=1062943"
											},
											{
												"isprivate": "0",
												"commentid": "8818141",
												"comment_count": "7",
												"who": {
													"text": "michal.skrivanek",
													"name": "Michal Skrivanek"
												},
												"bug_when": "2015-11-13 13:07:06 +0000",
												"thetext": "according to https://bugzilla.redhat.com/show_bug.cgi?id=1191835#c1 it seems to be broken since Fedora 20, so I guess all RHEL 7 hypervisors are affected"
											},
											{
												"isprivate": "0",
												"commentid": "8818306",
												"comment_count": "8",
												"who": {
													"text": "michal.skrivanek",
													"name": "Michal Skrivanek"
												},
												"bug_when": "2015-11-13 14:02:01 +0000",
												"thetext": "unlikely to be fixed within 3.5.z timeframe, I propose closing wontfix"
											},
											{
												"isprivate": "0",
												"commentid": "8867653",
												"comment_count": "9",
												"who": {
													"text": "mgoldboi",
													"name": "Moran Goldboim"
												},
												"bug_when": "2015-11-29 14:32:49 +0000",
												"thetext": "(In reply to Michal Skrivanek from comment #8)\n> unlikely to be fixed within 3.5.z timeframe, I propose closing wontfix\n\nclosing this one since it introduces a risk for zstream due to the change needed. \nthis bug is being addressed on 3.6 release."
											}
										]
									},
									{
										"bug_id": "1323140",
										"creation_ts": "2016-04-01 11:14:48 +0000",
										"short_desc": "[z-stream clone - 3.6.5] RHEV does not support Cyrillic characters as Virtual Machine name",
										"delta_ts": "2019-10-10 11:44:48 +0000",
										"bug_status": "CLOSED",
										"resolution": "ERRATA",
										"keywords": "Reopened, Triaged, ZStream",
										"priority": "high",
										"bug_severity": "medium",
										"depends_on": [
											"1260131"
										],
										"external_bugs": {
											"text": "55570",
											"name": "oVirt gerrit"
										},
										"long_desc": [
											{
												"isprivate": "0",
												"commentid": "9224592",
												"comment_count": "1",
												"who": {
													"text": "michal.skrivanek",
													"name": "Michal Skrivanek"
												},
												"bug_when": "2016-04-11 08:42:41 +0000",
												"thetext": "*** Bug 1325723 has been marked as a duplicate of this bug. ***"
											},
											{
												"isprivate": "0",
												"commentid": "9228840",
												"comment_count": "2",
												"who": {
													"text": "nsednev",
													"name": "Nikolai Sednev"
												},
												"bug_when": "2016-04-12 11:13:38 +0000",
												"thetext": "Works for me on these components:\nEngine:\nrhevm-3.6.5.1-0.1.el6.noarch\nLinux 2.6.32-573.8.1.el6.x86_64 #1 SMP Fri Sep 25 19:24:22 EDT 2015 x86_64 x86_64 x86_64 GNU/Linux\nRed Hat Enterprise Linux Server release 6.7 (Santiago)\n\nHost:\novirt-vmconsole-1.0.0-1.el7ev.noarch\nmom-0.5.2-1.el7ev.noarch\nqemu-kvm-rhev-2.3.0-31.el7_2.11.x86_64\nsanlock-3.2.4-2.el7_2.x86_64\nlibvirt-client-1.2.17-13.el7_2.4.x86_64\novirt-vmconsole-host-1.0.0-1.el7ev.noarch\nvdsm-4.17.23-0.el7ev.noarch\nLinux  3.10.0-327.el7.x86_64 #1 SMP Thu Oct 29 17:29:29 EDT 2015 x86_64 x86_64 x86_64 GNU/Linux\nRed Hat Enterprise Linux Server release 7.2 (Maipo)\n\nI've created the VM named \"ожидаемые\" with disk named \"ожидаемые\", also gave comments and description to the VM as \"ожидаемые\". The VM started normally without any issues.\nI've also tried to use Hebrew naming and named another VM \"שמוליק\" with description and comment named with the same name, the VM started OK, the disk was named \"שמוליק\" too."
											},
											{
												"isprivate": "0",
												"commentid": "9265793",
												"comment_count": "3",
												"who": {
													"text": "eedri",
													"name": "Eyal Edri"
												},
												"bug_when": "2016-04-25 14:37:53 +0000",
												"thetext": "All patches are VDSM, not ovirt-engine, fixing component.\nExternal trackers must match product/component"
											},
											{
												"isprivate": "0",
												"commentid": "9269620",
												"comment_count": "6",
												"who": {
													"text": "michal.skrivanek",
													"name": "Michal Skrivanek"
												},
												"bug_when": "2016-04-26 14:08:23 +0000",
												"thetext": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttps://rhn.redhat.com/errata/RHBA-2016-0660.html"
											}
										]
									}
								],
								"external_bugs": {
									"text": "RHEA-2016:1743",
									"name": "Red Hat Product Errata"
								},
								"long_desc": [
									{
										"isprivate": "0",
										"commentid": "8606631",
										"comment_count": "0",
										"who": {
											"text": "rmcswain",
											"name": "Robert McSwain"
										},
										"bug_when": "2015-09-04 13:44:34 +0000",
										"thetext": "Опишите проблему и ожидаемые результаты\n\nIf Cyrillic characters are used as Virtual Machine name, a VM is either can not be created or started:\n1.  A new VM can not be created if Russian characters are used in VM Name filed. It fails on disk creating stage with Russian letters:\n2015-08-31 04:44:03,802 INFO [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (ajp-/127.0.0.1:8702-23) [58150bb1] Correlation ID: 613a0c7c, Job ID: 2567f4bf-0647-40ec-ba54-e5d1494187b1, Call Stack: null, Custom Event ID: -1, Message: Add-Disk operation of РусВирт_Disk1 was initiated on VM РусВирт by admin@internal.\n2015-08-31 04:44:03,803 INFO [org.ovirt.engine.core.bll.tasks.SPMAsyncTask] (ajp-/127.0.0.1:8702-23) [58150bb1] BaseAsyncTask::startPollingTask: Starting to poll task 7608c008-8766-4631-a00e-1de3ac331a6c.\n2015-08-31 04:44:13,111 INFO [org.ovirt.engine.core.bll.tasks.AsyncTaskManager] (DefaultQuartzScheduler_Worker-9) [d627b7d] Polling and updating Async Tasks: 1 tasks, 1 tasks to poll now\n2015-08-31 04:44:13,116 ERROR [org.ovirt.engine.core.vdsbroker.vdsbroker.HSMGetAllTasksStatusesVDSCommand] (DefaultQuartzScheduler_Worker-9) [d627b7d] Failed in HSMGetAllTasksStatusesVDS method\n2015-08-31 04:44:13,116 INFO [org.ovirt.engine.core.bll.tasks.SPMAsyncTask] (DefaultQuartzScheduler_Worker-9) [d627b7d] SPMAsyncTask:ollTask: Polling task 7608c008-8766-4631-a00e-1de3ac331a6c (Parent Command AddDisk, Parameters Type org.ovirt.engine.core.common.asynctasks.AsyncTaskParameters) returned status finished, result 'cleanSuccess'.\n2015-08-31 04:44:13,137 ERROR [org.ovirt.engine.core.bll.tasks.SPMAsyncTask] (DefaultQuartzScheduler_Worker-9) [d627b7d] BaseAsyncTask::logEndTaskFailure: Task 7608c008-8766-4631-a00e-1de3ac331a6c (Parent Command AddDisk, Parameters Type org.ovirt.engine.core.common.asynctasks.AsyncTaskParameters) ended with failure:\n-- Result: cleanSuccess\n-- Message: VDSGenericException: VDSErrorException: Failed to HSMGetAllTasksStatusesVDS, error = Error creating a new volume, code = 205,\n-- Exception: VDSGenericException: VDSErrorException: Failed to HSMGetAllTasksStatusesVDS, error = Error creating a new volume, code = 205\n\n2. Run a VM which contains Russian characters in VM Name filed. Creation process  completes successfully if English characters are used in Disk Alias Name (either a new VM creation process or based from Template): \n\n2015-08-31 04:39:08,683 ERROR [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (DefaultQuartzScheduler_Worker-46) [26cbfe44] Correlation ID: null, Call Stack: null, Custom Event ID: -1, Message: VM рус_лин is down with error. Exit message: 'ascii' codec can't decode byte 0xd1 in position 67: ordinal not in range(128)\n\nОпишите окружение, в котором вы столкнулись в вышеописанной проблемой\n\n1. Default RHEL 7.1 installation (as hypervisor)\n2. RHEV-M virtual appliance (as self-hosted engine).\n\nРасскажите, когда это случилось. Это произошло один раз или повторяется регулярно?\n\nIt happens regularly:\n- VM can not be created if Russian characters are used in Disk Alias Field.\n- VM can not not be started if Russian characters are used in VM Name Field.\n\nОбоснуйте срочность запроса\n\nRussian characters support in RHEV is a part of Red Hat UI localization process in Russian language driven by Globalization Operations Team and managed by Michelle Kim."
									},
									{
										"isprivate": "0",
										"commentid": "8609003",
										"comment_count": "1",
										"who": {
											"text": "amureini",
											"name": "Allon Mureinik"
										},
										"bug_when": "2015-09-06 09:15:17 +0000",
										"thetext": "The disk's alias and description are saved in the volume's metadata, which, unfortunately does not handle non-ascii characters properly.\n\nBug 1249130 will already address this, closing as a duplicate.\n\n*** This bug has been marked as a duplicate of bug 1249130 ***"
									},
									{
										"isprivate": "0",
										"commentid": "8615889",
										"comment_count": "2",
										"who": {
											"text": "amureini",
											"name": "Allon Mureinik"
										},
										"bug_when": "2015-09-08 16:03:15 +0000",
										"thetext": "Actually, bug 1249130 is an oVirt bug. I'm reopening and we'll use this BZ to track for the relevant RHEV release(s)."
									},
									{
										"isprivate": "0",
										"commentid": "8766001",
										"comment_count": "3",
										"who": {
											"text": "eedri",
											"name": "Eyal Edri"
										},
										"bug_when": "2015-10-29 14:50:30 +0000",
										"thetext": "allon,\nthis bug has both rhevm-3.5.z and rhevm-3.6.0 flags, which means\nits a clone candidate and wasn't fixed/cloned to 3.5.\n\ncan you clarify the status or fix flags?"
									},
									{
										"isprivate": "0",
										"commentid": "8766118",
										"comment_count": "4",
										"who": {
											"text": "amureini",
											"name": "Allon Mureinik"
										},
										"bug_when": "2015-10-29 15:06:40 +0000",
										"thetext": "(In reply to Eyal Edri from comment #3)\n> allon,\n> this bug has both rhevm-3.5.z and rhevm-3.6.0 flags, which means\n> its a clone candidate and wasn't fixed/cloned to 3.5.\n> \n> can you clarify the status or fix flags?\nIdan/Tal?"
									},
									{
										"isprivate": "0",
										"commentid": "8771225",
										"comment_count": "5",
										"who": {
											"text": "amureini",
											"name": "Allon Mureinik"
										},
										"bug_when": "2015-11-01 07:07:11 +0000",
										"thetext": "(In reply to Allon Mureinik from comment #4)\n> (In reply to Eyal Edri from comment #3)\n> > allon,\n> > this bug has both rhevm-3.5.z and rhevm-3.6.0 flags, which means\n> > its a clone candidate and wasn't fixed/cloned to 3.5.\n> > \n> > can you clarify the status or fix flags?\n> Idan/Tal?\nTalked to Idan. This bug should be solved by the same patch as oVirt's bug 1249130 (where we don't clone), but it was left open as the scenario is slightly different and should be verified independently. Also, we can't mark RHEV bugs as duplicates of oVirt bugs (see comment 2).\n\nNow that this one has all the acks, it can be properly cloned to a z-stream bug."
									},
									{
										"isprivate": "0",
										"commentid": "8771229",
										"comment_count": "7",
										"who": {
											"text": "amureini",
											"name": "Allon Mureinik"
										},
										"bug_when": "2015-11-01 07:10:36 +0000",
										"thetext": "Yaniv, Aharon - I reset the component to the right one, which removed your ack.\nPlease re-instate them."
									},
									{
										"isprivate": "0",
										"commentid": "8771515",
										"comment_count": "9",
										"who": {
											"text": "ngavrilo",
											"name": "Natalie Gavrielov"
										},
										"bug_when": "2015-11-01 15:44:30 +0000",
										"thetext": "Created a VM with Cyrillic characters as a VM name, the VM was created but failed to start, getting the following messages:\n\n2015-11-01 15:38:18,277 ERROR [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (ForkJoinPool-1-worker-11) [] Correlation ID: null, Call Stack: null, Custom Event ID: -1, Message: VM Опишите is down with error. Exit message: 'ascii' codec can't decode byte 0xd0 in position 111: ordinal not in range(128).\n2015-11-01 15:38:18,287 ERROR [org.ovirt.engine.core.vdsbroker.VmsMonitoring] (ForkJoinPool-1-worker-11) [] Rerun VM '22ee032b-7371-40e8-a1b8-098a8a0ede63'. Called from VDS 'aqua-vds5'\n2015-11-01 15:38:24,809 ERROR [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (DefaultQuartzScheduler_Worker-20) [] Correlation ID: null, Call Stack: null, Custom Event ID: -1, Message: VM Опишите is down with error. Exit message: 'ascii' codec can't decode byte 0xd0 in position 111: ordinal not in range(128).\n2015-11-01 15:38:24,831 ERROR [org.ovirt.engine.core.vdsbroker.VmsMonitoring] (DefaultQuartzScheduler_Worker-20) [] Rerun VM '22ee032b-7371-40e8-a1b8-098a8a0ede63'. Called from VDS 'aqua-vds4'\n2015-11-01 15:38:25,005 ERROR [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (org.ovirt.thread.pool-7-thread-7) [] Correlation ID: 532ee162, Job ID: be231f59-5f78-4e93-90d0-9295351fc101, Call Stack: null, Custom Event ID: -1, Message: Failed to run VM Опишите (User: admin@internal).\n\nTested version:\nrhevm-3.6.0.2-0.1.el6.noarch"
									},
									{
										"isprivate": "0",
										"commentid": "8771516",
										"comment_count": "10",
										"who": {
											"text": "ngavrilo",
											"name": "Natalie Gavrielov"
										},
										"bug_when": "2015-11-01 15:48:09 +0000",
										"thetext": "Created attachment 1088367\nengine.log 3.6.0.2"
									},
									{
										"isprivate": "0",
										"commentid": "8771537",
										"comment_count": "11",
										"who": {
											"text": "amureini",
											"name": "Allon Mureinik"
										},
										"bug_when": "2015-11-01 16:17:25 +0000",
										"thetext": "Tal, Idan, please take a look."
									},
									{
										"isprivate": "0",
										"commentid": "8777619",
										"comment_count": "12",
										"who": {
											"text": "ishaby",
											"name": "Idan Shaby"
										},
										"bug_when": "2015-11-03 09:34:45 +0000",
										"thetext": "Hi,\n\n1. I created a vm named ожидаемые with a disk named simple_alias.\nThe creation went ok but the vm didn't start. It failed with the error mentioned above.\n\n2. I created a vm named vm1 with a disk named ожидаемые.\nThe creation went ok and the vm started and moved to up status as expected.\n\nIMHO, there's no storage issue here."
									},
									{
										"isprivate": "0",
										"commentid": "8777627",
										"comment_count": "13",
										"who": {
											"text": "tnisan",
											"name": "Tal Nisan"
										},
										"bug_when": "2015-11-03 09:36:42 +0000",
										"thetext": "Moving to virt based on Idan's comment"
									},
									{
										"isprivate": "0",
										"commentid": "8811243",
										"comment_count": "14",
										"who": {
											"text": "michal.skrivanek",
											"name": "Michal Skrivanek"
										},
										"bug_when": "2015-11-11 15:28:33 +0000",
										"thetext": "(In reply to Natalie Gavrielov from comment #10)\n> Created attachment 1088367 [details]\n> engine.log 3.6.0.2\n\nSince the message is reported from vdsm and possibly from underlying components, please include logs from vdsm, libvirt and qemu as well\nThanks!"
									},
									{
										"isprivate": "0",
										"commentid": "8817837",
										"comment_count": "15",
										"who": {
											"text": "mzamazal",
											"name": "Milan Zamazal"
										},
										"bug_when": "2015-11-13 11:25:17 +0000",
										"thetext": "I identified two bugs regarding this problem:\n- VDSM crashes in logging code (I'll fix this one).\n- libvirt fails to create domain with non-ASCII characters, see https://bugzilla.redhat.com/show_bug.cgi?id=1062943"
									},
									{
										"isprivate": "0",
										"commentid": "8818350",
										"comment_count": "16",
										"who": {
											"text": "nsoffer",
											"name": "Nir Soffer"
										},
										"bug_when": "2015-11-13 14:25:29 +0000",
										"thetext": "(In reply to Milan Zamazal from comment #15)\n> I identified two bugs regarding this problem:\n> - VDSM crashes in logging code (I'll fix this one).\n> - libvirt fails to create domain with non-ASCII characters, see\n> https://bugzilla.redhat.com/show_bug.cgi?id=1062943\n\nSince libvirt does not support such names, the correct fix would be\nto block such vm names on the engine side, not fix vdsm.\n\nWhen libvirt start supporting such names, we can change engine and\nvdsm to support non-ascii vm names.\n\nThe proposed change, converting *all* log messages to unicode is \na vdsm performance regression."
									},
									{
										"isprivate": "0",
										"commentid": "8818920",
										"comment_count": "17",
										"who": {
											"text": "nsoffer",
											"name": "Nir Soffer"
										},
										"bug_when": "2015-11-13 17:03:21 +0000",
										"thetext": "(In reply to Natalie Gavrielov from comment #9)\n> Created a VM with Cyrillic characters as a VM name, the VM was created but\n> failed to start, getting the following messages:\n\nNatalie, please attach vdsm.log showing the timeframe when you attempted\nto start a vm with a non-ascii name. This is always needed even when you\nopen an engine bug."
									},
									{
										"isprivate": "0",
										"commentid": "8819743",
										"comment_count": "18",
										"who": {
											"text": "nsoffer",
											"name": "Nir Soffer"
										},
										"bug_when": "2015-11-13 21:40:25 +0000",
										"thetext": "(In reply to Milan Zamazal from comment #15)\n> I identified two bugs regarding this problem:\n> - VDSM crashes in logging code (I'll fix this one).\n\nThis is probably bug 1281940.\n\n> - libvirt fails to create domain with non-ASCII characters, see\n> https://bugzilla.redhat.com/show_bug.cgi?id=1062943\n\nThis can be solved by encoding the vm name using ascii charset when \ncreating the domain xml. Hopefully we are not using the vm name to \ndetect the vm, but the domain uuid. Or, using the vm uuid instead \nof the name if the name cannot be encoded as ascii.\n\nI guess users will be much happier if a vm runs, but its name is displayed\nin some places the guest as '???_???' instead of \"рус_лин\", compared to the\ncurrent situations when the vm will not run at all."
									},
									{
										"isprivate": "0",
										"commentid": "8820603",
										"comment_count": "19",
										"who": {
											"text": "nsoffer",
											"name": "Nir Soffer"
										},
										"bug_when": "2015-11-14 17:47:25 +0000",
										"thetext": "Attached patch http://gerrit.ovirt.org/48570 is implementing what the\nproposed solution in comment 18. It works, but a fix on the engine side\nmay be better.\n\nThe advantage of a vdsm side fix is working with older engines; it seems\nthat user tends to upgrade engine slower then vdsm on the host side."
									},
									{
										"isprivate": "0",
										"commentid": "8823513",
										"comment_count": "20",
										"who": {
											"text": "michal.skrivanek",
											"name": "Michal Skrivanek"
										},
										"bug_when": "2015-11-16 11:50:26 +0000",
										"thetext": "on engine side we should be using UUID mostly.\nneed to check REST API if it can return unicode names, if yes then I'm for using ascii only for vdsm purposes (in favor of uuids - for most cases this makes it easy to see via vdsClient or virsh)\nSimple transliteration to ascii-only, cutting off the trailing chars and use \ndigits suffix for colliding names"
									},
									{
										"isprivate": "0",
										"commentid": "8824075",
										"comment_count": "22",
										"who": {
											"text": "mzamazal",
											"name": "Milan Zamazal"
										},
										"bug_when": "2015-11-16 14:13:24 +0000",
										"thetext": "Created attachment 1094882\nVDSM log demonstrating the unicode bug\n\nI'm attaching excerpt from my vdsm.log demonstrating the crash in logging code due to string/unicode mismatch when using non-ASCII characters."
									},
									{
										"isprivate": "0",
										"commentid": "8825075",
										"comment_count": "23",
										"who": {
											"text": "nsoffer",
											"name": "Nir Soffer"
										},
										"bug_when": "2015-11-16 17:44:42 +0000",
										"thetext": "(In reply to Milan Zamazal from comment #22)\n> Created attachment 1094882 [details]\n> VDSM log demonstrating the unicode bug\n> \n> I'm attaching excerpt from my vdsm.log demonstrating the crash in logging\n> code due to string/unicode mismatch when using non-ASCII characters.\n\nCan you find the logging call that triggered this failure?\n\nThis error happens when you mix u'ascii' and 'utf8' strings. The u'ascii'\nvalue comes from vmId because builtin json library return all strings\nas unicode. We need to know what was the utf8 encoded string.\n\nI discussed this issue with Dan, and we agreed to go with the all-unicode\nway, since we want to make it easy to run on both python 2 and 3.\n\nTo make this work, we want all strings in vdsm to use unicode. Any value\nwe get from the outside world, e.g, xml contents from xml libraries, \nor from libvirt, data read from files, output from various commands, \nmust be decoded to unicode before using it in the application.\n\nThen, all logging calls can use unicode freely without any encoding\nissues.\n\nI suspect the logging call that print the domain xml, which is a utf8\nencoded string."
									},
									{
										"isprivate": "0",
										"commentid": "8825118",
										"comment_count": "24",
										"who": {
											"text": "nsoffer",
											"name": "Nir Soffer"
										},
										"bug_when": "2015-11-16 18:03:43 +0000",
										"thetext": "Milan, lets continue the discussion on logging breakage on bug 1281940,\n(or another one) and leave this bug for the getting vms with non-ascii\nnames to run on vdsm side."
									},
									{
										"isprivate": "0",
										"commentid": "8859675",
										"comment_count": "25",
										"who": {
											"text": "mzamazal",
											"name": "Milan Zamazal"
										},
										"bug_when": "2015-11-25 12:53:29 +0000",
										"thetext": "(In reply to Nir Soffer from comment #23)\n\n> I suspect the logging call that print the domain xml, which is a utf8\n> encoded string.\n\nExactly."
									},
									{
										"isprivate": "0",
										"commentid": "8859681",
										"comment_count": "26",
										"who": {
											"text": "mzamazal",
											"name": "Milan Zamazal"
										},
										"bug_when": "2015-11-25 12:55:58 +0000",
										"thetext": "We discussed how to handle non-ASCII VM names, here is the summary:\n\n- Conversion on VDSM side is not very safe, we should avoid using different\n  names at different places.\n- But we could use an ASCII name internally everywhere, while displaying the\n  original (possibly) non-ASCII name to the user in the Web interface where\n  possible.\n- A new database column could be added to engine database, containing the\n  (possibly) non-ASCII name as given by the user.\n- The meaning of the original VM name database column and its values remains\n  unchanged.  Engine interface just ensures it contains only permitted\n  characters (note that even some ASCII characters, such as spaces, are\n  invalid).\n- No changes are needed in VDSM in such a case.\n\nSome ideas about transforming user given VM names to \"safe\" forms:\n\n- It would be nice if the safe name had some relation to the original name, to\n  be identifiable in VDSM logs for example.\n- Maybe something like UTF-7 could be used, it avoids some problems and can be\n  decoded to the original name anywhere.\n- But beware there is a limit on VM name length and UTF-7 is not very concise\n  (although it's still better than some alternatives serving the same purpose).\n- Transformed names must be mutually unique, so techniques like truncation or\n  simplified character substitution may require adding unique suffixes or so."
									},
									{
										"isprivate": "0",
										"commentid": "8893929",
										"comment_count": "27",
										"who": {
											"text": "ahadas",
											"name": "Arik"
										},
										"bug_when": "2015-12-06 15:33:23 +0000",
										"thetext": "(In reply to Milan Zamazal from comment #26)\nIt seems like an over-specification to me.\nWe currently have a field for the VM name that can contain non-ascii characters.\nIt fails because libvirt doesn't support it, so we need to modify the name we pass to libvirt.\n1. I don't see a reason to store the name we pass to libvirt in the engine - what is it good for?\n2. Is someone interested to know the name of the VM in libvirt? from the engine's point of view, the name in libvirt/vdsm is not interesting. if in 4.0 we can break backward-compatibility, maybe we can just pass the ID of the VM as its name or to encode it as in the storage the disks are encoded."
									},
									{
										"isprivate": "0",
										"commentid": "8893936",
										"comment_count": "28",
										"who": {
											"text": "nsoffer",
											"name": "Nir Soffer"
										},
										"bug_when": "2015-12-06 15:41:03 +0000",
										"thetext": "Sending the vm id instead of the name, or \"vm-<uuid>\" should be enough on the\nengine side.\n\nHowever doing this in vdsm side has the benefit of supporting old engines. Users\nseems to be more careful about updating engine."
									},
									{
										"isprivate": "0",
										"commentid": "8893958",
										"comment_count": "29",
										"who": {
											"text": "ahadas",
											"name": "Arik"
										},
										"bug_when": "2015-12-06 16:12:43 +0000",
										"thetext": "(In reply to Nir Soffer from comment #28)\nI agree that it is better to do that in VDSM."
									},
									{
										"isprivate": "0",
										"commentid": "8895183",
										"comment_count": "30",
										"who": {
											"text": "mzamazal",
											"name": "Milan Zamazal"
										},
										"bug_when": "2015-12-07 08:15:38 +0000",
										"thetext": "It's fine to pass ASCII name to libvirt as long as we can be sure that we always do so and that there is no danger the original name appears somewhere the libvirt name is expected. I personally can't tell but some people here are a bit skeptical about that when working with two different names of the same object.\n\nAs for uuid, is it user friendly to use that? If not, do we have a better option?"
									},
									{
										"isprivate": "0",
										"commentid": "8918537",
										"comment_count": "31",
										"who": {
											"text": "michal.skrivanek",
											"name": "Michal Skrivanek"
										},
										"bug_when": "2015-12-15 09:11:47 +0000",
										"thetext": "let's wait for a resolution of bug 1285720"
									},
									{
										"isprivate": "0",
										"commentid": "9020532",
										"comment_count": "32",
										"who": {
											"text": "michal.skrivanek",
											"name": "Michal Skrivanek"
										},
										"bug_when": "2016-01-29 09:31:16 +0000",
										"thetext": "we need some resolution by GA - either fix it in underlying platform or block it in UI - and somehow handle existing VMs (not sure how, though)"
									},
									{
										"isprivate": "0",
										"commentid": "9032020",
										"comment_count": "33",
										"who": {
											"text": "michal.skrivanek",
											"name": "Michal Skrivanek"
										},
										"bug_when": "2016-02-03 10:55:46 +0000",
										"thetext": "bug 1282846 should provide a solution which is transparent to RHEV, no changes are needed and the internationalized VMs should start working once the bug is fixed\n\nkeeping open to depend on the right libvirt once it's available"
									},
									{
										"isprivate": "0",
										"commentid": "9049165",
										"comment_count": "36",
										"who": {
											"text": "mzamazal",
											"name": "Milan Zamazal"
										},
										"bug_when": "2016-02-10 12:11:11 +0000",
										"thetext": "It seems the problem has been fixed in https://bugzilla.redhat.com/1282846 and https://bugzilla.redhat.com/1281940. I verified that with current libvirt master and Vdsm master it's possible to start a VM with non-ASCII characters in its name."
									},
									{
										"isprivate": "0",
										"commentid": "9158936",
										"comment_count": "37",
										"who": {
											"text": "mzamazal",
											"name": "Milan Zamazal"
										},
										"bug_when": "2016-03-18 09:07:31 +0000",
										"thetext": "Waiting for the libvirt fix in downstream backport: https://bugzilla.redhat.com/1308494"
									},
									{
										"isprivate": "0",
										"commentid": "9164951",
										"comment_count": "38",
										"who": {
											"text": "michal.skrivanek",
											"name": "Michal Skrivanek"
										},
										"bug_when": "2016-03-21 13:55:31 +0000",
										"thetext": "will be addressed by https://bugzilla.redhat.com/show_bug.cgi?id=1292096#c10"
									},
									{
										"isprivate": "0",
										"commentid": "9199630",
										"comment_count": "39",
										"who": {
											"text": "mzamazal",
											"name": "Milan Zamazal"
										},
										"bug_when": "2016-04-01 11:07:34 +0000",
										"thetext": "New libvirt available downstream, Vdsm dependency in 3.6 updated."
									},
									{
										"isprivate": "0",
										"commentid": "9228892",
										"comment_count": "41",
										"who": {
											"text": "nsednev",
											"name": "Nikolai Sednev"
										},
										"bug_when": "2016-04-12 11:23:56 +0000",
										"thetext": "Works for me.\nbug #1323140 have been verified, tested the same work flow as in bug #1323140, on these components:\nEngine:\novirt-engine-setup-base-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-websocket-proxy-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-vmconsole-proxy-helper-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-restapi-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-cli-4.0.0.0-0.3.20160208.gitded440f.el7.centos.noarch\novirt-engine-lib-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-extension-aaa-jdbc-1.1.0-0.0.master.20160215110938.git8ebdaba.el7.noarch\novirt-engine-setup-plugin-ovirt-engine-common-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-setup-plugin-websocket-proxy-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-webadmin-portal-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-userportal-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-setup-plugin-vmconsole-proxy-helper-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-setup-plugin-ovirt-engine-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-backend-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-wildfly-overlay-10.0.0-1.el7.noarch\novirt-engine-wildfly-10.0.0-1.el7.x86_64\novirt-engine-tools-backup-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-tools-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-setup-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-dbscripts-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-sdk-python-3.6.5.1-0.1.20160330.gitbec59a2.el7.centos.noarch\novirt-engine-extensions-api-impl-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\nLinux 3.10.0-327.13.1.el7.x86_64 #1 SMP Thu Mar 31 16:04:38 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\nCentOS Linux release 7.2.1511 (Core) \n\nHost:\nqemu-kvm-rhev-2.3.0-31.el7_2.11.x86_64\nlibvirt-client-1.2.17-13.el7_2.4.x86_64\nvdsm-4.17.999-817.git03d82f6.el7.centos.noarch\nmom-0.5.2-0.0.master.20160226114234.git95535d1.el7.noarch\nsanlock-3.2.4-2.el7_2.x86_64\nLinux 3.10.0-327.18.2.el7.x86_64 #1 SMP Fri Apr 8 05:09:53 EDT 2016 x86_64 x86_64 x86_64 GNU/Linux\nRed Hat Enterprise Linux Server release 7.2 (Maipo)\n\nPASS."
									},
									{
										"isprivate": "0",
										"commentid": "9373063",
										"comment_count": "43",
										"who": {
											"text": "nsednev",
											"name": "Nikolai Sednev"
										},
										"bug_when": "2016-05-31 15:11:08 +0000",
										"thetext": "Works for me on these components:\nNGN 4.0 Host:\novirt-vmconsole-host-1.0.2-0.0.master.20160517094103.git06df50a.el7.noarch\nvdsm-4.17.999-1155.gitcf216a0.el7.centos.x86_64\novirt-setup-lib-1.0.2-0.0.master.20160502125738.gitf05af9e.el7.centos.noarch\novirt-release40-4.0.0-0.3.beta1.noarch\novirt-vmconsole-1.0.2-0.0.master.20160517094103.git06df50a.el7.noarch\nlibvirt-client-1.2.17-13.el7_2.4.x86_64\novirt-engine-sdk-python-3.6.5.1-0.1.20160507.git5fb7e0e.el7.centos.noarch\novirt-host-deploy-1.5.0-0.1.alpha1.el7.centos.noarch\novirt-hosted-engine-setup-2.0.0-0.1.beta1.el7.centos.noarch\novirt-release-host-node-4.0.0-0.3.beta1.el7.noarch\novirt-engine-appliance-4.0-20160528.1.el7.centos.noarch\nsanlock-3.2.4-2.el7_2.x86_64\novirt-hosted-engine-ha-2.0.0-0.1.beta1.el7.centos.noarch\novirt-node-ng-image-update-placeholder-4.0.0-0.3.beta1.el7.noarch\nCentOS Linux release 7.2.1511 (Core) \nLinux 3.10.0-327.18.2.el7.x86_64 #1 SMP Thu May 12 11:03:55 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\nLinux version 3.10.0-327.18.2.el7.x86_64 (builder@kbuilder.dev.centos.org) (gcc version 4.8.3 20140911 (Red Hat 4.8.3-9) (GCC) ) #1 SMP Thu May 12 11:03:55 UTC 2016\n\nEngine:\nrhevm-guest-agent-common-1.0.12-1.el7ev.noarch                                                    \nrhevm-setup-plugins-4.0.0-0.3.alpha.el7ev.noarch\nrhevm-branding-rhev-4.0.0-0.0.master.20160219183625.el7ev.noarch\nrhevm-doc-4.0.0-2.el7ev.noarch\nrhevm-4.0.0-0.7.master.el7ev.noarch\nrhevm-dependencies-4.0.0-0.1.alpha.git9ae0cc3.el7ev.noarch\nLinux 3.10.0-327.22.1.el7.x86_64 #1 SMP Mon May 16 13:31:48 EDT 2016 x86_64 x86_64 x86_64 GNU/Linux\nLinux version 3.10.0-327.22.1.el7.x86_64 (mockbuild@x86-034.build.eng.bos.redhat.com) (gcc version 4.8.5 20150623 (Red Hat 4.8.5-4) (GCC) ) #1 SMP Mon May 16 13:31:48 EDT 2016\nRed Hat Enterprise Linux Server release 7.2 (Maipo)\n\nVM was created and ran as appears within the attached movie."
									},
									{
										"isprivate": "0",
										"commentid": "9373065",
										"comment_count": "44",
										"who": {
											"text": "nsednev",
											"name": "Nikolai Sednev"
										},
										"bug_when": "2016-05-31 15:12:12 +0000",
										"thetext": "Created attachment 1163278\n111-2016-05-31_18.03.12.mkv"
									},
									{
										"isprivate": "0",
										"commentid": "9642470",
										"comment_count": "46",
										"who": {
											"text": "errata-xmlrpc",
											"name": "errata-xmlrpc"
										},
										"bug_when": "2016-08-23 20:29:00 +0000",
										"thetext": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttps://rhn.redhat.com/errata/RHEA-2016-1743.html"
									}
								]
							},
							{
								"bug_id": "1291360",
								"creation_ts": "2015-12-14 16:50:26 +0000",
								"short_desc": "Running a vm with a long name fails",
								"delta_ts": "2016-05-13 06:45:40 +0000",
								"bug_status": "CLOSED",
								"resolution": "CURRENTRELEASE",
								"priority": "medium",
								"bug_severity": "medium",
								"depends_on": [
									"1282846",
									"1289363"
								],
								"external_bugs": {
									"text": "55680",
									"name": "oVirt gerrit"
								},
								"long_desc": [
									{
										"isprivate": "0",
										"commentid": "8916546",
										"comment_count": "0",
										"who": {
											"text": "slitmano",
											"name": "sefi litmanovich"
										},
										"bug_when": "2015-12-14 16:50:26 +0000",
										"thetext": "Version-Release number of selected component (if applicable):\n3.6.1.3\n\nHow reproducible:\nalways\n\nSteps to Reproduce:\n1. Create a vm with a long name but less than limit (64 chars), e.g. in my case 'Virt_pool_size_more_than_prestarted_user_and_admin_take_vms_1' (62 chars)\n\n2. run vm\n\nActual results:\nVm goes to state 'waiting_for_launch' for a second and then goes down. In engine log you can see:\n\n\n2015-12-14 18:33:27,762 INFO  [org.ovirt.engine.core.vdsbroker.vdsbroker.CreateVDSCommand] (org.ovirt.thread.pool-7-thread-41) [622ca75d] START, CreateVDSCommand(HostName = host_mixed_1, CreateVmVDSCommandParameters:{runAsync='true', host\nId='25a0fd3f-9815-4750-b6da-b935fb5a8655', vmId='3a25bd8d-7909-4092-8768-88b4019c511d', vm='VM [Virt_pool_size_more_than_prestarted_user_and_admin_take_vms_1]'}), log id: 22f7dfc2\n2015-12-14 18:33:27,781 INFO  [org.ovirt.engine.core.vdsbroker.vdsbroker.VmInfoBuilderBase] (org.ovirt.thread.pool-7-thread-41) [622ca75d] Bootable disk '955a9011-8037-4a19-9d6d-7f5190f92b69' set to index '0'\n2015-12-14 18:33:27,835 INFO  [org.ovirt.engine.core.vdsbroker.vdsbroker.CreateVDSCommand] (org.ovirt.thread.pool-7-thread-41) [622ca75d] org.ovirt.engine.core.vdsbroker.vdsbroker.CreateVDSCommand kvmEnable=true,keyboardLayout=en-us,nice=\n0,displayNetwork=ovirtmgmt,copyPasteEnable=true,timeOffset=0,transparentHugePages=true,vmId=3a25bd8d-7909-4092-8768-88b4019c511d,acpiEnable=true,custom={},spiceSslCipherSuite=DEFAULT,maxMemSize=4194304,memSize=1024,smp=1,emulatedMachine=p\nc-i440fx-rhel7.2.0,vmType=kvm,guestNumaNodes=[{cpus=0, nodeIndex=0, memory=1024}],memGuaranteedSize=1024,display=qxl,maxMemSlots=16,smartcardEnable=false,bootMenuEnable=false,numaTune={mode=interleave, nodeset=0},smpCoresPerSocket=1,spice\nSecureChannels=smain,sinputs,scursor,splayback,srecord,sdisplay,susbredir,ssmartcard,maxVCpus=16,devices=[{specParams={vram=32768, heads=1}, device=qxl, type=video, deviceId=80563cb3-bf8a-4d98-afc3-5ae1e3363327}, {specParams={copyPasteEna\nble=true, fileTransferEnable=true}, device=spice, type=graphics, deviceId=a4bd4d20-c5ec-4a97-afaf-37c604d608a5}, {shared=false, iface=ide, index=2, address={unit=0, bus=1, target=0, controller=0, type=drive}, specParams={path=}, path=, de\nvice=cdrom, type=disk, readonly=true, deviceId=6a190bff-fc5b-42fa-b4ee-726784cd4bb7}, {shared=false, index=0, volumeID=ec00c688-4b01-49d6-b478-9a0e9132f11f, propagateErrors=off, format=cow, type=disk, iface=virtio, bootOrder=1, address={b\nus=0x00, domain=0x0000, type=pci, slot=0x06, function=0x0}, domainID=1e86ca7c-990e-424f-9a9d-3e133f79b433, imageID=955a9011-8037-4a19-9d6d-7f5190f92b69, specParams={}, optional=false, device=disk, poolID=838d693b-28dd-4f1d-a987-c70eb06d50\n6e, readonly=false, deviceId=955a9011-8037-4a19-9d6d-7f5190f92b69}, {nicModel=pv, address={bus=0x00, domain=0x0000, type=pci, slot=0x03, function=0x0}, specParams={outbound={}, inbound={}}, macAddr=00:1a:4a:16:01:53, device=bridge, linkAc\ntive=true, type=interface, network=ovirtmgmt, deviceId=f2a5f89d-387e-4197-99af-3b67b7c61355}, {address={bus=0x00, domain=0x0000, type=pci, slot=0x04, function=0x0}, specParams={}, device=ich6, type=sound, deviceId=9842f6e6-2921-44e6-886d-\n2735a50bbdf2}, {address={bus=0x00, domain=0x0000, type=pci, slot=0x05, function=0x0}, specParams={}, device=virtio-serial, type=controller, deviceId=1f7f0499-623a-482e-808f-d5fe2f25b412}],vmName=Virt_pool_size_more_than_prestarted_user_an\nd_admin_take_vms_1,cpuType=Penryn,fileTransferEnable=true\n2015-12-14 18:33:28,856 INFO  [org.ovirt.engine.core.vdsbroker.vdsbroker.CreateVDSCommand] (org.ovirt.thread.pool-7-thread-41) [622ca75d] FINISH, CreateVDSCommand, log id: 22f7dfc2\n2015-12-14 18:33:28,917 INFO  [org.ovirt.engine.core.vdsbroker.CreateVmVDSCommand] (org.ovirt.thread.pool-7-thread-41) [622ca75d] FINISH, CreateVmVDSCommand, return: WaitForLaunch, log id: 64b5a36\n2015-12-14 18:33:28,917 INFO  [org.ovirt.engine.core.bll.RunVmCommand] (org.ovirt.thread.pool-7-thread-41) [622ca75d] Lock freed to object 'EngineLock:{exclusiveLocks='[3a25bd8d-7909-4092-8768-88b4019c511d=<VM, ACTION_TYPE_FAILED_OBJECT_L\nOCKED>]', sharedLocks='null'}'\n2015-12-14 18:33:28,986 INFO  [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (org.ovirt.thread.pool-7-thread-41) [622ca75d] Correlation ID: 622ca75d, Job ID: a829923b-7f7b-40bb-a9b4-e83ce0bd5fa0, Call Stack: null, \nCustom Event ID: -1, Message: VM Virt_pool_size_more_than_prestarted_user_and_admin_take_vms_1 was started by admin@internal (Host: host_mixed_1).\n2015-12-14 18:33:30,055 INFO  [org.ovirt.engine.core.vdsbroker.vdsbroker.DestroyVDSCommand] (ForkJoinPool-1-worker-149) [] START, DestroyVDSCommand(HostName = host_mixed_1, DestroyVmVDSCommandParameters:{runAsync='true', hostId='25a0fd3f-\n9815-4750-b6da-b935fb5a8655', vmId='3a25bd8d-7909-4092-8768-88b4019c511d', force='false', secondsToWait='0', gracefully='false', reason=''}), log id: 21e9190e\n2015-12-14 18:33:31,068 INFO  [org.ovirt.engine.core.vdsbroker.vdsbroker.DestroyVDSCommand] (ForkJoinPool-1-worker-149) [] FINISH, DestroyVDSCommand, log id: 21e9190e\n2015-12-14 18:33:31,202 ERROR [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (ForkJoinPool-1-worker-149) [] Correlation ID: null, Call Stack: null, Custom Event ID: -1, Message: VM Virt_pool_size_more_than_prestarted_user_and_admin_take_vms_1 is down with error. Exit message: Invalid machine name.\n2015-12-14 18:33:31,203 INFO  [org.ovirt.engine.core.vdsbroker.VmAnalyzer] (ForkJoinPool-1-worker-149) [] Running on vds during rerun failed vm: '25a0fd3f-9815-4750-b6da-b935fb5a8655'\n2015-12-14 18:33:31,205 INFO  [org.ovirt.engine.core.vdsbroker.VmAnalyzer] (ForkJoinPool-1-worker-149) [] VM '3a25bd8d-7909-4092-8768-88b4019c511d(Virt_pool_size_more_than_prestarted_user_and_admin_take_vms_1) is running in db and not running in VDS 'host_mixed_1'\n2015-12-14 18:33:31,270 ERROR [org.ovirt.engine.core.vdsbroker.VmsMonitoring] (ForkJoinPool-1-worker-149) [] Rerun VM '3a25bd8d-7909-4092-8768-88b4019c511d'. Called from VDS 'host_mixed_1'\n2015-12-14 18:33:31,386 WARN  [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (org.ovirt.thread.pool-7-thread-4) [] Correlation ID: 622ca75d, Job ID: a829923b-7f7b-40bb-a9b4-e83ce0bd5fa0, Call Stack: null, Custom Event ID: -1, Message: Failed to run VM Virt_pool_size_more_than_prestarted_user_and_admin_take_vms_1 on Host host_mixed_1.\n2015-12-14 18:33:31,419 INFO  [org.ovirt.engine.core.bll.RunVmCommand] (org.ovirt.thread.pool-7-thread-4) [] Lock Acquired to object 'EngineLock:{exclusiveLocks='[3a25bd8d-7909-4092-8768-88b4019c511d=<VM, ACTION_TYPE_FAILED_OBJECT_LOCKED>]', sharedLocks='null'}'\n2015-12-14 18:33:31,450 INFO  [org.ovirt.engine.core.vdsbroker.IsVmDuringInitiatingVDSCommand] (org.ovirt.thread.pool-7-thread-4) [] START, IsVmDuringInitiatingVDSCommand( IsVmDuringInitiatingVDSCommandParameters:{runAsync='true', vmId='3a25bd8d-7909-4092-8768-88b4019c511d'}), log id: 1cf45fc4\n2015-12-14 18:33:31,451 INFO  [org.ovirt.engine.core.vdsbroker.IsVmDuringInitiatingVDSCommand] (org.ovirt.thread.pool-7-thread-4) [] FINISH, IsVmDuringInitiatingVDSCommand, return: false, log id: 1cf45fc4\n2015-12-14 18:33:31,457 WARN  [org.ovirt.engine.core.bll.RunVmCommand] (org.ovirt.thread.pool-7-thread-4) [] CanDoAction of action 'RunVm' failed for user admin@internal. Reasons: VAR__ACTION__RUN,VAR__TYPE__VM,VAR__ACTION__RUN,VAR__TYPE__VM,VAR__ACTION__RUN,VAR__TYPE__VM,SCHEDULING_NO_HOSTS\n2015-12-14 18:33:31,457 INFO  [org.ovirt.engine.core.bll.RunVmCommand] (org.ovirt.thread.pool-7-thread-4) [] Lock freed to object 'EngineLock:{exclusiveLocks='[3a25bd8d-7909-4092-8768-88b4019c511d=<VM, ACTION_TYPE_FAILED_OBJECT_LOCKED>]', sharedLocks='null'}'\n2015-12-14 18:33:31,528 ERROR [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (org.ovirt.thread.pool-7-thread-4) [] Correlation ID: 622ca75d, Job ID: a829923b-7f7b-40bb-a9b4-e83ce0bd5fa0, Call Stack: null, Custom Event ID: -1, Message: Failed to run VM Virt_pool_size_more_than_prestarted_user_and_admin_take_vms_1 (User: admin@internal).\n2015-12-14 18:33:31,536 INFO  [org.ovirt.engine.core.bll.ProcessDownVmCommand] (org.ovirt.thread.pool-7-thread-35) [149189a4] Running command: ProcessDownVmCommand internal: true.\n2015-12-14 18:38:11,556 INFO  [org.ovirt.engine.core.bll.RemoveVmCommand] (ajp-/127.0.0.1:8702-4) [59b44a96] Lock Acquired to object 'EngineLock:{exclusiveLocks='[3a25bd8d-7909-4092-8768-88b4019c511d=<VM, ACTION_TYPE_FAILED_OBJECT_LOCKED>]', sharedLocks='null'}'\n2015-12-14 18:38:11,795 INFO  [org.ovirt.engine.core.bll.RemoveVmCommand] (org.ovirt.thread.pool-7-thread-15) [59b44a96] Running command: RemoveVmCommand internal: false. Entities affected :  ID: 3a25bd8d-7909-4092-8768-88b4019c511d Type: VMAction group DELETE_VM with role type USER\n2015-12-14 18:38:11,797 INFO  [org.ovirt.engine.core.vdsbroker.SetVmStatusVDSCommand] (org.ovirt.thread.pool-7-thread-15) [59b44a96] START, SetVmStatusVDSCommand( SetVmStatusVDSCommandParameters:{runAsync='true', vmId='3a25bd8d-7909-4092-8768-88b4019c511d', status='ImageLocked', exitStatus='Normal'}), log id: 219ed3e2\n2015-12-14 18:38:11,803 INFO  [org.ovirt.engine.core.vdsbroker.SetVmStatusVDSCommand] (org.ovirt.thread.pool-7-thread-15) [59b44a96] FINISH, SetVmStatusVDSCommand, log id: 219ed3e2\n2015-12-14 18:38:11,846 INFO  [org.ovirt.engine.core.bll.RemoveVmCommand] (org.ovirt.thread.pool-7-thread-15) [59b44a96] Lock freed to object 'EngineLock:{exclusiveLocks='[3a25bd8d-7909-4092-8768-88b4019c511d=<VM, ACTION_TYPE_FAILED_OBJEC\nT_LOCKED>]', sharedLocks='null'}'\n2015-12-14 18:38:11,909 INFO  [org.ovirt.engine.core.bll.RemoveAllVmImagesCommand] (org.ovirt.thread.pool-7-thread-15) [228cd963] Running command: RemoveAllVmImagesCommand internal: true. Entities affected :  ID: 3a25bd8d-7909-4092-8768-88b4019c511d Type: VM\n2015-12-14 18:38:11,914 INFO  [org.ovirt.engine.core.bll.RemoveImageCommand] (org.ovirt.thread.pool-7-thread-15) [59fb6fc7] Running command: RemoveImageCommand internal: true. Entities affected :  ID: 00000000-0000-0000-0000-000000000000 Type: Storage\n2015-12-14 18:38:12,305 INFO  [org.ovirt.engine.core.vdsbroker.irsbroker.DeleteImageGroupVDSCommand] (org.ovirt.thread.pool-7-thread-15) [59fb6fc7] START, DeleteImageGroupVDSCommand( DeleteImageGroupVDSCommandParameters:{runAsync='true', storagePoolId='838d693b-28dd-4f1d-a987-c70eb06d506e', ignoreFailoverLimit='false', storageDomainId='1e86ca7c-990e-424f-9a9d-3e133f79b433', imageGroupId='955a9011-8037-4a19-9d6d-7f5190f92b69', postZeros='false', forceDelete='false'}), log id: 78b418c4\n2015-12-14 18:38:13,438 INFO  [org.ovirt.engine.core.vdsbroker.irsbroker.DeleteImageGroupVDSCommand] (org.ovirt.thread.pool-7-thread-15) [59fb6fc7] FINISH, DeleteImageGroupVDSCommand, log id: 78b418c4\n2015-12-14 18:38:13,463 INFO  [org.ovirt.engine.core.bll.tasks.CommandAsyncTask] (org.ovirt.thread.pool-7-thread-15) [59fb6fc7] CommandAsyncTask::Adding CommandMultiAsyncTasks object for command '024a57f0-4136-4d07-8de6-48d17c92bf0e'\n2015-12-14 18:38:13,463 INFO  [org.ovirt.engine.core.bll.CommandMultiAsyncTasks] (org.ovirt.thread.pool-7-thread-15) [59fb6fc7] CommandMultiAsyncTasks::AttachTask: Attaching task '5ea54a15-8783-498a-89fd-cd3cc532c0db' to command '024a57f0-4136-4d07-8de6-48d17c92bf0e'.\n2015-12-14 18:38:13,711 INFO  [org.ovirt.engine.core.bll.tasks.AsyncTaskManager] (org.ovirt.thread.pool-7-thread-15) [59fb6fc7] Adding task '5ea54a15-8783-498a-89fd-cd3cc532c0db' (Parent Command 'RemoveVm', Parameters Type 'org.ovirt.engine.core.common.asynctasks.AsyncTaskParameters'), polling hasn't started yet..\n2015-12-14 18:38:14,187 INFO  [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (org.ovirt.thread.pool-7-thread-15) [59fb6fc7] Correlation ID: 59b44a96, Job ID: a3f38684-4261-4668-ae48-92d0c0d17877, Call Stack: null, Custom Event ID: -1, Message: VM Virt_pool_size_more_than_prestarted_user_and_admin_take_vms_1 was successfully removed.\n2015-12-14 18:38:14,187 INFO  [org.ovirt.engine.core.bll.tasks.SPMAsyncTask] (org.ovirt.thread.pool-7-thread-15) [59fb6fc7] BaseAsyncTask::startPollingTask: Starting to poll task '5ea54a15-8783-498a-89fd-cd3cc532c0db'.\n2015-12-14 18:38:22,082 INFO  [org.ovirt.engine.core.bll.tasks.AsyncTaskManager] (DefaultQuartzScheduler_Worker-84) [] Polling and updating Async Tasks: 1 tasks, 1 tasks to poll now\n2015-12-14 18:38:23,997 INFO  [org.ovirt.engine.core.bll.tasks.SPMAsyncTask] (DefaultQuartzScheduler_Worker-84) [] SPMAsyncTask::PollTask: Polling task '5ea54a15-8783-498a-89fd-cd3cc532c0db' (Parent Command 'RemoveVm', Parameters Type 'org.ovirt.engine.core.common.asynctasks.AsyncTaskParameters') returned status 'finished', result 'success'.\n2015-12-14 18:38:24,022 INFO  [org.ovirt.engine.core.bll.tasks.SPMAsyncTask] (DefaultQuartzScheduler_Worker-84) [] BaseAsyncTask::onTaskEndSuccess: Task '5ea54a15-8783-498a-89fd-cd3cc532c0db' (Parent Command 'RemoveVm', Parameters Type 'org.ovirt.engine.core.common.asynctasks.AsyncTaskParameters') ended successfully.\n2015-12-14 18:38:24,025 INFO  [org.ovirt.engine.core.bll.tasks.CommandAsyncTask] (DefaultQuartzScheduler_Worker-84) [] CommandAsyncTask::endActionIfNecessary: All tasks of command '024a57f0-4136-4d07-8de6-48d17c92bf0e' has ended -> executing 'endAction'\n2015-12-14 18:38:24,025 INFO  [org.ovirt.engine.core.bll.tasks.CommandAsyncTask] (DefaultQuartzScheduler_Worker-84) [] CommandAsyncTask::endAction: Ending action for '1' tasks (command ID: '024a57f0-4136-4d07-8de6-48d17c92bf0e'): calling endAction '.\n2015-12-14 18:38:24,026 INFO  [org.ovirt.engine.core.bll.tasks.CommandAsyncTask] (org.ovirt.thread.pool-7-thread-23) [] CommandAsyncTask::endCommandAction [within thread] context: Attempting to endAction 'RemoveVm', executionIndex: '0'\n2015-12-14 18:38:24,090 INFO  [org.ovirt.engine.core.bll.RemoveVmCommand] (org.ovirt.thread.pool-7-thread-23) [] Ending command 'org.ovirt.engine.core.bll.RemoveVmCommand' successfully.\n\n\nExpected results:\n\n1 of 2:\n1. Vm should run as expected.\n2. char limit for vm name should be lower."
									},
									{
										"isprivate": "0",
										"commentid": "8918168",
										"comment_count": "1",
										"who": {
											"text": "michal.skrivanek",
											"name": "Michal Skrivanek"
										},
										"bug_when": "2015-12-15 06:50:35 +0000",
										"thetext": "looks like a systemd bug, see related bug"
									},
									{
										"isprivate": "0",
										"commentid": "8918171",
										"comment_count": "2",
										"who": {
											"text": "michal.skrivanek",
											"name": "Michal Skrivanek"
										},
										"bug_when": "2015-12-15 06:51:20 +0000",
										"thetext": "keeping open in case we have to lower the limit"
									},
									{
										"isprivate": "0",
										"commentid": "9016620",
										"comment_count": "3",
										"who": {
											"text": "michal.skrivanek",
											"name": "Michal Skrivanek"
										},
										"bug_when": "2016-01-28 08:12:36 +0000",
										"thetext": "related to bug 1260131 (likely same cause - migration to systemd)"
									},
									{
										"isprivate": "0",
										"commentid": "9043069",
										"comment_count": "4",
										"who": {
											"text": "michal.skrivanek",
											"name": "Michal Skrivanek"
										},
										"bug_when": "2016-02-08 13:23:39 +0000",
										"thetext": "we want to wait for platform fix(rather than decreasing the limit in UI), which should arrive as a 7.2.z at some point"
									},
									{
										"isprivate": "0",
										"commentid": "9225073",
										"comment_count": "6",
										"who": {
											"text": "michal.skrivanek",
											"name": "Michal Skrivanek"
										},
										"bug_when": "2016-04-11 11:22:26 +0000",
										"thetext": "I guess I've mis-read the dependent bug, it should be fixed already (https://bugzilla.redhat.com/show_bug.cgi?id=1308494#c19)"
									},
									{
										"isprivate": "0",
										"commentid": "9226080",
										"comment_count": "7",
										"who": {
											"text": "sbonazzo",
											"name": "Sandro Bonazzola"
										},
										"bug_when": "2016-04-11 14:47:52 +0000",
										"thetext": "Including in 3.6.5.3 based on comment #6."
									},
									{
										"isprivate": "0",
										"commentid": "9229877",
										"comment_count": "8",
										"who": {
											"text": "istein",
											"name": "Ilanit Stein"
										},
										"bug_when": "2016-04-12 15:20:18 +0000",
										"thetext": "Verified on rhevm 3.6.5-4:\n\nWith libvirt  1.2.17-13.el7_2.4.x86_64 on host,\nVM with name of 64 chars can be run.\nVM name above 64 chars fail as expected, on validation."
									}
								]
							},
							{
								"bug_id": "1308494",
								"creation_ts": "2016-02-15 11:55:11 +0000",
								"short_desc": "libvirt can not start a VM with non-ACSII names: Invalid machine name (from systemd)",
								"delta_ts": "2019-10-10 11:12:14 +0000",
								"bug_status": "CLOSED",
								"resolution": "ERRATA",
								"keywords": "Upstream, ZStream",
								"priority": "urgent",
								"bug_severity": "high",
								"depends_on": [
									"1282846"
								],
								"blocked": [
									{
										"bug_id": "1260131",
										"creation_ts": "2015-09-04 13:44:34 +0000",
										"short_desc": "RHEV does not support Cyrillic characters as Virtual Machine name",
										"delta_ts": "2023-10-06 17:29:54 +0000",
										"bug_status": "CLOSED",
										"resolution": "ERRATA",
										"keywords": "Reopened, Triaged, ZStream",
										"priority": "high",
										"bug_severity": "medium",
										"depends_on": [
											"1249130",
											"1281940",
											"1282846",
											"1285720",
											"1308494"
										],
										"blocked": [
											{
												"bug_id": "1276906",
												"creation_ts": "2015-11-01 07:08:19 +0000",
												"short_desc": "RHEV does not support Cyrillic characters as Virtual Machine name",
												"delta_ts": "2022-07-13 07:35:17 +0000",
												"bug_status": "CLOSED",
												"resolution": "WONTFIX",
												"keywords": "Reopened",
												"priority": "unspecified",
												"bug_severity": "medium",
												"depends_on": [
													"1260131"
												],
												"external_bugs": {
													"text": "48542",
													"name": "oVirt gerrit"
												},
												"long_desc": [
													{
														"isprivate": "0",
														"commentid": "8791136",
														"comment_count": "1",
														"who": {
															"text": "acanan",
															"name": "Aharon Canan"
														},
														"bug_when": "2015-11-04 16:31:57 +0000",
														"thetext": "Verified using vt18\n\n- VM can not be created if Russian characters are used in Disk Alias Field.\nWorks fine\n- VM can not not be started if Russian characters are used in VM Name Field.\nStill can't start the VM\n\nfrom engine log - \n=================\n2015-11-04 18:28:19,678 ERROR [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (DefaultQuartzScheduler_Worker-57) Correlation ID: null, Call Stack: null, Custom Event ID: -1, Message: VM Опишите is down with error. Exit message: 'ascii' codec can't decode byte 0xd0 in position 68: ordinal not in range(128).\n2015-11-04 18:28:19,678 INFO  [org.ovirt.engine.core.vdsbroker.VdsUpdateRunTimeInfo] (DefaultQuartzScheduler_Worker-57) Running on vds during rerun failed vm: null\n2015-11-04 18:28:19,680 INFO  [org.ovirt.engine.core.vdsbroker.VdsUpdateRunTimeInfo] (DefaultQuartzScheduler_Worker-57) VM Опишите (90be29a9-b274-46f5-a439-6ae5a1ca33c9) is running in db and not running in VDS camel-vdsb\n2015-11-04 18:28:19,971 ERROR [org.ovirt.engine.core.vdsbroker.VdsUpdateRunTimeInfo] (DefaultQuartzScheduler_Worker-57) Rerun vm 90be29a9-b274-46f5-a439-6ae5a1ca33c9. Called from vds camel-vdsb\n2015-11-04 18:28:20,093 WARN  [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (org.ovirt.thread.pool-7-thread-15) Correlation ID: 2965ccf4, Job ID: 290527ca-0caa-44c8-a460-b0713d114699, Call Stack: null, Custom Event ID: -1, Message: Failed to run VM Опишите on Host camel-vdsb.\n2015-11-04 18:28:20,109 INFO  [org.ovirt.engine.core.bll.RunVmCommand] (org.ovirt.thread.pool-7-thread-15) Lock Acquired to object EngineLock [exclusiveLocks= key: 90be29a9-b274-46f5-a439-6ae5a1ca33c9 value: VM\n, sharedLocks= ]\n2015-11-04 18:28:20,144 INFO  [org.ovirt.engine.core.vdsbroker.IsVmDuringInitiatingVDSCommand] (org.ovirt.thread.pool-7-thread-15) START, IsVmDuringInitiatingVDSCommand( vmId = 90be29a9-b274-46f5-a439-6ae5a1ca33c9), log id: 18f15bcf\n2015-11-04 18:28:20,160 INFO  [org.ovirt.engine.core.vdsbroker.IsVmDuringInitiatingVDSCommand] (org.ovirt.thread.pool-7-thread-15) FINISH, IsVmDuringInitiatingVDSCommand, return: false, log id: 18f15bcf\n2015-11-04 18:28:20,178 WARN  [org.ovirt.engine.core.bll.RunVmCommand] (org.ovirt.thread.pool-7-thread-15) CanDoAction of action RunVm failed for user admin@internal. Reasons: VAR__ACTION__RUN,VAR__TYPE__VM,VAR__ACTION__RUN,VAR__TYPE__VM,VAR__ACTION__RUN,VAR__TYPE__VM,SCHEDULING_NO_HOSTS\n\n\n\nI am not sure I understand, do we support or should block ? anyway we are not blocking nor supporting..."
													},
													{
														"isprivate": "0",
														"commentid": "8791156",
														"comment_count": "2",
														"who": {
															"text": "acanan",
															"name": "Aharon Canan"
														},
														"bug_when": "2015-11-04 16:33:09 +0000",
														"thetext": "Wrote by mistake verified in comment #1"
													},
													{
														"isprivate": "0",
														"commentid": "8794010",
														"comment_count": "3",
														"who": {
															"text": "eedri",
															"name": "Eyal Edri"
														},
														"bug_when": "2015-11-05 08:28:50 +0000",
														"thetext": "if this isn't a blocker and still open please move to 3.5.7."
													},
													{
														"isprivate": "0",
														"commentid": "8794122",
														"comment_count": "4",
														"who": {
															"text": "tnisan",
															"name": "Tal Nisan"
														},
														"bug_when": "2015-11-05 09:09:36 +0000",
														"thetext": "since the storage part is fixed and only the virt part of the VM name and starting the VM is left I'm moving to virt (see also Bug #1260131)"
													},
													{
														"isprivate": "0",
														"commentid": "8817845",
														"comment_count": "6",
														"who": {
															"text": "mzamazal",
															"name": "Milan Zamazal"
														},
														"bug_when": "2015-11-13 11:28:51 +0000",
														"thetext": "As for VM name:\n- VDSM crashes in logging code (I'll fix it).\n- libvirt fails to create domain with non-ASCII characters in its name, see https://bugzilla.redhat.com/show_bug.cgi?id=1062943"
													},
													{
														"isprivate": "0",
														"commentid": "8818141",
														"comment_count": "7",
														"who": {
															"text": "michal.skrivanek",
															"name": "Michal Skrivanek"
														},
														"bug_when": "2015-11-13 13:07:06 +0000",
														"thetext": "according to https://bugzilla.redhat.com/show_bug.cgi?id=1191835#c1 it seems to be broken since Fedora 20, so I guess all RHEL 7 hypervisors are affected"
													},
													{
														"isprivate": "0",
														"commentid": "8818306",
														"comment_count": "8",
														"who": {
															"text": "michal.skrivanek",
															"name": "Michal Skrivanek"
														},
														"bug_when": "2015-11-13 14:02:01 +0000",
														"thetext": "unlikely to be fixed within 3.5.z timeframe, I propose closing wontfix"
													},
													{
														"isprivate": "0",
														"commentid": "8867653",
														"comment_count": "9",
														"who": {
															"text": "mgoldboi",
															"name": "Moran Goldboim"
														},
														"bug_when": "2015-11-29 14:32:49 +0000",
														"thetext": "(In reply to Michal Skrivanek from comment #8)\n> unlikely to be fixed within 3.5.z timeframe, I propose closing wontfix\n\nclosing this one since it introduces a risk for zstream due to the change needed. \nthis bug is being addressed on 3.6 release."
													}
												]
											},
											{
												"bug_id": "1323140",
												"creation_ts": "2016-04-01 11:14:48 +0000",
												"short_desc": "[z-stream clone - 3.6.5] RHEV does not support Cyrillic characters as Virtual Machine name",
												"delta_ts": "2019-10-10 11:44:48 +0000",
												"bug_status": "CLOSED",
												"resolution": "ERRATA",
												"keywords": "Reopened, Triaged, ZStream",
												"priority": "high",
												"bug_severity": "medium",
												"depends_on": [
													"1260131"
												],
												"external_bugs": {
													"text": "55570",
													"name": "oVirt gerrit"
												},
												"long_desc": [
													{
														"isprivate": "0",
														"commentid": "9224592",
														"comment_count": "1",
														"who": {
															"text": "michal.skrivanek",
															"name": "Michal Skrivanek"
														},
														"bug_when": "2016-04-11 08:42:41 +0000",
														"thetext": "*** Bug 1325723 has been marked as a duplicate of this bug. ***"
													},
													{
														"isprivate": "0",
														"commentid": "9228840",
														"comment_count": "2",
														"who": {
															"text": "nsednev",
															"name": "Nikolai Sednev"
														},
														"bug_when": "2016-04-12 11:13:38 +0000",
														"thetext": "Works for me on these components:\nEngine:\nrhevm-3.6.5.1-0.1.el6.noarch\nLinux 2.6.32-573.8.1.el6.x86_64 #1 SMP Fri Sep 25 19:24:22 EDT 2015 x86_64 x86_64 x86_64 GNU/Linux\nRed Hat Enterprise Linux Server release 6.7 (Santiago)\n\nHost:\novirt-vmconsole-1.0.0-1.el7ev.noarch\nmom-0.5.2-1.el7ev.noarch\nqemu-kvm-rhev-2.3.0-31.el7_2.11.x86_64\nsanlock-3.2.4-2.el7_2.x86_64\nlibvirt-client-1.2.17-13.el7_2.4.x86_64\novirt-vmconsole-host-1.0.0-1.el7ev.noarch\nvdsm-4.17.23-0.el7ev.noarch\nLinux  3.10.0-327.el7.x86_64 #1 SMP Thu Oct 29 17:29:29 EDT 2015 x86_64 x86_64 x86_64 GNU/Linux\nRed Hat Enterprise Linux Server release 7.2 (Maipo)\n\nI've created the VM named \"ожидаемые\" with disk named \"ожидаемые\", also gave comments and description to the VM as \"ожидаемые\". The VM started normally without any issues.\nI've also tried to use Hebrew naming and named another VM \"שמוליק\" with description and comment named with the same name, the VM started OK, the disk was named \"שמוליק\" too."
													},
													{
														"isprivate": "0",
														"commentid": "9265793",
														"comment_count": "3",
														"who": {
															"text": "eedri",
															"name": "Eyal Edri"
														},
														"bug_when": "2016-04-25 14:37:53 +0000",
														"thetext": "All patches are VDSM, not ovirt-engine, fixing component.\nExternal trackers must match product/component"
													},
													{
														"isprivate": "0",
														"commentid": "9269620",
														"comment_count": "6",
														"who": {
															"text": "michal.skrivanek",
															"name": "Michal Skrivanek"
														},
														"bug_when": "2016-04-26 14:08:23 +0000",
														"thetext": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttps://rhn.redhat.com/errata/RHBA-2016-0660.html"
													}
												]
											}
										],
										"external_bugs": {
											"text": "RHEA-2016:1743",
											"name": "Red Hat Product Errata"
										},
										"long_desc": [
											{
												"isprivate": "0",
												"commentid": "8606631",
												"comment_count": "0",
												"who": {
													"text": "rmcswain",
													"name": "Robert McSwain"
												},
												"bug_when": "2015-09-04 13:44:34 +0000",
												"thetext": "Опишите проблему и ожидаемые результаты\n\nIf Cyrillic characters are used as Virtual Machine name, a VM is either can not be created or started:\n1.  A new VM can not be created if Russian characters are used in VM Name filed. It fails on disk creating stage with Russian letters:\n2015-08-31 04:44:03,802 INFO [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (ajp-/127.0.0.1:8702-23) [58150bb1] Correlation ID: 613a0c7c, Job ID: 2567f4bf-0647-40ec-ba54-e5d1494187b1, Call Stack: null, Custom Event ID: -1, Message: Add-Disk operation of РусВирт_Disk1 was initiated on VM РусВирт by admin@internal.\n2015-08-31 04:44:03,803 INFO [org.ovirt.engine.core.bll.tasks.SPMAsyncTask] (ajp-/127.0.0.1:8702-23) [58150bb1] BaseAsyncTask::startPollingTask: Starting to poll task 7608c008-8766-4631-a00e-1de3ac331a6c.\n2015-08-31 04:44:13,111 INFO [org.ovirt.engine.core.bll.tasks.AsyncTaskManager] (DefaultQuartzScheduler_Worker-9) [d627b7d] Polling and updating Async Tasks: 1 tasks, 1 tasks to poll now\n2015-08-31 04:44:13,116 ERROR [org.ovirt.engine.core.vdsbroker.vdsbroker.HSMGetAllTasksStatusesVDSCommand] (DefaultQuartzScheduler_Worker-9) [d627b7d] Failed in HSMGetAllTasksStatusesVDS method\n2015-08-31 04:44:13,116 INFO [org.ovirt.engine.core.bll.tasks.SPMAsyncTask] (DefaultQuartzScheduler_Worker-9) [d627b7d] SPMAsyncTask:ollTask: Polling task 7608c008-8766-4631-a00e-1de3ac331a6c (Parent Command AddDisk, Parameters Type org.ovirt.engine.core.common.asynctasks.AsyncTaskParameters) returned status finished, result 'cleanSuccess'.\n2015-08-31 04:44:13,137 ERROR [org.ovirt.engine.core.bll.tasks.SPMAsyncTask] (DefaultQuartzScheduler_Worker-9) [d627b7d] BaseAsyncTask::logEndTaskFailure: Task 7608c008-8766-4631-a00e-1de3ac331a6c (Parent Command AddDisk, Parameters Type org.ovirt.engine.core.common.asynctasks.AsyncTaskParameters) ended with failure:\n-- Result: cleanSuccess\n-- Message: VDSGenericException: VDSErrorException: Failed to HSMGetAllTasksStatusesVDS, error = Error creating a new volume, code = 205,\n-- Exception: VDSGenericException: VDSErrorException: Failed to HSMGetAllTasksStatusesVDS, error = Error creating a new volume, code = 205\n\n2. Run a VM which contains Russian characters in VM Name filed. Creation process  completes successfully if English characters are used in Disk Alias Name (either a new VM creation process or based from Template): \n\n2015-08-31 04:39:08,683 ERROR [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (DefaultQuartzScheduler_Worker-46) [26cbfe44] Correlation ID: null, Call Stack: null, Custom Event ID: -1, Message: VM рус_лин is down with error. Exit message: 'ascii' codec can't decode byte 0xd1 in position 67: ordinal not in range(128)\n\nОпишите окружение, в котором вы столкнулись в вышеописанной проблемой\n\n1. Default RHEL 7.1 installation (as hypervisor)\n2. RHEV-M virtual appliance (as self-hosted engine).\n\nРасскажите, когда это случилось. Это произошло один раз или повторяется регулярно?\n\nIt happens regularly:\n- VM can not be created if Russian characters are used in Disk Alias Field.\n- VM can not not be started if Russian characters are used in VM Name Field.\n\nОбоснуйте срочность запроса\n\nRussian characters support in RHEV is a part of Red Hat UI localization process in Russian language driven by Globalization Operations Team and managed by Michelle Kim."
											},
											{
												"isprivate": "0",
												"commentid": "8609003",
												"comment_count": "1",
												"who": {
													"text": "amureini",
													"name": "Allon Mureinik"
												},
												"bug_when": "2015-09-06 09:15:17 +0000",
												"thetext": "The disk's alias and description are saved in the volume's metadata, which, unfortunately does not handle non-ascii characters properly.\n\nBug 1249130 will already address this, closing as a duplicate.\n\n*** This bug has been marked as a duplicate of bug 1249130 ***"
											},
											{
												"isprivate": "0",
												"commentid": "8615889",
												"comment_count": "2",
												"who": {
													"text": "amureini",
													"name": "Allon Mureinik"
												},
												"bug_when": "2015-09-08 16:03:15 +0000",
												"thetext": "Actually, bug 1249130 is an oVirt bug. I'm reopening and we'll use this BZ to track for the relevant RHEV release(s)."
											},
											{
												"isprivate": "0",
												"commentid": "8766001",
												"comment_count": "3",
												"who": {
													"text": "eedri",
													"name": "Eyal Edri"
												},
												"bug_when": "2015-10-29 14:50:30 +0000",
												"thetext": "allon,\nthis bug has both rhevm-3.5.z and rhevm-3.6.0 flags, which means\nits a clone candidate and wasn't fixed/cloned to 3.5.\n\ncan you clarify the status or fix flags?"
											},
											{
												"isprivate": "0",
												"commentid": "8766118",
												"comment_count": "4",
												"who": {
													"text": "amureini",
													"name": "Allon Mureinik"
												},
												"bug_when": "2015-10-29 15:06:40 +0000",
												"thetext": "(In reply to Eyal Edri from comment #3)\n> allon,\n> this bug has both rhevm-3.5.z and rhevm-3.6.0 flags, which means\n> its a clone candidate and wasn't fixed/cloned to 3.5.\n> \n> can you clarify the status or fix flags?\nIdan/Tal?"
											},
											{
												"isprivate": "0",
												"commentid": "8771225",
												"comment_count": "5",
												"who": {
													"text": "amureini",
													"name": "Allon Mureinik"
												},
												"bug_when": "2015-11-01 07:07:11 +0000",
												"thetext": "(In reply to Allon Mureinik from comment #4)\n> (In reply to Eyal Edri from comment #3)\n> > allon,\n> > this bug has both rhevm-3.5.z and rhevm-3.6.0 flags, which means\n> > its a clone candidate and wasn't fixed/cloned to 3.5.\n> > \n> > can you clarify the status or fix flags?\n> Idan/Tal?\nTalked to Idan. This bug should be solved by the same patch as oVirt's bug 1249130 (where we don't clone), but it was left open as the scenario is slightly different and should be verified independently. Also, we can't mark RHEV bugs as duplicates of oVirt bugs (see comment 2).\n\nNow that this one has all the acks, it can be properly cloned to a z-stream bug."
											},
											{
												"isprivate": "0",
												"commentid": "8771229",
												"comment_count": "7",
												"who": {
													"text": "amureini",
													"name": "Allon Mureinik"
												},
												"bug_when": "2015-11-01 07:10:36 +0000",
												"thetext": "Yaniv, Aharon - I reset the component to the right one, which removed your ack.\nPlease re-instate them."
											},
											{
												"isprivate": "0",
												"commentid": "8771515",
												"comment_count": "9",
												"who": {
													"text": "ngavrilo",
													"name": "Natalie Gavrielov"
												},
												"bug_when": "2015-11-01 15:44:30 +0000",
												"thetext": "Created a VM with Cyrillic characters as a VM name, the VM was created but failed to start, getting the following messages:\n\n2015-11-01 15:38:18,277 ERROR [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (ForkJoinPool-1-worker-11) [] Correlation ID: null, Call Stack: null, Custom Event ID: -1, Message: VM Опишите is down with error. Exit message: 'ascii' codec can't decode byte 0xd0 in position 111: ordinal not in range(128).\n2015-11-01 15:38:18,287 ERROR [org.ovirt.engine.core.vdsbroker.VmsMonitoring] (ForkJoinPool-1-worker-11) [] Rerun VM '22ee032b-7371-40e8-a1b8-098a8a0ede63'. Called from VDS 'aqua-vds5'\n2015-11-01 15:38:24,809 ERROR [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (DefaultQuartzScheduler_Worker-20) [] Correlation ID: null, Call Stack: null, Custom Event ID: -1, Message: VM Опишите is down with error. Exit message: 'ascii' codec can't decode byte 0xd0 in position 111: ordinal not in range(128).\n2015-11-01 15:38:24,831 ERROR [org.ovirt.engine.core.vdsbroker.VmsMonitoring] (DefaultQuartzScheduler_Worker-20) [] Rerun VM '22ee032b-7371-40e8-a1b8-098a8a0ede63'. Called from VDS 'aqua-vds4'\n2015-11-01 15:38:25,005 ERROR [org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector] (org.ovirt.thread.pool-7-thread-7) [] Correlation ID: 532ee162, Job ID: be231f59-5f78-4e93-90d0-9295351fc101, Call Stack: null, Custom Event ID: -1, Message: Failed to run VM Опишите (User: admin@internal).\n\nTested version:\nrhevm-3.6.0.2-0.1.el6.noarch"
											},
											{
												"isprivate": "0",
												"commentid": "8771516",
												"comment_count": "10",
												"who": {
													"text": "ngavrilo",
													"name": "Natalie Gavrielov"
												},
												"bug_when": "2015-11-01 15:48:09 +0000",
												"thetext": "Created attachment 1088367\nengine.log 3.6.0.2"
											},
											{
												"isprivate": "0",
												"commentid": "8771537",
												"comment_count": "11",
												"who": {
													"text": "amureini",
													"name": "Allon Mureinik"
												},
												"bug_when": "2015-11-01 16:17:25 +0000",
												"thetext": "Tal, Idan, please take a look."
											},
											{
												"isprivate": "0",
												"commentid": "8777619",
												"comment_count": "12",
												"who": {
													"text": "ishaby",
													"name": "Idan Shaby"
												},
												"bug_when": "2015-11-03 09:34:45 +0000",
												"thetext": "Hi,\n\n1. I created a vm named ожидаемые with a disk named simple_alias.\nThe creation went ok but the vm didn't start. It failed with the error mentioned above.\n\n2. I created a vm named vm1 with a disk named ожидаемые.\nThe creation went ok and the vm started and moved to up status as expected.\n\nIMHO, there's no storage issue here."
											},
											{
												"isprivate": "0",
												"commentid": "8777627",
												"comment_count": "13",
												"who": {
													"text": "tnisan",
													"name": "Tal Nisan"
												},
												"bug_when": "2015-11-03 09:36:42 +0000",
												"thetext": "Moving to virt based on Idan's comment"
											},
											{
												"isprivate": "0",
												"commentid": "8811243",
												"comment_count": "14",
												"who": {
													"text": "michal.skrivanek",
													"name": "Michal Skrivanek"
												},
												"bug_when": "2015-11-11 15:28:33 +0000",
												"thetext": "(In reply to Natalie Gavrielov from comment #10)\n> Created attachment 1088367 [details]\n> engine.log 3.6.0.2\n\nSince the message is reported from vdsm and possibly from underlying components, please include logs from vdsm, libvirt and qemu as well\nThanks!"
											},
											{
												"isprivate": "0",
												"commentid": "8817837",
												"comment_count": "15",
												"who": {
													"text": "mzamazal",
													"name": "Milan Zamazal"
												},
												"bug_when": "2015-11-13 11:25:17 +0000",
												"thetext": "I identified two bugs regarding this problem:\n- VDSM crashes in logging code (I'll fix this one).\n- libvirt fails to create domain with non-ASCII characters, see https://bugzilla.redhat.com/show_bug.cgi?id=1062943"
											},
											{
												"isprivate": "0",
												"commentid": "8818350",
												"comment_count": "16",
												"who": {
													"text": "nsoffer",
													"name": "Nir Soffer"
												},
												"bug_when": "2015-11-13 14:25:29 +0000",
												"thetext": "(In reply to Milan Zamazal from comment #15)\n> I identified two bugs regarding this problem:\n> - VDSM crashes in logging code (I'll fix this one).\n> - libvirt fails to create domain with non-ASCII characters, see\n> https://bugzilla.redhat.com/show_bug.cgi?id=1062943\n\nSince libvirt does not support such names, the correct fix would be\nto block such vm names on the engine side, not fix vdsm.\n\nWhen libvirt start supporting such names, we can change engine and\nvdsm to support non-ascii vm names.\n\nThe proposed change, converting *all* log messages to unicode is \na vdsm performance regression."
											},
											{
												"isprivate": "0",
												"commentid": "8818920",
												"comment_count": "17",
												"who": {
													"text": "nsoffer",
													"name": "Nir Soffer"
												},
												"bug_when": "2015-11-13 17:03:21 +0000",
												"thetext": "(In reply to Natalie Gavrielov from comment #9)\n> Created a VM with Cyrillic characters as a VM name, the VM was created but\n> failed to start, getting the following messages:\n\nNatalie, please attach vdsm.log showing the timeframe when you attempted\nto start a vm with a non-ascii name. This is always needed even when you\nopen an engine bug."
											},
											{
												"isprivate": "0",
												"commentid": "8819743",
												"comment_count": "18",
												"who": {
													"text": "nsoffer",
													"name": "Nir Soffer"
												},
												"bug_when": "2015-11-13 21:40:25 +0000",
												"thetext": "(In reply to Milan Zamazal from comment #15)\n> I identified two bugs regarding this problem:\n> - VDSM crashes in logging code (I'll fix this one).\n\nThis is probably bug 1281940.\n\n> - libvirt fails to create domain with non-ASCII characters, see\n> https://bugzilla.redhat.com/show_bug.cgi?id=1062943\n\nThis can be solved by encoding the vm name using ascii charset when \ncreating the domain xml. Hopefully we are not using the vm name to \ndetect the vm, but the domain uuid. Or, using the vm uuid instead \nof the name if the name cannot be encoded as ascii.\n\nI guess users will be much happier if a vm runs, but its name is displayed\nin some places the guest as '???_???' instead of \"рус_лин\", compared to the\ncurrent situations when the vm will not run at all."
											},
											{
												"isprivate": "0",
												"commentid": "8820603",
												"comment_count": "19",
												"who": {
													"text": "nsoffer",
													"name": "Nir Soffer"
												},
												"bug_when": "2015-11-14 17:47:25 +0000",
												"thetext": "Attached patch http://gerrit.ovirt.org/48570 is implementing what the\nproposed solution in comment 18. It works, but a fix on the engine side\nmay be better.\n\nThe advantage of a vdsm side fix is working with older engines; it seems\nthat user tends to upgrade engine slower then vdsm on the host side."
											},
											{
												"isprivate": "0",
												"commentid": "8823513",
												"comment_count": "20",
												"who": {
													"text": "michal.skrivanek",
													"name": "Michal Skrivanek"
												},
												"bug_when": "2015-11-16 11:50:26 +0000",
												"thetext": "on engine side we should be using UUID mostly.\nneed to check REST API if it can return unicode names, if yes then I'm for using ascii only for vdsm purposes (in favor of uuids - for most cases this makes it easy to see via vdsClient or virsh)\nSimple transliteration to ascii-only, cutting off the trailing chars and use \ndigits suffix for colliding names"
											},
											{
												"isprivate": "0",
												"commentid": "8824075",
												"comment_count": "22",
												"who": {
													"text": "mzamazal",
													"name": "Milan Zamazal"
												},
												"bug_when": "2015-11-16 14:13:24 +0000",
												"thetext": "Created attachment 1094882\nVDSM log demonstrating the unicode bug\n\nI'm attaching excerpt from my vdsm.log demonstrating the crash in logging code due to string/unicode mismatch when using non-ASCII characters."
											},
											{
												"isprivate": "0",
												"commentid": "8825075",
												"comment_count": "23",
												"who": {
													"text": "nsoffer",
													"name": "Nir Soffer"
												},
												"bug_when": "2015-11-16 17:44:42 +0000",
												"thetext": "(In reply to Milan Zamazal from comment #22)\n> Created attachment 1094882 [details]\n> VDSM log demonstrating the unicode bug\n> \n> I'm attaching excerpt from my vdsm.log demonstrating the crash in logging\n> code due to string/unicode mismatch when using non-ASCII characters.\n\nCan you find the logging call that triggered this failure?\n\nThis error happens when you mix u'ascii' and 'utf8' strings. The u'ascii'\nvalue comes from vmId because builtin json library return all strings\nas unicode. We need to know what was the utf8 encoded string.\n\nI discussed this issue with Dan, and we agreed to go with the all-unicode\nway, since we want to make it easy to run on both python 2 and 3.\n\nTo make this work, we want all strings in vdsm to use unicode. Any value\nwe get from the outside world, e.g, xml contents from xml libraries, \nor from libvirt, data read from files, output from various commands, \nmust be decoded to unicode before using it in the application.\n\nThen, all logging calls can use unicode freely without any encoding\nissues.\n\nI suspect the logging call that print the domain xml, which is a utf8\nencoded string."
											},
											{
												"isprivate": "0",
												"commentid": "8825118",
												"comment_count": "24",
												"who": {
													"text": "nsoffer",
													"name": "Nir Soffer"
												},
												"bug_when": "2015-11-16 18:03:43 +0000",
												"thetext": "Milan, lets continue the discussion on logging breakage on bug 1281940,\n(or another one) and leave this bug for the getting vms with non-ascii\nnames to run on vdsm side."
											},
											{
												"isprivate": "0",
												"commentid": "8859675",
												"comment_count": "25",
												"who": {
													"text": "mzamazal",
													"name": "Milan Zamazal"
												},
												"bug_when": "2015-11-25 12:53:29 +0000",
												"thetext": "(In reply to Nir Soffer from comment #23)\n\n> I suspect the logging call that print the domain xml, which is a utf8\n> encoded string.\n\nExactly."
											},
											{
												"isprivate": "0",
												"commentid": "8859681",
												"comment_count": "26",
												"who": {
													"text": "mzamazal",
													"name": "Milan Zamazal"
												},
												"bug_when": "2015-11-25 12:55:58 +0000",
												"thetext": "We discussed how to handle non-ASCII VM names, here is the summary:\n\n- Conversion on VDSM side is not very safe, we should avoid using different\n  names at different places.\n- But we could use an ASCII name internally everywhere, while displaying the\n  original (possibly) non-ASCII name to the user in the Web interface where\n  possible.\n- A new database column could be added to engine database, containing the\n  (possibly) non-ASCII name as given by the user.\n- The meaning of the original VM name database column and its values remains\n  unchanged.  Engine interface just ensures it contains only permitted\n  characters (note that even some ASCII characters, such as spaces, are\n  invalid).\n- No changes are needed in VDSM in such a case.\n\nSome ideas about transforming user given VM names to \"safe\" forms:\n\n- It would be nice if the safe name had some relation to the original name, to\n  be identifiable in VDSM logs for example.\n- Maybe something like UTF-7 could be used, it avoids some problems and can be\n  decoded to the original name anywhere.\n- But beware there is a limit on VM name length and UTF-7 is not very concise\n  (although it's still better than some alternatives serving the same purpose).\n- Transformed names must be mutually unique, so techniques like truncation or\n  simplified character substitution may require adding unique suffixes or so."
											},
											{
												"isprivate": "0",
												"commentid": "8893929",
												"comment_count": "27",
												"who": {
													"text": "ahadas",
													"name": "Arik"
												},
												"bug_when": "2015-12-06 15:33:23 +0000",
												"thetext": "(In reply to Milan Zamazal from comment #26)\nIt seems like an over-specification to me.\nWe currently have a field for the VM name that can contain non-ascii characters.\nIt fails because libvirt doesn't support it, so we need to modify the name we pass to libvirt.\n1. I don't see a reason to store the name we pass to libvirt in the engine - what is it good for?\n2. Is someone interested to know the name of the VM in libvirt? from the engine's point of view, the name in libvirt/vdsm is not interesting. if in 4.0 we can break backward-compatibility, maybe we can just pass the ID of the VM as its name or to encode it as in the storage the disks are encoded."
											},
											{
												"isprivate": "0",
												"commentid": "8893936",
												"comment_count": "28",
												"who": {
													"text": "nsoffer",
													"name": "Nir Soffer"
												},
												"bug_when": "2015-12-06 15:41:03 +0000",
												"thetext": "Sending the vm id instead of the name, or \"vm-<uuid>\" should be enough on the\nengine side.\n\nHowever doing this in vdsm side has the benefit of supporting old engines. Users\nseems to be more careful about updating engine."
											},
											{
												"isprivate": "0",
												"commentid": "8893958",
												"comment_count": "29",
												"who": {
													"text": "ahadas",
													"name": "Arik"
												},
												"bug_when": "2015-12-06 16:12:43 +0000",
												"thetext": "(In reply to Nir Soffer from comment #28)\nI agree that it is better to do that in VDSM."
											},
											{
												"isprivate": "0",
												"commentid": "8895183",
												"comment_count": "30",
												"who": {
													"text": "mzamazal",
													"name": "Milan Zamazal"
												},
												"bug_when": "2015-12-07 08:15:38 +0000",
												"thetext": "It's fine to pass ASCII name to libvirt as long as we can be sure that we always do so and that there is no danger the original name appears somewhere the libvirt name is expected. I personally can't tell but some people here are a bit skeptical about that when working with two different names of the same object.\n\nAs for uuid, is it user friendly to use that? If not, do we have a better option?"
											},
											{
												"isprivate": "0",
												"commentid": "8918537",
												"comment_count": "31",
												"who": {
													"text": "michal.skrivanek",
													"name": "Michal Skrivanek"
												},
												"bug_when": "2015-12-15 09:11:47 +0000",
												"thetext": "let's wait for a resolution of bug 1285720"
											},
											{
												"isprivate": "0",
												"commentid": "9020532",
												"comment_count": "32",
												"who": {
													"text": "michal.skrivanek",
													"name": "Michal Skrivanek"
												},
												"bug_when": "2016-01-29 09:31:16 +0000",
												"thetext": "we need some resolution by GA - either fix it in underlying platform or block it in UI - and somehow handle existing VMs (not sure how, though)"
											},
											{
												"isprivate": "0",
												"commentid": "9032020",
												"comment_count": "33",
												"who": {
													"text": "michal.skrivanek",
													"name": "Michal Skrivanek"
												},
												"bug_when": "2016-02-03 10:55:46 +0000",
												"thetext": "bug 1282846 should provide a solution which is transparent to RHEV, no changes are needed and the internationalized VMs should start working once the bug is fixed\n\nkeeping open to depend on the right libvirt once it's available"
											},
											{
												"isprivate": "0",
												"commentid": "9049165",
												"comment_count": "36",
												"who": {
													"text": "mzamazal",
													"name": "Milan Zamazal"
												},
												"bug_when": "2016-02-10 12:11:11 +0000",
												"thetext": "It seems the problem has been fixed in https://bugzilla.redhat.com/1282846 and https://bugzilla.redhat.com/1281940. I verified that with current libvirt master and Vdsm master it's possible to start a VM with non-ASCII characters in its name."
											},
											{
												"isprivate": "0",
												"commentid": "9158936",
												"comment_count": "37",
												"who": {
													"text": "mzamazal",
													"name": "Milan Zamazal"
												},
												"bug_when": "2016-03-18 09:07:31 +0000",
												"thetext": "Waiting for the libvirt fix in downstream backport: https://bugzilla.redhat.com/1308494"
											},
											{
												"isprivate": "0",
												"commentid": "9164951",
												"comment_count": "38",
												"who": {
													"text": "michal.skrivanek",
													"name": "Michal Skrivanek"
												},
												"bug_when": "2016-03-21 13:55:31 +0000",
												"thetext": "will be addressed by https://bugzilla.redhat.com/show_bug.cgi?id=1292096#c10"
											},
											{
												"isprivate": "0",
												"commentid": "9199630",
												"comment_count": "39",
												"who": {
													"text": "mzamazal",
													"name": "Milan Zamazal"
												},
												"bug_when": "2016-04-01 11:07:34 +0000",
												"thetext": "New libvirt available downstream, Vdsm dependency in 3.6 updated."
											},
											{
												"isprivate": "0",
												"commentid": "9228892",
												"comment_count": "41",
												"who": {
													"text": "nsednev",
													"name": "Nikolai Sednev"
												},
												"bug_when": "2016-04-12 11:23:56 +0000",
												"thetext": "Works for me.\nbug #1323140 have been verified, tested the same work flow as in bug #1323140, on these components:\nEngine:\novirt-engine-setup-base-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-websocket-proxy-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-vmconsole-proxy-helper-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-restapi-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-cli-4.0.0.0-0.3.20160208.gitded440f.el7.centos.noarch\novirt-engine-lib-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-extension-aaa-jdbc-1.1.0-0.0.master.20160215110938.git8ebdaba.el7.noarch\novirt-engine-setup-plugin-ovirt-engine-common-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-setup-plugin-websocket-proxy-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-webadmin-portal-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-userportal-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-setup-plugin-vmconsole-proxy-helper-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-setup-plugin-ovirt-engine-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-backend-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-wildfly-overlay-10.0.0-1.el7.noarch\novirt-engine-wildfly-10.0.0-1.el7.x86_64\novirt-engine-tools-backup-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-tools-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-setup-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-dbscripts-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\novirt-engine-sdk-python-3.6.5.1-0.1.20160330.gitbec59a2.el7.centos.noarch\novirt-engine-extensions-api-impl-4.0.0-0.0.master.20160404161620.git4ffd5a4.el7.centos.noarch\nLinux 3.10.0-327.13.1.el7.x86_64 #1 SMP Thu Mar 31 16:04:38 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\nCentOS Linux release 7.2.1511 (Core) \n\nHost:\nqemu-kvm-rhev-2.3.0-31.el7_2.11.x86_64\nlibvirt-client-1.2.17-13.el7_2.4.x86_64\nvdsm-4.17.999-817.git03d82f6.el7.centos.noarch\nmom-0.5.2-0.0.master.20160226114234.git95535d1.el7.noarch\nsanlock-3.2.4-2.el7_2.x86_64\nLinux 3.10.0-327.18.2.el7.x86_64 #1 SMP Fri Apr 8 05:09:53 EDT 2016 x86_64 x86_64 x86_64 GNU/Linux\nRed Hat Enterprise Linux Server release 7.2 (Maipo)\n\nPASS."
											},
											{
												"isprivate": "0",
												"commentid": "9373063",
												"comment_count": "43",
												"who": {
													"text": "nsednev",
													"name": "Nikolai Sednev"
												},
												"bug_when": "2016-05-31 15:11:08 +0000",
												"thetext": "Works for me on these components:\nNGN 4.0 Host:\novirt-vmconsole-host-1.0.2-0.0.master.20160517094103.git06df50a.el7.noarch\nvdsm-4.17.999-1155.gitcf216a0.el7.centos.x86_64\novirt-setup-lib-1.0.2-0.0.master.20160502125738.gitf05af9e.el7.centos.noarch\novirt-release40-4.0.0-0.3.beta1.noarch\novirt-vmconsole-1.0.2-0.0.master.20160517094103.git06df50a.el7.noarch\nlibvirt-client-1.2.17-13.el7_2.4.x86_64\novirt-engine-sdk-python-3.6.5.1-0.1.20160507.git5fb7e0e.el7.centos.noarch\novirt-host-deploy-1.5.0-0.1.alpha1.el7.centos.noarch\novirt-hosted-engine-setup-2.0.0-0.1.beta1.el7.centos.noarch\novirt-release-host-node-4.0.0-0.3.beta1.el7.noarch\novirt-engine-appliance-4.0-20160528.1.el7.centos.noarch\nsanlock-3.2.4-2.el7_2.x86_64\novirt-hosted-engine-ha-2.0.0-0.1.beta1.el7.centos.noarch\novirt-node-ng-image-update-placeholder-4.0.0-0.3.beta1.el7.noarch\nCentOS Linux release 7.2.1511 (Core) \nLinux 3.10.0-327.18.2.el7.x86_64 #1 SMP Thu May 12 11:03:55 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\nLinux version 3.10.0-327.18.2.el7.x86_64 (builder@kbuilder.dev.centos.org) (gcc version 4.8.3 20140911 (Red Hat 4.8.3-9) (GCC) ) #1 SMP Thu May 12 11:03:55 UTC 2016\n\nEngine:\nrhevm-guest-agent-common-1.0.12-1.el7ev.noarch                                                    \nrhevm-setup-plugins-4.0.0-0.3.alpha.el7ev.noarch\nrhevm-branding-rhev-4.0.0-0.0.master.20160219183625.el7ev.noarch\nrhevm-doc-4.0.0-2.el7ev.noarch\nrhevm-4.0.0-0.7.master.el7ev.noarch\nrhevm-dependencies-4.0.0-0.1.alpha.git9ae0cc3.el7ev.noarch\nLinux 3.10.0-327.22.1.el7.x86_64 #1 SMP Mon May 16 13:31:48 EDT 2016 x86_64 x86_64 x86_64 GNU/Linux\nLinux version 3.10.0-327.22.1.el7.x86_64 (mockbuild@x86-034.build.eng.bos.redhat.com) (gcc version 4.8.5 20150623 (Red Hat 4.8.5-4) (GCC) ) #1 SMP Mon May 16 13:31:48 EDT 2016\nRed Hat Enterprise Linux Server release 7.2 (Maipo)\n\nVM was created and ran as appears within the attached movie."
											},
											{
												"isprivate": "0",
												"commentid": "9373065",
												"comment_count": "44",
												"who": {
													"text": "nsednev",
													"name": "Nikolai Sednev"
												},
												"bug_when": "2016-05-31 15:12:12 +0000",
												"thetext": "Created attachment 1163278\n111-2016-05-31_18.03.12.mkv"
											},
											{
												"isprivate": "0",
												"commentid": "9642470",
												"comment_count": "46",
												"who": {
													"text": "errata-xmlrpc",
													"name": "errata-xmlrpc"
												},
												"bug_when": "2016-08-23 20:29:00 +0000",
												"thetext": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttps://rhn.redhat.com/errata/RHEA-2016-1743.html"
											}
										]
									}
								],
								"external_bugs": {
									"text": "RHBA-2016:0555",
									"name": "Red Hat Product Errata"
								},
								"long_desc": [
									{
										"isprivate": "0",
										"commentid": "9064237",
										"comment_count": "0",
										"who": {
											"text": "mkolaja",
											"name": "Marcel Kolaja"
										},
										"bug_when": "2016-02-15 11:55:11 +0000",
										"thetext": "This bug has been copied from bug #1282846 and has been proposed\nto be backported to 7.2 z-stream (EUS)."
									},
									{
										"isprivate": "0",
										"commentid": "9100752",
										"comment_count": "11",
										"who": {
											"text": "mkletzan",
											"name": "Martin Kletzander"
										},
										"bug_when": "2016-02-26 15:30:12 +0000",
										"thetext": "Still one detail missing, it was found out in the Fedora BZ:\n\n  https://bugzilla.redhat.com/show_bug.cgi?id=1062943#c24\n\nThe fix has been proposed upstream:\n\n  https://www.redhat.com/archives/libvir-list/2016-February/msg01369.html"
									},
									{
										"isprivate": "0",
										"commentid": "9109644",
										"comment_count": "12",
										"who": {
											"text": "mkletzan",
											"name": "Martin Kletzander"
										},
										"bug_when": "2016-03-01 10:48:34 +0000",
										"thetext": "The additional fix has been merged upstream as v1.3.2-1-ga89f05ba8df0:\n\ncommit a89f05ba8df095875f5ec8a9065a585af63a010b\nAuthor: Martin Kletzander <mkletzan@redhat.com>\nDate:   Fri Feb 26 09:15:55 2016 +0100\n\n    qemu: Shorten per-domain directory names\n\nHowever, that will not be back-ported due to its invasiveness/usefulness ratio.  Hence this BZ can be back moved to POST as it will deal with the initial problem and the second one will be reopened."
									},
									{
										"isprivate": "0",
										"commentid": "9128545",
										"comment_count": "14",
										"who": {
											"text": "zhwang",
											"name": "zhenfeng wang"
										},
										"bug_when": "2016-03-08 11:44:00 +0000",
										"thetext": "Verify this bug with libvirt-1.2.17-13.el7_2.4\nsteps\n1.Prepare a guest with non-ACSII name\n#virsh dumpxml \n   Id        Name                           State\n----------------------------------------------------\n -     kīмсhīkīмсhīkīмсhī-∨м              shut off\n\n# virsh start  kīмсhīkīмсhīkīмсhī-∨м\nDomain kīмсhīkīмсhīkīмсhī-∨м started\n#virsh dumpxml  kīмсhīkīмсhīkīмсhī-∨м\n--\n\n    <channel type='unix'>\n      <source mode='bind' path='/var/lib/libvirt/qemu/channel/target/domain-kīмсhīkīмсhīkīмсhī-∨м/org.qemu.guest_agent.0'/>\n      <target type='virtio' name='org.qemu.guest_agent.0' state='connected'/>\n      <alias name='channel1'/>\n      <address type='virtio-serial' controller='0' bus='0' port='2'/>\n    </channel>\n--\n    <graphics type='vnc' socket='/var/lib/libvirt/qemu/domain-kīмсhīkīмсhīkīмсhī-∨м/vnc.sock'>\n      <listen type='address' address='127.0.0.1'/>\n    </graphics>\n\n2.Check the guest agent works well\n# virsh domtime kīмсhīkīмсhīkīмсhī-∨м --pretty\nTime: 2016-03-08 11:02:56\n\n# virsh domifaddr kīмсhīkīмсhīkīмсhī-∨м --source agent\n Name       MAC address          Protocol     Address\n-------------------------------------------------------------------------------\n lo         00:00:00:00:00:00    ipv4         127.0.0.1/8\n -          -                    ipv6         ::1/128\n ens3       52:54:00:62:9f:bb    ipv4         192.168.122.190/24\n -          -                    ipv6         fe80::5054:ff:fe62:9fbb/64\n virbr0     52:54:00:dc:98:bf    ipv4         192.168.124.1/24\n virbr0-nic 52:54:00:dc:98:bf    N/A          N/A\n\n3.connect the guest with the vnc viewer, could connect successfully\n# virt-viewer kīмсhīkīмсhīkīмсhī-∨м\n\n4.Do managedsave/restore with the guest, it works well\n# virsh managedsave kīмсhīkīмсhīkīмсhī-∨м\n\nDomain kīмсhīkīмсhīkīмсhī-∨м state saved by libvirt\n\n# virsh start kīмсhīkīмсhīkīмсhī-∨м\nDomain kīмсhīkīмсhīkīмсhī-∨м started\n\nScenario 2\nThis issue only happen in rhel7 and works well in rhel6, so cover the cross migration scenario \n1.Prepare a cross migration env, source machine was rhel6.8, target was rhel7.2.z\n2.Prepare a guest which named kīмсhīkīмсhīkīмсhī-∨м in the source host\n\n3.Migrate the guest from the source to the target ,could migrate successfully\n# virsh migrate --live kīмсhīkīмсhīkīмсhī-∨м qemu+ssh://$target_ip/system --verbose \nMigration: [100 %]\n\n4check the guest in the target, both the guest agent and vnc sokcet works well\n# virsh list --all\n Id    Name                           State\n----------------------------------------------------\n 26    kīмсhīkīмсhīkīмсhī-∨м running\n\n# virsh domtime kīмсhīkīмсhīkīмсhī-∨м --pretty\nTime: 2016-03-08 11:35:00\n# virt-viewer kīмсhīkīмсhīkīмсhī-∨м"
									},
									{
										"isprivate": "0",
										"commentid": "9128580",
										"comment_count": "15",
										"who": {
											"text": "zhwang",
											"name": "zhenfeng wang"
										},
										"bug_when": "2016-03-08 12:01:43 +0000",
										"thetext": "Hi Martin\nIn comment12, you said that \"this bz deal with the initial problem and the second one will be reopened.\"  Did you mean this bz only fix the non-ACSII issue and the name length limitation issue will be tracked by the seperate bz?\n\nI also try the name length issue with the patch apply in this bz, found the guest will fail to start while the name length was longer than 65 character(previously, the name length limitation was 59 character, refer bz 1289363), BTW, the name length limitation issue didn't exsit in rhel6, only for rhel7, so this issue may affect the cross migration from rhel6 to rhel7 with the longer guest name."
									},
									{
										"isprivate": "0",
										"commentid": "9128932",
										"comment_count": "16",
										"who": {
											"text": "mkletzan",
											"name": "Martin Kletzander"
										},
										"bug_when": "2016-03-08 13:16:54 +0000",
										"thetext": "(In reply to zhenfeng wang from comment #15)\nYes, this deals only with non-ASCII characters in the name.  As a consequence the limitation for long names has changed, but not to a specific number (it all depends on configuration etc.).  And the fix for unlimited name length is upstream, but is very intrusive to back-port since we haven't found this problem earlier than in 7.2.  Also there will be limitation when migrating from rhel6 but only for certain versions, some of them had length limitation as well until that was fixed."
									},
									{
										"isprivate": "0",
										"commentid": "9140772",
										"comment_count": "17",
										"who": {
											"text": "zhwang",
											"name": "zhenfeng wang"
										},
										"bug_when": "2016-03-11 09:13:07 +0000",
										"thetext": "Thanks Martin's response, add the following additional test scenarios\nscenario 1\n1.Prepare a guest with non-ACSII name and panic device configured\n#virsh dumpxml kīмсhīkīмсhīkīмсhī-∨м\n--\n  <on_crash>coredump-restart</on_crash\n--\n<panic/>\n\n2.Login guest and crash the guest, could get the dump file in the host and analysis it successfully\nguest# echo c >/proc/sysrq-trigger\nhost# ll /var/lib/libvirt/qemu/dump/\n-rw-------. 1 root root 1208100888 Mar 11 13:37 kīмсhīkīмсhīkīмсhī-∨м-2016-03-11-13:37:48\n\n# crash /usr//lib/debug/lib/modules/3.10.0-362.el7.x86_64/vmlinux kīмсhīkīмсhīkīмсhī-∨м-2016-03-11-13\\:37\\:48\n\nscenario2 \n\nTry other special guest name with the upper all test scenarios, such as following, it could get the same result \n# virsh list\n Id    Name                           State\n----------------------------------------------------\n 5     1#2%+3_*Bb\\                    running\n\n\nAccording to the upper steps, mark this bug verifed"
									},
									{
										"isprivate": "0",
										"commentid": "9197876",
										"comment_count": "19",
										"who": {
											"text": "errata-xmlrpc",
											"name": "errata-xmlrpc"
										},
										"bug_when": "2016-03-31 22:08:23 +0000",
										"thetext": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttps://rhn.redhat.com/errata/RHBA-2016-0555.html"
									}
								]
							}
						],
						"external_bugs": {
							"text": "RHSA-2016:2577",
							"name": "Red Hat Product Errata"
						},
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "8828113",
								"comment_count": "0",
								"who": {
									"text": "danken",
									"name": "Dan Kenigsberg"
								},
								"bug_when": "2015-11-17 15:49:30 +0000",
								"thetext": "Apparently this bug has propagated to el7 and now affects RHEV-3.5 and 3.6 when deployed over RHEL-7. I assume it would block live migration of VMs with non-ascii names from el6 to el7 (which is an important feature of RHEV-3.5).\n\n+++ This bug was initially created as a clone of Bug #1062943 +++\n\nDescription of problem:\nlibvirt can define and undefine a VM with a non-ACSII char name.\nbut it can not start this VM.\n\nVersion-Release number of selected component (if applicable):\n$ libvirtd --version\nlibvirtd (libvirt) 1.1.3.2\n\nHow reproducible:\ncreate a VM with with a non-ACSII chars name, such as \"kīмсhī-∨м\" and start this VM.\n\nSteps to Reproduce:\n1. define a VM with a non-ACSII chars name. we can define it by virsh.\n2. start this VM.\n3. undefine this VM.\n\nActual results:\nfailed to start VM for invalid argument.\n\n\nExpected results:\nit should start the VM successfully.\n\nAdditional info:\n\nthe libvirtd.log report\n2014-02-09 03:05:35.001+0000: 11376: error : virDBusCallMethod:1173 : Invalid argument\n\n/var/log/libvirt/qemu/kīмсhī-∨м.log reports\n2014-02-08 15:31:03.391+0000: starting up\nLC_ALL=C PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin QEMU_AUDIO_DRV=none /usr/bin/qemu-kvm -name kīмсhī-∨м -S -machine pc-i440fx-1.6,accel=kvm,usb=off -m 1024 -realtime mlock=off -smp 1,sockets=1,cores=1,threads=1 -uuid 6e8233dd-0c00-4c78-b4a6-bffcd1ced26c -no-user-config -nodefaults -chardev socket,id=charmonitor,path=/var/lib/libvirt/qemu/kīмсhī-∨м.monitor,server,nowait -mon chardev=charmonitor,id=monitor,mode=control -rtc base=utc -no-shutdown -device piix3-usb-uhci,id=usb,bus=pci.0,addr=0x1.0x2 -drive if=none,id=drive-ide0-1-0,readonly=on,format=raw -device ide-cd,bus=ide.1,unit=0,drive=drive-ide0-1-0,id=ide0-1-0 -netdev tap,fd=25,id=hostnet0 -device e1000,netdev=hostnet0,id=net0,mac=52:54:00:3f:27:31,bus=pci.0,addr=0x3 -vnc 0.0.0.0:0 -device cirrus-vga,id=video0,bus=pci.0,addr=0x2 -device intel-hda,id=sound0,bus=pci.0,addr=0x4 -device hda-duplex,id=sound0-codec0,bus=sound0.0,cad=0 -device virtio-balloon-pci,id=balloon0,bus=pci.0,addr=0x5\n2014-02-08 15:31:03.398+0000libvirt:  error : libvirtd quit during handshake: Input/output error\n\n--- Additional comment from Cole Robinson on 2014-02-09 16:09:39 IST ---\n\nI wonder if this something related to systemd scope names, like https://bugzilla.redhat.com/show_bug.cgi?id=1033369\n\n--- Additional comment from Shaohe Feng on 2014-02-09 16:59:02 IST ---\n\nThe name of the VM I create is \"kīмсhī-∨м\", less than 60 characters.\n\nbut the \"Invalid argument\" error also comes from dbus api call (virDBusCallMethod).\n\n--- Additional comment from Shaohe Feng on 2014-02-09 17:01:20 IST ---\n\nAdditional info:\nI can create an start a VM with \"kīмсhī-∨м\" name on F17 and F19.\n\n--- Additional comment from Cole Robinson on 2014-02-09 18:09:15 IST ---\n\nPlease re-read my comment: I was suggesting that the non-ascii limitation may be another thing introduced by systemd scope usage, which is new in f20.\n\n--- Additional comment from Shaohe Feng on 2014-02-10 05:20:19 IST ---\n\nI'm not sure it is another limit on scope names. Any doc about the systemd scope usage?\nIf it is, it is not good to our project kimchi.https://github.com/kimchi-project/kimchi/\n\ninternational is an important feature of kimchi.\nkimchi do want different users from different country can manage their VMs by their local language.\n\nIf f20 insists on this limit, can kimchi work aroud it?\n\n--- Additional comment from Laine Stump on 2014-02-10 11:58:10 IST ---\n\nI don't think there was any suggestion of F20, or anything else, insisting on this limitation; Cole was only making a suggestion of a possible root cause of the problem. Once we've determined the root cause, *then* we can figure out how to fix it.\n\n--- Additional comment from  on 2015-02-11 21:31:59 IST ---\n\nAny updates on this? We'd still like to have the ability to use VMs with unicode characters (as mentioned in Comment #5).\n\n--- Additional comment from Crístian Deives on 2015-02-11 22:47:08 IST ---\n\nThe attached script reproduces this bug. I can reproduce it on Fedora 21 with libvirt-1.2.9.1-2.fc21.x86_64.\n\n--- Additional comment from Cole Robinson on 2015-04-02 20:53:12 IDT ---\n\nStill relevant on F22. I wonder if we can switch to using UUID scope names? Not sure if that's within libvirt's control or if it's dictated by systemd APIs\n\nIf this is affecting kimchi I'd recommend you rework the app to use standard ascii for VM names, but keep unicode and pretty text as part of the <title> attribute which doesn't have any restrictions. It's what gnome-boxes does for example\n\n--- Additional comment from Cole Robinson on 2015-05-31 22:41:21 IDT ---\n\n\n\n--- Additional comment from IBM Bug Proxy on 2015-06-02 16:50:46 IDT ---\n\n------- Comment From clnperez@us.ibm.com 2015-06-02 13:44 EDT-------\nOn the Kimchi side, we've gone with the suggested workaround. Thanks."
							},
							{
								"isprivate": "0",
								"commentid": "8831888",
								"comment_count": "1",
								"who": {
									"text": "mkletzan",
									"name": "Martin Kletzander"
								},
								"bug_when": "2015-11-18 15:57:20 +0000",
								"thetext": "This works perfectly fine without systemd, so I believe it must be a limitation of systemd/machined or anything related to the machine cgroup creation.  So I'm re-assigning this to systemd for futher triage."
							},
							{
								"isprivate": "0",
								"commentid": "8831941",
								"comment_count": "2",
								"who": {
									"text": "berrange",
									"name": "Daniel Berrangé"
								},
								"bug_when": "2015-11-18 16:13:57 +0000",
								"thetext": "No, this is a bug in libvirt - it is failing to escape the machine name in virSystemdMakeMachineName"
							},
							{
								"isprivate": "0",
								"commentid": "8862300",
								"comment_count": "3",
								"who": {
									"text": "mkletzan",
									"name": "Martin Kletzander"
								},
								"bug_when": "2015-11-26 10:23:56 +0000",
								"thetext": "I managed to fix this fact (intentionally not saying bug, because why couldn't we talk in utf-8 in 21st century) in libvirt, but it still didn't work.  After discussion with systemd engineers, there's also bug in machined, so I'm cloning this BZ for systemd to make sure both issues are fixed."
							},
							{
								"isprivate": "0",
								"commentid": "8862959",
								"comment_count": "4",
								"who": {
									"text": "mkletzan",
									"name": "Martin Kletzander"
								},
								"bug_when": "2015-11-26 14:38:56 +0000",
								"thetext": "Fixed upstream with v1.2.21-144-ge24eda48cfae:\n\ncommit e24eda48cfae84a9003456b68eaf753a26123639\nAuthor: Martin Kletzander <mkletzan@redhat.com>\nDate:   Tue Nov 24 15:56:12 2015 +0100\n\n    systemd: Escape machine name for machined"
							},
							{
								"isprivate": "0",
								"commentid": "8866034",
								"comment_count": "6",
								"who": {
									"text": "mkletzan",
									"name": "Martin Kletzander"
								},
								"bug_when": "2015-11-27 15:42:06 +0000",
								"thetext": "One more fix needed is v1.2.21-164-g0e0149ce91d8:\n\ncommit 0e0149ce91d84f40b98acf4c4bb0da6e29b9c15c\nAuthor: Martin Kletzander <mkletzan@redhat.com>\nDate:   Fri Nov 27 14:24:38 2015 +0100\n\n    systemd: Escape only needed characters for machined"
							},
							{
								"isprivate": "0",
								"commentid": "8903633",
								"comment_count": "7",
								"who": {
									"text": "zhwang",
									"name": "zhenfeng wang"
								},
								"bug_when": "2015-12-09 05:36:37 +0000",
								"thetext": "could reproduce this issue with libvirt-1.2.17-13.el7_2.2.x86_64\n\n1.Prepare a vm with non-ACSII chars name\n#cat vm.xml\n<domain type='kvm'>\n  <name>\"kīмсhī-∨м</name>\n--\n\n#virsh define vm.xml\n# virsh list --all\n Id    Name                           State\n----------------------------------------------------\n -     kīмсhī-∨м               shut off\n\n2.Start the vm, but the vm will fail to start\n\n# virsh start kīмсhī-∨м \nerror: Failed to start domain kīмсhī-∨м\nerror: Invalid machine name\n\ncheck the vm's log, got the following error info\n#cat /var/log/libvirt/qemu/kīмсhī-∨м.log\n--\nlibvirt:  error : libvirtd quit during handshake: Input/output error\n\ncheck the libvirtd's log, got the following info\n--\n2015-12-09 05:08:56.243+0000: 1665: info : virDBusCall:1554 : DBUS_METHOD_ERROR: 'org.freedesktop.machine1.Manager.CreateMachineWithNetwork' on '/org/freedesktop/machine1' at 'org.freedesktop.machine1' error org.freedesktop.DBus.Error.InvalidArgs: Invalid machine name\n2015-12-09 05:08:56.243+0000: 1665: error : virSystemdCreateMachine:289 : Invalid machine name"
							},
							{
								"isprivate": "0",
								"commentid": "9004516",
								"comment_count": "8",
								"who": {
									"text": "mkletzan",
									"name": "Martin Kletzander"
								},
								"bug_when": "2016-01-23 15:11:25 +0000",
								"thetext": "We're still waiting for a discussion in systemd as to how to handle this because the design is still not clear yet.  We're trying to move on as soon as possible."
							},
							{
								"isprivate": "0",
								"commentid": "9007153",
								"comment_count": "9",
								"who": {
									"text": "michal.skrivanek",
									"name": "Michal Skrivanek"
								},
								"bug_when": "2016-01-25 12:51:33 +0000",
								"thetext": "(In reply to Martin Kletzander from comment #8)\n> We're still waiting for a discussion in systemd as to how to handle this\n> because the design is still not clear yet.  We're trying to move on as soon\n> as possible.\n\nso, since that bug was just closed as won'tfix...why exactly we need systemd for that in libvirt? Can it be removed from libvirt? Can libvirt work around that stupid limitation?"
							},
							{
								"isprivate": "0",
								"commentid": "9030293",
								"comment_count": "11",
								"who": {
									"text": "mkletzan",
									"name": "Martin Kletzander"
								},
								"bug_when": "2016-02-02 20:08:32 +0000",
								"thetext": "(In reply to Michal Skrivanek from comment #9)\nWell, that is what I've done, but that was a last resort.  We needed the systemd bug to be fixed, even by documentation update.  We couldn't do that blindly before.  I'll update this BZ with new info later today."
							},
							{
								"isprivate": "0",
								"commentid": "9030301",
								"comment_count": "12",
								"who": {
									"text": "mkletzan",
									"name": "Martin Kletzander"
								},
								"bug_when": "2016-02-02 20:14:33 +0000",
								"thetext": "*** Bug 1289363 has been marked as a duplicate of this bug. ***"
							},
							{
								"isprivate": "0",
								"commentid": "9030375",
								"comment_count": "13",
								"who": {
									"text": "mkletzan",
									"name": "Martin Kletzander"
								},
								"bug_when": "2016-02-02 20:37:31 +0000",
								"thetext": "Disregard comment #4, new fix has been posted upstream:\n\n\nhttps://www.redhat.com/archives/libvir-list/2016-February/msg00133.html"
							},
							{
								"isprivate": "0",
								"commentid": "9039224",
								"comment_count": "15",
								"who": {
									"text": "mkletzan",
									"name": "Martin Kletzander"
								},
								"bug_when": "2016-02-05 15:18:21 +0000",
								"thetext": "Fixed upstream by v1.3.1-125-gc3bd0019c0e3:\n\ncommit c3bd0019c0e3f080dbf0d4bd08245ffb2daa2765\nAuthor: Martin Kletzander <mkletzan@redhat.com>\nDate:   Mon Feb 1 16:50:54 2016 +0100\n\n    systemd: Modernize machine naming"
							},
							{
								"isprivate": "0",
								"commentid": "9040442",
								"comment_count": "16",
								"who": {
									"text": "mkletzan",
									"name": "Martin Kletzander"
								},
								"bug_when": "2016-02-06 10:43:31 +0000",
								"thetext": "Also needed:\n\ncommit a3b168d01a6254a5972d4eda87d7cbc3d9cdb3ef\nAuthor: Michal Privoznik <mprivozn@redhat.com>\nDate:   Fri Feb 5 17:17:45 2016 +0100\n\n    virSystemdGetMachineNameByPID: Initialize @reply"
							},
							{
								"isprivate": "0",
								"commentid": "9176067",
								"comment_count": "25",
								"who": {
									"text": "zhwang",
									"name": "zhenfeng wang"
								},
								"bug_when": "2016-03-24 10:49:34 +0000",
								"thetext": "Scenario1\n1.Prepare a guest with non-ACSII name\n#virsh dumpxml \n   Id        Name                           State\n----------------------------------------------------\n -     kīмсhīkīмсhīkīмсhī-∨м              shut off\n\n# virsh start  kīмсhīkīмсhīkīмсhī-∨м\nDomain kīмсhīkīмсhīkīмсhī-∨м started\n#virsh dumpxml  kīмсhīkīмсhīkīмсhī-∨м\n--\n\n    <channel type='unix'>\n      <source mode='bind' path='/var/lib/libvirt/qemu/channel/target/domain-kīмсhīkīмсhīkīмсhī-∨м/org.qemu.guest_agent.0'/>\n      <target type='virtio' name='org.qemu.guest_agent.0' state='connected'/>\n      <alias name='channel1'/>\n      <address type='virtio-serial' controller='0' bus='0' port='2'/>\n    </channel>\n--\n    <graphics type='vnc' socket='/var/lib/libvirt/qemu/domain-kīмсhīkīмсhīkīмсhī-∨м/vnc.sock'>\n      <listen type='address' address='127.0.0.1'/>\n    </graphics>\n\n2.Check the guest agent works well\n# virsh domtime kīмсhīkīмсhīkīмсhī-∨м --pretty\nTime: 2016-03-08 11:02:56\n\n# virsh domifaddr kīмсhīkīмсhīkīмсhī-∨м --source agent\n Name       MAC address          Protocol     Address\n-------------------------------------------------------------------------------\n lo         00:00:00:00:00:00    ipv4         127.0.0.1/8\n -          -                    ipv6         ::1/128\n ens3       52:54:00:62:9f:bb    ipv4         192.168.122.190/24\n -          -                    ipv6         fe80::5054:ff:fe62:9fbb/64\n virbr0     52:54:00:dc:98:bf    ipv4         192.168.124.1/24\n virbr0-nic 52:54:00:dc:98:bf    N/A          N/A\n\n3.connect the guest with the vnc viewer, could connect successfully\n# virt-viewer kīмсhīkīмсhīkīмсhī-∨м\n\n4.Do managedsave/restore with the guest, it works well\n# virsh managedsave kīмсhīkīмсhīkīмсhī-∨м\n\nDomain kīмсhīkīмсhīkīмсhī-∨м state saved by libvirt\n\n# virsh start kīмсhīkīмсhīkīмсhī-∨м\nDomain kīмсhīkīмсhīkīмсhī-∨м started\n\n5.Prepare a guest with non-ACSII name and panic device configured\n#virsh dumpxml kīмсhīkīмсhīkīмсhī-∨м\n--\n  <on_crash>coredump-restart</on_crash\n--\n<panic/>\n\n6.Login guest and crash the guest, could get the dump file in the host and analysis it successfully\nguest# echo c >/proc/sysrq-trigger\nhost# ll /var/lib/libvirt/qemu/dump/\n-rw-------. 1 root root 1208100888 Mar 11 13:37 kīмсhīkīмсhīkīмсhī-∨м-2016-03-11-13:37:48\n\n# crash /usr//lib/debug/lib/modules/3.10.0-362.el7.x86_64/vmlinux kīмсhīkīмсhīkīмсhī-∨м-2016-03-11-13\\:37\\:48\n\nScenario2\nTry other special guest name with the upper all test scenarios, such as following, it could get the same result \n# virsh list\n Id    Name                           State\n----------------------------------------------------\n 5     1#2%+3_*Bb\\                    running\n\n\nAccording to the upper steps, mark this bug verifed"
							},
							{
								"isprivate": "0",
								"commentid": "9176071",
								"comment_count": "26",
								"who": {
									"text": "zhwang",
									"name": "zhenfeng wang"
								},
								"bug_when": "2016-03-24 10:51:24 +0000",
								"thetext": "The upper steps verified with \nlibvirt-1.3.2-1.el7.x86_64\nqemu-kvm-rhev-2.5.0-2.el7.x86_64"
							},
							{
								"isprivate": "0",
								"commentid": "9854238",
								"comment_count": "28",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2016-11-03 18:31:01 +0000",
								"thetext": "Since the problem described in this bug report should be\nresolved in a recent advisory, it has been closed with a\nresolution of ERRATA.\n\nFor information on the advisory, and where to find the updated\nfiles, follow the link below.\n\nIf the solution does not work for you, open a new bug report.\n\nhttps://rhn.redhat.com/errata/RHSA-2016-2577.html"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "6798989",
						"comment_count": "0",
						"who": {
							"text": "shaohef",
							"name": "Shaohe Feng"
						},
						"bug_when": "2014-02-09 03:39:39 +0000",
						"thetext": "Description of problem:\nlibvirt can define and undefine a VM with a non-ACSII char name.\nbut it can not start this VM.\n\nVersion-Release number of selected component (if applicable):\n$ libvirtd --version\nlibvirtd (libvirt) 1.1.3.2\n\nHow reproducible:\ncreate a VM with with a non-ACSII chars name, such as \"kīмсhī-∨м\" and start this VM.\n\nSteps to Reproduce:\n1. define a VM with a non-ACSII chars name. we can define it by virsh.\n2. start this VM.\n3. undefine this VM.\n\nActual results:\nfailed to start VM for invalid argument.\n\n\nExpected results:\nit should start the VM successfully.\n\nAdditional info:\n\nthe libvirtd.log report\n2014-02-09 03:05:35.001+0000: 11376: error : virDBusCallMethod:1173 : Invalid argument\n\n/var/log/libvirt/qemu/kīмсhī-∨м.log reports\n2014-02-08 15:31:03.391+0000: starting up\nLC_ALL=C PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin QEMU_AUDIO_DRV=none /usr/bin/qemu-kvm -name kīмсhī-∨м -S -machine pc-i440fx-1.6,accel=kvm,usb=off -m 1024 -realtime mlock=off -smp 1,sockets=1,cores=1,threads=1 -uuid 6e8233dd-0c00-4c78-b4a6-bffcd1ced26c -no-user-config -nodefaults -chardev socket,id=charmonitor,path=/var/lib/libvirt/qemu/kīмсhī-∨м.monitor,server,nowait -mon chardev=charmonitor,id=monitor,mode=control -rtc base=utc -no-shutdown -device piix3-usb-uhci,id=usb,bus=pci.0,addr=0x1.0x2 -drive if=none,id=drive-ide0-1-0,readonly=on,format=raw -device ide-cd,bus=ide.1,unit=0,drive=drive-ide0-1-0,id=ide0-1-0 -netdev tap,fd=25,id=hostnet0 -device e1000,netdev=hostnet0,id=net0,mac=52:54:00:3f:27:31,bus=pci.0,addr=0x3 -vnc 0.0.0.0:0 -device cirrus-vga,id=video0,bus=pci.0,addr=0x2 -device intel-hda,id=sound0,bus=pci.0,addr=0x4 -device hda-duplex,id=sound0-codec0,bus=sound0.0,cad=0 -device virtio-balloon-pci,id=balloon0,bus=pci.0,addr=0x5\n2014-02-08 15:31:03.398+0000libvirt:  error : libvirtd quit during handshake: Input/output error"
					},
					{
						"isprivate": "0",
						"commentid": "6799351",
						"comment_count": "1",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2014-02-09 14:09:39 +0000",
						"thetext": "I wonder if this something related to systemd scope names, like https://bugzilla.redhat.com/show_bug.cgi?id=1033369"
					},
					{
						"isprivate": "0",
						"commentid": "6799432",
						"comment_count": "2",
						"who": {
							"text": "shaohef",
							"name": "Shaohe Feng"
						},
						"bug_when": "2014-02-09 14:59:02 +0000",
						"thetext": "The name of the VM I create is \"kīмсhī-∨м\", less than 60 characters.\n\nbut the \"Invalid argument\" error also comes from dbus api call (virDBusCallMethod)."
					},
					{
						"isprivate": "0",
						"commentid": "6799434",
						"comment_count": "3",
						"who": {
							"text": "shaohef",
							"name": "Shaohe Feng"
						},
						"bug_when": "2014-02-09 15:01:20 +0000",
						"thetext": "Additional info:\nI can create an start a VM with \"kīмсhī-∨м\" name on F17 and F19."
					},
					{
						"isprivate": "0",
						"commentid": "6799483",
						"comment_count": "4",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2014-02-09 16:09:15 +0000",
						"thetext": "Please re-read my comment: I was suggesting that the non-ascii limitation may be another thing introduced by systemd scope usage, which is new in f20."
					},
					{
						"isprivate": "0",
						"commentid": "6800184",
						"comment_count": "5",
						"who": {
							"text": "shaohef",
							"name": "Shaohe Feng"
						},
						"bug_when": "2014-02-10 03:20:19 +0000",
						"thetext": "I'm not sure it is another limit on scope names. Any doc about the systemd scope usage?\nIf it is, it is not good to our project kimchi.https://github.com/kimchi-project/kimchi/\n\ninternational is an important feature of kimchi.\nkimchi do want different users from different country can manage their VMs by their local language.\n\nIf f20 insists on this limit, can kimchi work aroud it?"
					},
					{
						"isprivate": "0",
						"commentid": "6801007",
						"comment_count": "6",
						"who": {
							"text": "laine",
							"name": "Laine Stump"
						},
						"bug_when": "2014-02-10 09:58:10 +0000",
						"thetext": "I don't think there was any suggestion of F20, or anything else, insisting on this limitation; Cole was only making a suggestion of a possible root cause of the problem. Once we've determined the root cause, *then* we can figure out how to fix it."
					},
					{
						"isprivate": "0",
						"commentid": "7929590",
						"comment_count": "7",
						"who": {
							"text": "clnperez",
							"name": "Christy Norman"
						},
						"bug_when": "2015-02-11 19:31:59 +0000",
						"thetext": "Any updates on this? We'd still like to have the ability to use VMs with unicode characters (as mentioned in Comment #5)."
					},
					{
						"isprivate": "0",
						"commentid": "7930052",
						"comment_count": "8",
						"who": {
							"text": "cristiandeives",
							"name": "Crístian Deives"
						},
						"bug_when": "2015-02-11 20:47:08 +0000",
						"thetext": "Created attachment 990633\ntestcase\n\nThe attached script reproduces this bug. I can reproduce it on Fedora 21 with libvirt-1.2.9.1-2.fc21.x86_64."
					},
					{
						"isprivate": "0",
						"commentid": "8110867",
						"comment_count": "9",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2015-04-02 17:53:12 +0000",
						"thetext": "Still relevant on F22. I wonder if we can switch to using UUID scope names? Not sure if that's within libvirt's control or if it's dictated by systemd APIs\n\nIf this is affecting kimchi I'd recommend you rework the app to use standard ascii for VM names, but keep unicode and pretty text as part of the <title> attribute which doesn't have any restrictions. It's what gnome-boxes does for example"
					},
					{
						"isprivate": "0",
						"commentid": "8290669",
						"comment_count": "10",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2015-05-31 19:41:21 +0000",
						"thetext": "*** Bug 1191835 has been marked as a duplicate of this bug. ***"
					},
					{
						"isprivate": "0",
						"commentid": "8297198",
						"comment_count": "11",
						"who": {
							"text": "bugproxy",
							"name": "IBM Bug Proxy"
						},
						"bug_when": "2015-06-02 13:50:46 +0000",
						"thetext": "------- Comment From clnperez@us.ibm.com 2015-06-02 13:44 EDT-------\nOn the Kimchi side, we've gone with the suggested workaround. Thanks."
					},
					{
						"isprivate": "0",
						"commentid": "8862958",
						"comment_count": "12",
						"who": {
							"text": "mkletzan",
							"name": "Martin Kletzander"
						},
						"bug_when": "2015-11-26 14:38:52 +0000",
						"thetext": "Fixed upstream with v1.2.21-144-ge24eda48cfae:\n\ncommit e24eda48cfae84a9003456b68eaf753a26123639\nAuthor: Martin Kletzander <mkletzan@redhat.com>\nDate:   Tue Nov 24 15:56:12 2015 +0100\n\n    systemd: Escape machine name for machined"
					},
					{
						"isprivate": "0",
						"commentid": "8866067",
						"comment_count": "13",
						"who": {
							"text": "mkletzan",
							"name": "Martin Kletzander"
						},
						"bug_when": "2015-11-27 16:06:39 +0000",
						"thetext": "One more fix needed is v1.2.21-164-g0e0149ce91d8:\n\ncommit 0e0149ce91d84f40b98acf4c4bb0da6e29b9c15c\nAuthor: Martin Kletzander <mkletzan@redhat.com>\nDate:   Fri Nov 27 14:24:38 2015 +0100\n\n    systemd: Escape only needed characters for machined"
					},
					{
						"isprivate": "0",
						"commentid": "8940370",
						"comment_count": "14",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-12-24 00:50:12 +0000",
						"thetext": "libvirt-1.2.13.2-1.fc22 has been submitted as an update to Fedora 22. https://bodhi.fedoraproject.org/updates/FEDORA-2015-2c9678da8c"
					},
					{
						"isprivate": "0",
						"commentid": "8946552",
						"comment_count": "15",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-12-30 20:56:21 +0000",
						"thetext": "libvirt-1.2.13.2-1.fc22 has been pushed to the Fedora 22 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2015-2c9678da8c"
					},
					{
						"isprivate": "0",
						"commentid": "8952473",
						"comment_count": "16",
						"who": {
							"text": "bugproxy",
							"name": "IBM Bug Proxy"
						},
						"bug_when": "2016-01-04 18:10:26 +0000",
						"thetext": "------- Comment From clnperez@us.ibm.com 2016-01-04 18:14 EDT-------\nI'm still seeing this.\n\nI created the machine with Kimchi, and couldn't start it there, so I tried using virsh to make sure the error wasn't coming from Kimchi.\n\n~> sudo virsh list --all | grep k???h?-??\n-     k???h?-??               shut off\n~> sudo virsh start k???h?-??\nerror: Failed to start domain k???h?-??\nerror: Invalid machine name\n\nFrom the systems logs:\nJan 04 12:04:54 christy-toshiba libvirtd[7110]: Invalid machine name"
					},
					{
						"isprivate": "0",
						"commentid": "8964000",
						"comment_count": "17",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-01-08 03:24:42 +0000",
						"thetext": "libvirt-1.2.13.2-1.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "8965679",
						"comment_count": "18",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2016-01-08 15:55:36 +0000",
						"thetext": "Were you definitely testing with libvirt-1.2.13.2-1.fc22 ? it wasn't even in the stable repository yet"
					},
					{
						"isprivate": "0",
						"commentid": "8965734",
						"comment_count": "19",
						"who": {
							"text": "bugproxy",
							"name": "IBM Bug Proxy"
						},
						"bug_when": "2016-01-08 16:20:24 +0000",
						"thetext": "------- Comment From clnperez@us.ibm.com 2016-01-08 16:22 EDT-------\n(In reply to comment #19)\n> Were you definitely testing with libvirt-1.2.13.2-1.fc22 ? it wasn't even in\n> the stable repository yet\n\nYes. I had enabled the testing repository.\n\n------- Comment From clnperez@us.ibm.com 2016-01-08 16:24 EDT-------\nWell, let me double-check. That's not the version I have installed now and I don't think I downgraded after I tested."
					},
					{
						"isprivate": "0",
						"commentid": "8966032",
						"comment_count": "20",
						"who": {
							"text": "bugproxy",
							"name": "IBM Bug Proxy"
						},
						"bug_when": "2016-01-08 18:40:55 +0000",
						"thetext": "------- Comment From clnperez@us.ibm.com 2016-01-08 18:43 EDT-------\nConfirmed. (The other recreate had been done on another fedora 22 system I have.)\n\n> rpm -qa | grep libvirt-1\nlibvirt-1.2.13.2-1.fc22.x86_64\ni> sudo virsh list --all\nId    Name                           State\n----------------------------------------------------\n-     docker-15.10                   shut off\n-     docker-ubuntu-14.04            shut off\n-     k???h?-??               shut off\n\n> sudo virsh start k???h?-??\nerror: Failed to start domain k???h?-??\nerror: Invalid machine name"
					},
					{
						"isprivate": "0",
						"commentid": "8984427",
						"comment_count": "21",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2016-01-15 19:40:45 +0000",
						"thetext": "I'm curious if anyone can confirm this is still an issue on f23? wondering if it's some systemd difference on f22, or an incomplete backport"
					},
					{
						"isprivate": "0",
						"commentid": "8998973",
						"comment_count": "22",
						"who": {
							"text": "fjin",
							"name": "Fangge Jin"
						},
						"bug_when": "2016-01-21 10:23:33 +0000",
						"thetext": "(In reply to Cole Robinson from comment #21)\n> I'm curious if anyone can confirm this is still an issue on f23? wondering\n> if it's some systemd difference on f22, or an incomplete backport\n\nI test on f23 using latest libvirt version, it still doesn't work\n# git describe \nv1.3.1-11-g020135d\n\n\n# virsh list --all\n Id    Name                           State\n----------------------------------------------------\n -     kīмсhī-∨м               shut off\n\n# virsh start kīмсhī-∨м\nerror: Failed to start domain kīмсhī-∨м\nerror: Invalid machine name"
					},
					{
						"isprivate": "0",
						"commentid": "9030385",
						"comment_count": "23",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2016-02-02 20:43:48 +0000",
						"thetext": "There's new patches upstream for this issue:\n\nhttps://www.redhat.com/archives/libvir-list/2016-February/msg00133.html"
					},
					{
						"isprivate": "0",
						"commentid": "9074496",
						"comment_count": "24",
						"who": {
							"text": "zhwang",
							"name": "zhenfeng wang"
						},
						"bug_when": "2016-02-18 08:18:00 +0000",
						"thetext": "Hi Cole\nCurrently, the guest could start successfully no matter we define a guest with non-ACSII chars name or the guest name-length was longer than 59-character, however, still have the following 2 issues, please help check it, thanks\n\npkginfo\nlibvirt-1.3.2-1.fc24_v1.3.1_292_gd46eb9e.x86_64\n\n<1>.The guest will start successfully while the guest name-length was longer than 59-character, but will fail to start while the name-length was longer than 65-character, is it expect result?\n\nSTEP\n1.Define a guest which guest name-length is 66-character\n\n# virsh list --all\n Id    Name                           State\n----------------------------------------------------\n -     012345678901234567890123456789012345678901234567890123456789012345 shut off\n\n2.Start the guest, the guest will fail to start with the following error\n# virsh start 012345678901234567890123456789012345678901234567890123456789012345\nerror: Failed to start domain 012345678901234567890123456789012345678901234567890123456789012345\nerror: internal error: Monitor path /var/lib/libvirt/qemu/domain-012345678901234567890123456789012345678901234567890123456789012345/monitor.sock too big for destination\n\n==============================================================================\n\n<2> The guest agent can't be used while the guest name length longer than 40-characters, this limite will block we use guest agent\n\nSTEPS\n1.Define a guest which guest name-length is 41-character and have guest agent configured in the guest's xml and guest inside\n#virsh list --all\n# virsh list --all\n Id    Name                           State\n----------------------------------------------------\n -     01234567890123456789012345678901234567890 shut off\n\n# virsh dumpxml 01234567890123456789012345678901234567890\n--\n   <channel type='unix'>\n      <source mode='bind'/>\n      <target type='virtio' name='org.qemu.guest_agent.0'/>\n      <address type='virtio-serial' controller='0' bus='0' port='1'/>\n    </channel>\n\n2.Start the guest, after guest start completely, check the guest agent state in both guest's xml and inside guest\n# virsh start 01234567890123456789012345678901234567890\nDomain 01234567890123456789012345678901234567890 started\n\n#virsh dumpxml 01234567890123456789012345678901234567890\n--\n    <channel type='unix'>\n      <source mode='bind' path='/var/lib/libvirt/qemu/channel/target/domain-01234567890123456789012345678901234567890/org.qemu.guest_agent.0'/>\n      <target type='virtio' name='org.qemu.guest_agent.0' state='connected'/>\n      <alias name='channel0'/>\n      <address type='virtio-serial' controller='0' bus='0' port='1'/>\n    </channel>\n\nlogin guest and check the guest agent status\nguest# systemctl status qemu-guest-agent\n● qemu-guest-agent.service - QEMU Guest Agent\n   Loaded: loaded (/usr/lib/systemd/system/qemu-guest-agent.service; static; vendor preset: enabled)\n   Active: active (running) since Thu 2016-02-18 16:02:07 CST; 1min 31s ago\n Main PID: 723 (qemu-ga)\n\n3.Run a virsh command which depends on guest agent, will get the following error \n# virsh domtime 01234567890123456789012345678901234567890\nerror: Guest agent is not responding: QEMU guest agent is not available due to an error\n\ncheck the log info in libvirtd.log\n#cat /var/log/libvirt/libvirtd.log\n2016-02-18 08:01:46.207+0000: 9691: info : libvirt version: 1.3.2, package: 1.fc24_v1.3.1_292_gd46eb9e (Unknown, 2016-02-18-07:03:58, localhost.localdomain)\n2016-02-18 08:01:46.207+0000: 9691: info : hostname: localhost.localdomain\n2016-02-18 08:01:46.207+0000: 9691: error : qemuAgentOpenUnix:206 : internal error: Agent path /var/lib/libvirt/qemu/channel/target/domain-01234567890123456789012345678901234567890/org.qemu.guest_agent.0 too big for destination\n2016-02-18 08:01:46.207+0000: 9691: warning : qemuProcessReconnect:3489 : Cannot connect to QEMU guest agent for 01234567890123456789012345678901234567890\n2016-02-18 08:02:08.021+0000: 9816: error : qemuAgentOpenUnix:206 : internal error: Agent path /var/lib/libvirt/qemu/channel/target/domain-01234567890123456789012345678901234567890/org.qemu.guest_agent.0 too big for destination\n2016-02-18 08:05:00.213+0000: 9635: error : qemuDomainAgentAvailable:3594 : Guest agent is not responding: QEMU guest agent is not available due to an error"
					},
					{
						"isprivate": "0",
						"commentid": "9087155",
						"comment_count": "25",
						"who": {
							"text": "zhwang",
							"name": "zhenfeng wang"
						},
						"bug_when": "2016-02-23 08:55:40 +0000",
						"thetext": "Hi Martain\ncan you also help check the upper comment? thanks"
					},
					{
						"isprivate": "0",
						"commentid": "9087714",
						"comment_count": "26",
						"who": {
							"text": "mkletzan",
							"name": "Martin Kletzander"
						},
						"bug_when": "2016-02-23 11:46:53 +0000",
						"thetext": "That seems like a problem and I know where it's coming from.  That one more thing we'll need to deal with, unfortunately.  I'll have a look at that later today."
					},
					{
						"isprivate": "0",
						"commentid": "9100754",
						"comment_count": "27",
						"who": {
							"text": "mkletzan",
							"name": "Martin Kletzander"
						},
						"bug_when": "2016-02-26 15:30:56 +0000",
						"thetext": "Fix proposed upstream:\n\n  https://www.redhat.com/archives/libvir-list/2016-February/msg01369.html"
					},
					{
						"isprivate": "0",
						"commentid": "9109404",
						"comment_count": "28",
						"who": {
							"text": "mkletzan",
							"name": "Martin Kletzander"
						},
						"bug_when": "2016-03-01 09:31:38 +0000",
						"thetext": "This should be fixed now in 1.3.2, very long names might have a problem, but the fix is in place and will be in the next release as well.  That is v1.3.2-1-ga89f05ba8df0:\n\ncommit a89f05ba8df095875f5ec8a9065a585af63a010b\nAuthor: Martin Kletzander <mkletzan@redhat.com>\nDate:   Fri Feb 26 09:15:55 2016 +0100\n\n    qemu: Shorten per-domain directory names"
					},
					{
						"isprivate": "0",
						"commentid": "9110607",
						"comment_count": "29",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2016-03-01 15:04:37 +0000",
						"thetext": "Reopening so we can track backporting this to stable fedora releases"
					},
					{
						"isprivate": "0",
						"commentid": "9157681",
						"comment_count": "30",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2016-03-17 20:34:38 +0000",
						"thetext": "Unfortunately the patches fixing the non-ASCII issue is pretty invasive, they are difficult to backport. So just closing this against F24 where these patches are already present"
					}
				]
			}
		},
		{
			"bug_id": 1265968,
			"title": "Fedora: disk backend is not removed properly when disk frontent hotplug fails",
			"bugzilla": {
				"bug_id": "1265968",
				"creation_ts": "2015-09-24 08:38:36 +0000",
				"short_desc": "Fedora: disk backend is not removed properly when disk frontent hotplug fails",
				"delta_ts": "2016-01-08 03:25:21 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"priority": "unspecified",
				"bug_severity": "medium",
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "8664837",
						"comment_count": "1",
						"who": {
							"text": "jtomko",
							"name": "Ján Tomko"
						},
						"bug_when": "2015-09-24 11:02:06 +0000",
						"thetext": "Is there any reason to keep comment 0 on a Fedora bug private?"
					},
					{
						"isprivate": "0",
						"commentid": "8664963",
						"comment_count": "2",
						"who": {
							"text": "amureini",
							"name": "Allon Mureinik"
						},
						"bug_when": "2015-09-24 11:36:57 +0000",
						"thetext": "(In reply to Ján Tomko from comment #1)\n> Is there any reason to keep comment 0 on a Fedora bug private?\nThe cloning brought some private links with it. \nIf it's preferable, I can close this bug and open a \"cleaner\" bug."
					},
					{
						"isprivate": "0",
						"commentid": "8687913",
						"comment_count": "3",
						"who": {
							"text": "laine",
							"name": "Laine Stump"
						},
						"bug_when": "2015-10-02 17:17:15 +0000",
						"thetext": "In general, a cloned bug should always have the Comment 0 sanitized (including ), and the bug should be created as public (barring any other restrictions, such as a security issue). Sanitation should include:\n\n * removing the original BZ from the \"Clone of\" field if the original was private.\n * removing links to private mailing lists\n * sensitive data in logs\n * info about Red Hat release schedules\n * customer names/details\n\nAny of this private information which is necessary for the new public bug (including a pointer to the original BZ, which may really be all you need) can be included in Comment 1, which can then be marked private.\n\nThe above is doubly true for Fedora and upstream bugs - although in the case of libvirt the bugs are usually worked on by someone employed by Red Hat, this is not always the case. Many people working on Fedora have no direct official association with Red Hat.\n\nSince ovirt is a public project, if you will want to reference this BZ anywhere in ovirt release notes, mailing list, etc, you will need a public BZ. People tend to get irate when they are referred to an inaccessible page :-)"
					},
					{
						"isprivate": "0",
						"commentid": "8783050",
						"comment_count": "4",
						"who": {
							"text": "bcotton",
							"name": "Fedora End Of Life"
						},
						"bug_when": "2015-11-04 10:16:50 +0000",
						"thetext": "This message is a reminder that Fedora 21 is nearing its end of life.\nApproximately 4 (four) weeks from now Fedora will stop maintaining\nand issuing updates for Fedora 21. It is Fedora's policy to close all\nbug reports from releases that are no longer maintained. At that time\nthis bug will be closed as EOL if it remains open with a Fedora  'version'\nof '21'.\n\nPackage Maintainer: If you wish for this bug to remain open because you\nplan to fix it in a currently maintained version, simply change the 'version' \nto a later Fedora version.\n\nThank you for reporting this issue and we are sorry that we were not \nable to fix it before Fedora 21 is end of life. If you would still like \nto see this bug fixed and are able to reproduce it against a later version \nof Fedora, you are encouraged  change the 'version' to a later Fedora \nversion prior this bug is closed as described in the policy above.\n\nAlthough we aim to fix as many bugs as possible during every release's \nlifetime, sometimes those efforts are overtaken by events. Often a \nmore recent Fedora release includes newer upstream software that fixes \nbugs or makes them obsolete."
					},
					{
						"isprivate": "0",
						"commentid": "8793193",
						"comment_count": "5",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2015-11-04 23:10:43 +0000",
						"thetext": "The patch is:\n\ncommit 4b4aade59a206b6146d90d87d591386f8fbd68d1\nAuthor: Peter Krempa <pkrempa@redhat.com>\nDate:   Fri Sep 11 17:34:18 2015 +0200\n\n    qemu: hotplug: Properly clean up drive backend if frontend hotplug fails\n    \n    Commit 8125113c added code that should remove the disk backend if the\n    fronted hotplug failed for any reason. The code had a bug though as it\n    used the disk string for unplug rather than the backend alias. Fix the\n    code by pre-creating an alias string and using it instead of the disk\n    string. In cases where qemu does not support QEMU_CAPS_DEVICE, we ignore\n    the unplug of the backend since we can't really create an alias in that\n    case.\n\nF21 is end of life soon, so let's just pull this in to f22+"
					},
					{
						"isprivate": "0",
						"commentid": "8940369",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-12-24 00:49:36 +0000",
						"thetext": "libvirt-1.2.13.2-1.fc22 has been submitted as an update to Fedora 22. https://bodhi.fedoraproject.org/updates/FEDORA-2015-2c9678da8c"
					},
					{
						"isprivate": "0",
						"commentid": "8946551",
						"comment_count": "7",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-12-30 20:56:06 +0000",
						"thetext": "libvirt-1.2.13.2-1.fc22 has been pushed to the Fedora 22 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2015-2c9678da8c"
					},
					{
						"isprivate": "0",
						"commentid": "8963999",
						"comment_count": "8",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-01-08 03:24:24 +0000",
						"thetext": "libvirt-1.2.13.2-1.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1276883,
			"title": "libvirt migration FC22/23->FC21 fails begause of BZ1265111",
			"bugzilla": {
				"bug_id": "1276883",
				"creation_ts": "2015-10-31 21:29:39 +0000",
				"short_desc": "libvirt migration FC22/23->FC21 fails begause of BZ1265111",
				"delta_ts": "2016-01-08 03:26:02 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"priority": "unspecified",
				"bug_severity": "medium",
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "8770769",
						"comment_count": "0",
						"who": {
							"text": "mst",
							"name": "Markus Stockhausen"
						},
						"bug_when": "2015-10-31 21:29:39 +0000",
						"thetext": "Description of problem:\n\nBZ 1265111 describes a libvirt XML modification that fails to migrate VMs from libvirt >=1.2.13 to libvirt<1.2.13. \n\n\nVersion-Release number of selected component (if applicable):\n\nFC21 - libvirt 1.2.9\nFC22 - libvirt 1.2.13\nFC23 - libvirt 1.2.18\n\nHow reproducible:\n\n100%\n\nSteps to Reproduce:\n1. Start VM on FC22/FC23 host\n2. Move VM to FC21 host\n\nActual results:\n\nmigration fails\n\nExpected results:\n\nmigration succeeds\n\nAdditional info:\n\nAccording to BZ I backported patch http://libvirt.org/git/?p=libvirt.git;a=commit;h=c0806dc30bda562810b0d686e33c903862e3c8f1 to FC23\n\nAfterwards migration succeeds. Could you backport that patch to FC23 (and if possible to FC22)."
					},
					{
						"isprivate": "0",
						"commentid": "8770808",
						"comment_count": "1",
						"who": {
							"text": "crobinso",
							"name": "Cole Robinson"
						},
						"bug_when": "2015-11-01 00:05:29 +0000",
						"thetext": "Thanks for the report and identifying the commit! I'll pull it into the next f22+ builds"
					},
					{
						"isprivate": "0",
						"commentid": "8940371",
						"comment_count": "2",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-12-24 00:50:34 +0000",
						"thetext": "libvirt-1.2.13.2-1.fc22 has been submitted as an update to Fedora 22. https://bodhi.fedoraproject.org/updates/FEDORA-2015-2c9678da8c"
					},
					{
						"isprivate": "0",
						"commentid": "8946553",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-12-30 20:56:30 +0000",
						"thetext": "libvirt-1.2.13.2-1.fc22 has been pushed to the Fedora 22 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2015-2c9678da8c"
					},
					{
						"isprivate": "0",
						"commentid": "8964003",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-01-08 03:24:54 +0000",
						"thetext": "libvirt-1.2.13.2-1.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1277121,
			"parent": true,
			"security": true,
			"title": "CVE-2015-5313 libvirt: filesystem storage volume names path traversal flaw",
			"bugzilla": {
				"bug_id": "1277121",
				"alias": "CVE-2015-5313",
				"creation_ts": "2015-11-02 12:21:11 +0000",
				"short_desc": "CVE-2015-5313 libvirt: filesystem storage volume names path traversal flaw",
				"delta_ts": "2021-02-17 04:45:51 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Reopened, Security",
				"priority": "medium",
				"bug_severity": "medium",
				"depends_on": [
					"1291035",
					"1291433",
					"1292585"
				],
				"blocked": [
					{
						"bug_id": "1277124",
						"error": "NotPermitted"
					}
				],
				"external_bugs": {
					"text": "RHSA-2016:2577",
					"name": "Red Hat Product Errata"
				},
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "8774517",
						"comment_count": "0",
						"who": {
							"text": "amaris",
							"name": "Adam Mariš"
						},
						"bug_when": "2015-11-02 12:21:11 +0000",
						"thetext": "A path traversal vulnerability allowing libvirtd process to write arbitrary files on file system using root permissions was found. The user with storage_vol:create ACL permission can exploit this vulnerability without the need of having write access to the libvirtd connection (domain:write permission)."
					},
					{
						"isprivate": "0",
						"commentid": "8903254",
						"comment_count": "3",
						"who": {
							"text": "eblake",
							"name": "Eric Blake"
						},
						"bug_when": "2015-12-09 00:57:33 +0000",
						"thetext": "Created attachment 1103765\nproposed patch"
					},
					{
						"isprivate": "0",
						"commentid": "8912801",
						"comment_count": "4",
						"who": {
							"text": "eblake",
							"name": "Eric Blake"
						},
						"bug_when": "2015-12-12 00:01:51 +0000",
						"thetext": "Issue is now public:\nhttps://www.redhat.com/archives/libvir-list/2015-December/msg00473.html"
					},
					{
						"isprivate": "0",
						"commentid": "8917130",
						"comment_count": "6",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2015-12-14 20:44:41 +0000",
						"thetext": "This issue is not considered to have any security impact on libvirt versions as shipped with Red Hat Enterprise Linux 6 and earlier.  In those versions, this can only be exploited by privileged libvirtd users, who are already root equivalent.  In libvirt 1.1.0 and later, i.e. also in libvirt version in Red Hat Enterprise Linux 7, it is possible to grant finer grained privileges and hence grant user privilege to create storage volumes without allowing them to create or modify domains.  In configurations using such ACL setttings, this may allow privilege escalation.\n\nLowering impact rating to Moderate as this is limited to specific non-default configurations."
					},
					{
						"isprivate": "0",
						"commentid": "8917183",
						"comment_count": "7",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2015-12-14 20:58:59 +0000",
						"thetext": "\nCreated libvirt tracking bugs for this issue:\n\nAffects: fedora-all [bug 1291433]"
					},
					{
						"isprivate": "0",
						"commentid": "8928036",
						"comment_count": "9",
						"who": {
							"text": "kseifried",
							"name": "Kurt Seifried"
						},
						"bug_when": "2015-12-17 23:43:43 +0000",
						"thetext": "Statement:\n\nThis issue affects the versions of libvirt as shipped with Red Hat Enterprise Linux version 7 and Red Hat Gluster Storage 3.1. Red Hat Product Security has rated this issue as having Moderate security impact. A future update may address this issue. For additional information, refer to the Issue Severity Classification: https://access.redhat.com/security/updates/classification/."
					},
					{
						"isprivate": "0",
						"commentid": "8944022",
						"comment_count": "10",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-12-28 22:53:03 +0000",
						"thetext": "libvirt-1.2.18.2-1.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "8964006",
						"comment_count": "11",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-01-08 03:25:12 +0000",
						"thetext": "libvirt-1.2.13.2-1.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "9854216",
						"comment_count": "12",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2016-11-03 18:29:25 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 7\n\nVia RHSA-2016:2577 https://rhn.redhat.com/errata/RHSA-2016-2577.html"
					}
				]
			}
		},
		{
			"bug_id": 1291433,
			"security": true,
			"title": "CVE-2015-5313 libvirt: filesystem storage volume names path traversal flaw [fedora-all]",
			"bugzilla": {
				"bug_id": "1291433",
				"creation_ts": "2015-12-14 20:58:37 +0000",
				"short_desc": "CVE-2015-5313 libvirt: filesystem storage volume names path traversal flaw [fedora-all]",
				"delta_ts": "2016-01-08 03:26:12 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Reopened, Security, SecurityTracking",
				"priority": "medium",
				"bug_severity": "medium",
				"blocked": [
					{
						"bug_id": "1277121",
						"alias": "CVE-2015-5313",
						"creation_ts": "2015-11-02 12:21:11 +0000",
						"short_desc": "CVE-2015-5313 libvirt: filesystem storage volume names path traversal flaw",
						"delta_ts": "2021-02-17 04:45:51 +0000",
						"bug_status": "CLOSED",
						"resolution": "ERRATA",
						"keywords": "Reopened, Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"1291035",
							"1291433",
							"1292585"
						],
						"blocked": [
							{
								"bug_id": "1277124",
								"error": "NotPermitted"
							}
						],
						"external_bugs": {
							"text": "RHSA-2016:2577",
							"name": "Red Hat Product Errata"
						},
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "8774517",
								"comment_count": "0",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2015-11-02 12:21:11 +0000",
								"thetext": "A path traversal vulnerability allowing libvirtd process to write arbitrary files on file system using root permissions was found. The user with storage_vol:create ACL permission can exploit this vulnerability without the need of having write access to the libvirtd connection (domain:write permission)."
							},
							{
								"isprivate": "0",
								"commentid": "8903254",
								"comment_count": "3",
								"who": {
									"text": "eblake",
									"name": "Eric Blake"
								},
								"bug_when": "2015-12-09 00:57:33 +0000",
								"thetext": "Created attachment 1103765\nproposed patch"
							},
							{
								"isprivate": "0",
								"commentid": "8912801",
								"comment_count": "4",
								"who": {
									"text": "eblake",
									"name": "Eric Blake"
								},
								"bug_when": "2015-12-12 00:01:51 +0000",
								"thetext": "Issue is now public:\nhttps://www.redhat.com/archives/libvir-list/2015-December/msg00473.html"
							},
							{
								"isprivate": "0",
								"commentid": "8917130",
								"comment_count": "6",
								"who": {
									"text": "thoger",
									"name": "Tomas Hoger"
								},
								"bug_when": "2015-12-14 20:44:41 +0000",
								"thetext": "This issue is not considered to have any security impact on libvirt versions as shipped with Red Hat Enterprise Linux 6 and earlier.  In those versions, this can only be exploited by privileged libvirtd users, who are already root equivalent.  In libvirt 1.1.0 and later, i.e. also in libvirt version in Red Hat Enterprise Linux 7, it is possible to grant finer grained privileges and hence grant user privilege to create storage volumes without allowing them to create or modify domains.  In configurations using such ACL setttings, this may allow privilege escalation.\n\nLowering impact rating to Moderate as this is limited to specific non-default configurations."
							},
							{
								"isprivate": "0",
								"commentid": "8917183",
								"comment_count": "7",
								"who": {
									"text": "thoger",
									"name": "Tomas Hoger"
								},
								"bug_when": "2015-12-14 20:58:59 +0000",
								"thetext": "\nCreated libvirt tracking bugs for this issue:\n\nAffects: fedora-all [bug 1291433]"
							},
							{
								"isprivate": "0",
								"commentid": "8928036",
								"comment_count": "9",
								"who": {
									"text": "kseifried",
									"name": "Kurt Seifried"
								},
								"bug_when": "2015-12-17 23:43:43 +0000",
								"thetext": "Statement:\n\nThis issue affects the versions of libvirt as shipped with Red Hat Enterprise Linux version 7 and Red Hat Gluster Storage 3.1. Red Hat Product Security has rated this issue as having Moderate security impact. A future update may address this issue. For additional information, refer to the Issue Severity Classification: https://access.redhat.com/security/updates/classification/."
							},
							{
								"isprivate": "0",
								"commentid": "8944022",
								"comment_count": "10",
								"who": {
									"text": "updates",
									"name": "Fedora Update System"
								},
								"bug_when": "2015-12-28 22:53:03 +0000",
								"thetext": "libvirt-1.2.18.2-1.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report."
							},
							{
								"isprivate": "0",
								"commentid": "8964006",
								"comment_count": "11",
								"who": {
									"text": "updates",
									"name": "Fedora Update System"
								},
								"bug_when": "2016-01-08 03:25:12 +0000",
								"thetext": "libvirt-1.2.13.2-1.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report."
							},
							{
								"isprivate": "0",
								"commentid": "9854216",
								"comment_count": "12",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2016-11-03 18:29:25 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 7\n\nVia RHSA-2016:2577 https://rhn.redhat.com/errata/RHSA-2016-2577.html"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "8917181",
						"comment_count": "0",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2015-12-14 20:58:37 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof Fedora.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate.\n\n[bug automatically created by: add-tracking-bugs]"
					},
					{
						"isprivate": "0",
						"commentid": "8917182",
						"comment_count": "1",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2015-12-14 20:58:50 +0000",
						"thetext": "\nUse the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1277121,1291433\n\n# Description of your update\nnotes=Security fix for CVE-2015-5313\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi update submission link(s) instead:\n\nhttps://bodhi.fedoraproject.org/updates/new?type_=security&bugs=1277121,1291433"
					},
					{
						"isprivate": "0",
						"commentid": "8924534",
						"comment_count": "2",
						"who": {
							"text": "eblake",
							"name": "Eric Blake"
						},
						"bug_when": "2015-12-16 21:13:26 +0000",
						"thetext": "All v1.X.X-maint branches have been patched, so the next builds should pick up the fix."
					},
					{
						"isprivate": "0",
						"commentid": "8940372",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-12-24 00:50:51 +0000",
						"thetext": "libvirt-1.2.13.2-1.fc22 has been submitted as an update to Fedora 22. https://bodhi.fedoraproject.org/updates/FEDORA-2015-2c9678da8c"
					},
					{
						"isprivate": "0",
						"commentid": "8941132",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-12-24 14:56:36 +0000",
						"thetext": "libvirt-1.2.18.2-1.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2015-30b347dff1"
					},
					{
						"isprivate": "0",
						"commentid": "8941441",
						"comment_count": "5",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-12-25 01:57:24 +0000",
						"thetext": "libvirt-1.2.18.2-1.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2015-30b347dff1"
					},
					{
						"isprivate": "0",
						"commentid": "8944021",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-12-28 22:52:54 +0000",
						"thetext": "libvirt-1.2.18.2-1.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "8946554",
						"comment_count": "7",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2015-12-30 20:56:38 +0000",
						"thetext": "libvirt-1.2.13.2-1.fc22 has been pushed to the Fedora 22 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2015-2c9678da8c"
					},
					{
						"isprivate": "0",
						"commentid": "8964005",
						"comment_count": "8",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-01-08 03:25:02 +0000",
						"thetext": "libvirt-1.2.13.2-1.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		}
	],
	"builds": [
		{
			"epoch": 0,
			"nvr": "libvirt-1.2.13.2-1.fc22",
			"release_id": 12,
			"signed": true,
			"type": "rpm",
			"package": {
				"armv7hl": [
					{
						"name": "libvirt-daemon-driver-uml",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-daemon",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-daemon-driver-interface",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-client",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-daemon-uml",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-lock-sanlock",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-daemon-config-network",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-daemon-config-nwfilter",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-docs",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-daemon-lxc",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-daemon-driver-network",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-daemon-driver-lxc",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-daemon-driver-secret",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-daemon-driver-nwfilter",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-login-shell",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-wireshark",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-debuginfo",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-daemon-qemu",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-daemon-driver-nodedev",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-daemon-kvm",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-daemon-driver-storage",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-devel",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					},
					{
						"name": "libvirt-daemon-driver-qemu",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "armv7hl"
					}
				],
				"i686": [
					{
						"name": "libvirt-daemon-driver-uml",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-driver-lxc",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-qemu",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-driver-storage",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-driver-secret",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-driver-vbox",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-driver-libxl",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-driver-nwfilter",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-driver-xen",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-lock-sanlock",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-driver-network",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-driver-interface",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-config-network",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-lxc",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-docs",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-client",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-config-nwfilter",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-devel",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-driver-nodedev",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-kvm",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-wireshark",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-xen",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-uml",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-vbox",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-daemon-driver-qemu",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-debuginfo",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					},
					{
						"name": "libvirt-login-shell",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "i686"
					}
				],
				"src": [
					{
						"name": "libvirt",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "src"
					}
				],
				"x86_64": [
					{
						"name": "libvirt-daemon-driver-lxc",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-login-shell",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-debuginfo",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-driver-interface",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-driver-nodedev",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-lxc",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-devel",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-driver-storage",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-qemu",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-xen",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-driver-libxl",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-config-nwfilter",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-config-network",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-driver-network",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-uml",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-driver-nwfilter",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-driver-xen",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-docs",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-driver-vbox",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-vbox",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-driver-uml",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-wireshark",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-kvm",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-client",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-lock-sanlock",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-driver-secret",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt-daemon-driver-qemu",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					},
					{
						"name": "libvirt",
						"version": "1.2.13.2",
						"release": "1.fc22",
						"arch": "x86_64"
					}
				]
			}
		}
	],
	"close_bugs": true,
	"comments": [
		{
			"id": 369674,
			"text": "This update has been submitted for testing by crobinso. ",
			"timestamp": "2015-12-24 00:49:32",
			"update_id": 47489,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 371761,
			"text": "This update has been pushed to testing.",
			"timestamp": "2015-12-30 20:58:24",
			"update_id": 47489,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 372743,
			"karma": 1,
			"text": "no regressions noted",
			"timestamp": "2016-01-04 00:56:12",
			"update_id": 47489,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/d826994e83ce867281f73d85986dd475938841874b75a83a82cdb184f6af8749?s=24&d=retro",
				"email": "rosset.filipe@gmail.com",
				"groups": [
					{
						"name": "proventesters"
					},
					{
						"name": "packager"
					},
					{
						"name": "provenpackager"
					},
					{
						"name": "ipausers"
					},
					{
						"name": "fedora-contributor"
					},
					{
						"name": "signed_fpca"
					},
					{
						"name": "fedorabugs"
					},
					{
						"name": "ambassadors"
					},
					{
						"name": "l10n"
					},
					{
						"name": "cvsl10n"
					},
					{
						"name": "fedora-br"
					}
				],
				"id": 124,
				"name": "filiperosset",
				"openid": "filiperosset.id.fedoraproject.org"
			},
			"user_id": 124
		},
		{
			"id": 373890,
			"text": "This update has reached 7 days in testing and can be pushed to stable now if the maintainer wishes",
			"timestamp": "2016-01-07 00:00:17",
			"update_id": 47489,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 374351,
			"text": "This update has been submitted for stable by crobinso. ",
			"timestamp": "2016-01-07 16:10:39",
			"update_id": 47489,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 374544,
			"text": "This update has been pushed to stable.",
			"timestamp": "2016-01-08 03:28:54",
			"update_id": 47489,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		}
	],
	"content_type": "rpm",
	"date_pushed": "2016-01-07 23:40:26",
	"date_stable": "2016-01-07 23:40:26",
	"date_submitted": "2015-12-24 00:49:32",
	"date_testing": "2015-12-30 19:31:11",
	"karma": 1,
	"meets_testing_requirements": true,
	"notes": "* Rebased to version 1.2.13.2\n* disk backend is not removed properly when disk frontent hotplug fails (bz #1265968)\n* Fix TPM cancel path on newer kernels (bz #1244895)\n* Remove timeout for libvirt-guests.service (bz #1195544)\n* CVE-2015-5313 libvirt: filesystem storage volume names path traversal flaw (bz #1291433)\n* Fix VM names with non-ascii (bz #1062943)\n* Fix backwards migration with graphics listen address (bz #1276883)",
	"pushed": true,
	"release": {
		"branch": "f22",
		"candidate_tag": "f22-updates-candidate",
		"composed_by_bodhi": true,
		"dist_tag": "f22",
		"id_prefix": "FEDORA",
		"long_name": "Fedora 22",
		"mail_template": "fedora_errata_template",
		"name": "F22",
		"override_tag": "f22-override",
		"package_manager": "dnf",
		"pending_stable_tag": "f22-updates-pending",
		"pending_testing_tag": "f22-updates-testing-pending",
		"stable_tag": "f22-updates",
		"state": "archived",
		"testing_repository": "updates-testing",
		"testing_tag": "f22-updates-testing",
		"version": "22"
	},
	"require_bugs": true,
	"require_testcases": true,
	"severity": "unspecified",
	"stable_karma": 3,
	"status": "stable",
	"suggest": "unspecified",
	"title": "libvirt-1.2.13.2-1.fc22",
	"type": "security",
	"url": "https://bodhi.fedoraproject.org/updates/FEDORA-2015-2c9678da8c",
	"unstable_karma": -3,
	"updateid": "FEDORA-2015-2c9678da8c",
	"user": {
		"avatar": "https://seccdn.libravatar.org/avatar/2db9913ea72f8be4fb00bf87f927f22b40a6c3b348f68abbabdf4d1a93ff09af?s=24&d=retro",
		"email": "crobinso@redhat.com",
		"groups": [
			{
				"name": "packager"
			},
			{
				"name": "provenpackager"
			},
			{
				"name": "virtmaint-sig"
			},
			{
				"name": "ipausers"
			},
			{
				"name": "fedora-contributor"
			},
			{
				"name": "signed_fpca"
			},
			{
				"name": "fedorabugs"
			},
			{
				"name": "centosproject-email-aliases"
			},
			{
				"name": "hosted-content"
			},
			{
				"name": "kubevirt"
			},
			{
				"name": "sig-virt"
			},
			{
				"name": "gitlab-centos-sig-virt"
			},
			{
				"name": "trust admins"
			}
		],
		"id": 400,
		"name": "crobinso",
		"openid": "crobinso.id.fedoraproject.org"
	},
	"version_hash": "f7328842856c4a4f309febfbd9fc8d6c24946f2e"
}
