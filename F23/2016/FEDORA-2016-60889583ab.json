{
	"alias": "FEDORA-2016-60889583ab",
	"autokarma": true,
	"bugs": [
		{
			"bug_id": 1197087,
			"feedback": [
				{
					"bug_id": 1197087,
					"comment": {
						"id": 447557,
						"karma": 1,
						"karma_critpath": 1,
						"text": "No regressions noted.",
						"timestamp": "2016-06-17 12:13:57",
						"update_id": 60655,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/e62cb974458dc33fcf2225462b8765e0aadcbbd698560c8f8dad6c3e23d5e47e?s=24&d=retro",
							"email": "dhgutteridge@hotmail.com",
							"groups": [
								{
									"name": "ipausers"
								}
							],
							"id": 194,
							"name": "dhgutteridge",
							"openid": "dhgutteridge.id.fedoraproject.org"
						},
						"user_id": 194
					},
					"comment_id": 447557
				}
			],
			"security": true,
			"title": "XML_Parse breaks rand() function",
			"bugzilla": {
				"bug_id": "1197087",
				"creation_ts": "2015-02-27 13:27:50 +0000",
				"short_desc": "XML_Parse breaks rand() function",
				"delta_ts": "2016-11-08 16:19:24 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security",
				"priority": "unspecified",
				"bug_severity": "unspecified",
				"blocked": [
					{
						"bug_id": "1319731",
						"alias": "CVE-2012-6702",
						"creation_ts": "2016-03-21 11:55:54 +0000",
						"short_desc": "CVE-2012-6702 expat: Using XML_Parse before rand() results into non-random output",
						"delta_ts": "2019-09-29 13:45:56 +0000",
						"bug_status": "CLOSED",
						"resolution": "WONTFIX",
						"keywords": "Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"1197087",
							"1319732",
							"1319733",
							"1319734",
							"1319735",
							"1319736"
						],
						"blocked": [
							{
								"bug_id": "1296104",
								"error": "NotPermitted"
							},
							{
								"bug_id": "1319739",
								"error": "NotPermitted"
							}
						],
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "9164418",
								"comment_count": "0",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-03-21 11:55:54 +0000",
								"thetext": "It was found that when calling XML_Parse ahead of rand(), it causes the pseudo random generator to generate non-random predictable numbers.\n\nProduct bug:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1197087"
							},
							{
								"isprivate": "0",
								"commentid": "9164431",
								"comment_count": "1",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-03-21 11:56:47 +0000",
								"thetext": "\nCreated compat-expat1 tracking bugs for this issue:\n\nAffects: fedora-all [bug 1319733]"
							},
							{
								"isprivate": "0",
								"commentid": "9164432",
								"comment_count": "2",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-03-21 11:56:56 +0000",
								"thetext": "\nCreated expat tracking bugs for this issue:\n\nAffects: fedora-all [bug 1319732]"
							},
							{
								"isprivate": "0",
								"commentid": "9164433",
								"comment_count": "3",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-03-21 11:57:03 +0000",
								"thetext": "\nCreated mingw-expat tracking bugs for this issue:\n\nAffects: fedora-all [bug 1319734]\nAffects: epel-7 [bug 1319736]"
							},
							{
								"isprivate": "0",
								"commentid": "9164434",
								"comment_count": "4",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-03-21 11:57:10 +0000",
								"thetext": "\nCreated expat21 tracking bugs for this issue:\n\nAffects: epel-all [bug 1319735]"
							},
							{
								"isprivate": "0",
								"commentid": "9389072",
								"comment_count": "5",
								"who": {
									"text": "anemec",
									"name": "Andrej Nemec"
								},
								"bug_when": "2016-06-06 07:50:05 +0000",
								"thetext": "CVE assignment:\n\nhttp://seclists.org/oss-sec/2016/q2/469"
							},
							{
								"isprivate": "0",
								"commentid": "9390240",
								"comment_count": "6",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-06-06 13:19:40 +0000",
								"thetext": "Created attachment 1165212\nProposed upstream patch"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "7982929",
						"comment_count": "0",
						"who": {
							"text": "stefan.sorensen",
							"name": "Stefan Sørensen"
						},
						"bug_when": "2015-02-27 13:27:50 +0000",
						"thetext": "Created attachment 996033\nSuggested patch\n\nDescription of problem:\nCalling XML_Parse seeds the rand() pseudo random generator, causing it to generate non-random and predictable numbers.\n\nVersion-Release number of selected component (if applicable):\nexpat-2.1.0-11.fc23\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\n1. cat expat_test.c\n#include <stdlib.h>\n#include <stdio.h>\n#include <expat.h>\n\nint\nmain(void)\n{\n\tXML_Parser parser;\n\tint i;\n\n\tfor(i = 0; i < 20; i++) {\n\t\tparser = XML_ParserCreate(\"UTF-8\");\n\t\tXML_Parse(parser, \"\", 0, 1);\n\t\tXML_ParserFree(parser);\n\t\tprintf(\"%d\\n\", rand());\n\t}\n\n\treturn 0;\n}\n\n2. gcc -o expat_test expat_test.c\n3. ./expat_test\n\nActual results:\nThe same number is printed 20 times\n\nExpected results:\n20 different numbers are printed\n\nAdditional info:\nReported upstream (https://sourceforge.net/p/expat/bugs/519/), but without response for 12 months."
					},
					{
						"isprivate": "0",
						"commentid": "8444328",
						"comment_count": "1",
						"who": {
							"text": "jkurik",
							"name": "Jan Kurik"
						},
						"bug_when": "2015-07-15 14:28:50 +0000",
						"thetext": "This bug appears to have been reported against 'rawhide' during the Fedora 23 development cycle.\nChanging version to '23'.\n\n(As we did not run this process for some time, it could affect also pre-Fedora 23 development\ncycle bugs. We are very sorry. It will help us with cleanup during Fedora 23 End Of Life. Thank you.)\n\nMore information and reason for this action is here:\nhttps://fedoraproject.org/wiki/BugZappers/HouseKeeping/Fedora23"
					},
					{
						"isprivate": "0",
						"commentid": "9041231",
						"comment_count": "2",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-02-07 08:49:29 +0000",
						"thetext": "Thanks for the report - you described the repro case as \"Suggested patch\", did you have a patch?"
					},
					{
						"isprivate": "0",
						"commentid": "9042234",
						"comment_count": "3",
						"who": {
							"text": "stefan.sorensen",
							"name": "Stefan Sørensen"
						},
						"bug_when": "2016-02-08 08:18:51 +0000",
						"thetext": "Created attachment 1122079\nSuggested patch\n\nSorry, That was the wrong file attached.\n\nThe patch simply disables the seeding of the rand() function - seeding by the current time is causing the random numbers generated to be very predictable anyway."
					},
					{
						"isprivate": "0",
						"commentid": "9143095",
						"comment_count": "4",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-03-12 04:36:50 +0000",
						"thetext": "Hi!\n\nI'm unsure if not calling srand anymore could break existing applications.\n\nJust so you know, there is a ticket upstream at https://sourceforge.net/p/expat/bugs/499/ .\n\nBest, Sebastian"
					},
					{
						"isprivate": "0",
						"commentid": "9149812",
						"comment_count": "5",
						"who": {
							"text": "stefan.sorensen",
							"name": "Stefan Sørensen"
						},
						"bug_when": "2016-03-15 15:15:21 +0000",
						"thetext": "The call to srand basically means that the output of rand if totally predictable - I can't imagine that any application will rely on that. An application that relies on the rng being seeded really should do that itself and not rely on a XML parser doing it."
					},
					{
						"isprivate": "0",
						"commentid": "9150741",
						"comment_count": "6",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-03-15 20:40:29 +0000",
						"thetext": "Expat is calling srand (from generate_hash_secret_salt) by itself iff the code using Expat (a) never called XML_SetHashSalt on that parser or (b) passed salt 0 to XML_SetHashSalt.  So the way Expat is calling srand as of now can affect code that\n\n * misunderstood salt value 0 (because it was undocumented before Expat 2.1.1)\n   and/or\n\n * does not call XML_SetHashSalt because the code was not updated yet to do so\n   or the arrival of XML_SetHashSalt bypassed the Expat user's radar\n\nFor those, (1) not calling srand could be bad since the protection provided by random would dissolve but (2) calling srand (with enough entropy) would break repeatability if the app is used in a way where that's needed.\nTo me that means: removing the call hurts and leaving it in hurts, too.\n\nWhat we can do is (1) call srand with more entropy as in [1] and (2) patch users of Expat to call XML_SetHashSalt with a non-zero value.\n\nIf we wanted to only call srand if it hasn't been called before, we could use a hack like this:\n\n  #include <stdio.h>\n  #include <stdbool.h>\n\n  bool has_srand_been_called_before() {\n      if (rand() != 1804289383)\n          return true;\n      if (rand() != 846930886)\n          return true;\n      if (rand() != 1681692777)\n          return true;\n      return false;\n  }\n\n  void main() {\n      if (! has_srand_been_called_before()) {\n          printf(\"srand(1) detected, call to srand() needed.\\n\");\n          srand(17);  /* except with more entropy */\n      }\n      printf(\"rand() -> %d\\n\", rand());\n  }\n\nHowever these magic numbers may be different on other architectures, so\nconfigure would need to verify that assumption and an arch specific\npatch can be applied where configure detects a mismatch in the numbers produced by srand(1).  I guess we don't want to go that road? :)\n\n\n[1] http://www.openwall.com/lists/oss-security/2012/04/05/2"
					},
					{
						"isprivate": "0",
						"commentid": "9150994",
						"comment_count": "7",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-03-15 22:23:39 +0000",
						"thetext": "Sebastian - great to see a new expat release!\n\nIn the upstream bug link Marcus suggests using the tv_usec part from gettimeofday() - any reason that has to be fed through a PRNG or could it be used as the hash seed directly?  If it needs to go through a PRNG it seems much better to use one of the re-entrant libc functions rather than srand.\n\n(I don't see any need at all to worry about apps assuming expat calls srand, that's not a documented part of the API, plus expat did *not* do that for most of its lifetime!)"
					},
					{
						"isprivate": "0",
						"commentid": "9151324",
						"comment_count": "8",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-03-16 01:57:41 +0000",
						"thetext": "Hi, very interesting idea!\n\nFirst, let me collect what we seem to want from a fixed version:\n\n (1) It should work well for code using Expat\n     as it was used years ago, i.e. be compatible to API semantics\n     of Expat 1.95.x or so and still be secure.\n\n (2) It should not call srand at all, at least not, if it has been\n     called before.  Because that would interfere with the stream\n     of randomness in other parts of the code using Expat.\n\n (3) The salt should receive a secure amount of entropy.\n\n\nRight now, the salt is derived as\n\n  entropy bits from time -> srand -> first value in rand chain -> salt .\n\nThe idea now is to replace that by\n\n  entropy bits from time -> salt .\n\nThe need to use more entropy bits out of the clock left aside, the salt\nwould no longer be all over the place but within a certain range.\nI have a feeling that something like\n\n  entropy bits from time -> SHA256 -> salt\n\nwould be more secure (since it would be all over the place again)\nbut I cannot stop thinking that time is always going to be too little\nentropy, for something that may be attacking from the same local machine\nwith no network delay in between as fast as possible.\n\nMaybe we need a way to read sizeof(int) good random bytes for all\nsupported platforms and use that for the salt when no explicit value is given?\nFor Linux that could be reading one byte from /dev/random, the rest from /dev/urandom.  A chroot without /dev mounted may need some extra consideration.\n\nIf the attacker can guess the time down to one second of precision,\nwith microseconds from gettimeofday: do we have 10^6 ~= 2^20 = 20 bits entropy?\nIs that realistic?  Is it enough?\n\nBest, Sebastian"
					},
					{
						"isprivate": "0",
						"commentid": "9152407",
						"comment_count": "9",
						"who": {
							"text": "tmraz",
							"name": "Tomas Mraz"
						},
						"bug_when": "2016-03-16 10:36:25 +0000",
						"thetext": "(In reply to Sebastian Pipping from comment #8)\n\n> For Linux that could be reading one byte from /dev/random, the rest from\n> /dev/urandom.  A chroot without /dev mounted may need some extra\n> consideration.\n\nPlease do not mention using /dev/random at all, that is almost never a good idea.\n\nAlso I'd suggest looking at the getrandom() syscall on platforms where it is available or where its equivalent is available."
					},
					{
						"isprivate": "0",
						"commentid": "9153453",
						"comment_count": "10",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-03-16 15:04:46 +0000",
						"thetext": "Created attachment 1137086\ngetrandom in a loop for review\n\nThanks for pointing me to getrandom.  Is my understanding correct, that I would have to call it in a loop like the sample code attached?  Also, how do I fix\n\n  getrandom_loop.c:(.text+0x53): undefined reference to `getrandom'\n  collect2: error: ld returned 1 exit status\n\nI have Linux 4.4 headers around."
					},
					{
						"isprivate": "0",
						"commentid": "9153507",
						"comment_count": "11",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-03-16 15:18:02 +0000",
						"thetext": "Created attachment 1137093\nCall srand with more entropy\n\nSince using good random on all supported platforms is not quick to implement, maybe we should split the fix in half: (1) A temporary fix that improves the situation and (2) a long term one, that gets high quality entropy in the way that works best on platform X.\n\nFor (1) I'm attaching a patch for review.  The two ideas are:\n\n * we get more entropy out of the clock than previously, and\n\n * any entropy passed to previous calls to srand is maintained.\n\nI'm looking forward to feedback."
					},
					{
						"isprivate": "0",
						"commentid": "9156952",
						"comment_count": "12",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-03-17 15:57:20 +0000",
						"thetext": "Created attachment 1137426\ndifferent proposal\n\nWe had a bit of a discussion internally about this.  I've attached this based on your patch, it removes the srand usage entirely, there doesn't seem to be a good justification for using that, and it avoids the global state/non-re-entrant function use entirely."
					},
					{
						"isprivate": "0",
						"commentid": "9158077",
						"comment_count": "13",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-03-17 23:46:13 +0000",
						"thetext": "Hi!  This is going in the right direction for a short to mid term fix.  Its is import to me that we prevent continuing with zero or close to zero entropy -- which failure to query the time and a local attacker seem to result in -- without signaling that error to the layer above clearly.\n\nApplying that wish to the patch you proposed, I see that time(..) is used if gettimeofday(..) failed.  Studying their man pages, my impression is both of these functions are not going to fail unless something is very out of hand not just in our process.  Now if both of them would never fail, they deserve equal handling in my eyes: Either we assume they never fail and add an assert -- if you avoid assert on purpose please explain why -- or we assume they may fail, then time(..) can fail too and needs error handling as well (which is lacking right now).  Especially: if one way to query time failed, why should the other work in that very scenario?\n\nSo what I would like to see in the patch is that we pick from:\n\n a) Use gettimeofday(..) only, add assert on success\n\n b) Use gettimeofday(..) with time(..) as fallback,\n    add assert on success of time(..).\n\n c) Pass the error upwards and make the whole upcoming\n    parsing process fail if we cannot extract entropy from the clock.\n\nPlease let me know what you think.  Best, Sebastian"
					},
					{
						"isprivate": "0",
						"commentid": "9158081",
						"comment_count": "14",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-03-17 23:50:10 +0000",
						"thetext": "PS: I only really notice now how little entropy time(..) really is.  So maybe drop (b) from my candidates again :)"
					},
					{
						"isprivate": "0",
						"commentid": "9159133",
						"comment_count": "15",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-03-18 10:31:39 +0000",
						"thetext": "Good argument.  I'm definitely fine with (a)."
					},
					{
						"isprivate": "0",
						"commentid": "9160674",
						"comment_count": "16",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-03-18 18:25:29 +0000",
						"thetext": "Created attachment 1137839\nResolve call to srand, use more entropy\n\nExcellent.  Please review the new candidate for a patch, ideally the text I put in the commit message, too.  Thanks!"
					},
					{
						"isprivate": "0",
						"commentid": "9163867",
						"comment_count": "17",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-03-21 09:08:47 +0000",
						"thetext": "Looks good to me, including the comment.  Thanks a lot!"
					},
					{
						"isprivate": "0",
						"commentid": "9163869",
						"comment_count": "18",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-03-21 09:09:37 +0000",
						"thetext": "Oh, will that break that Windows build?  IIRC #include <sys/*.h> won't work on Windows."
					},
					{
						"isprivate": "0",
						"commentid": "9164212",
						"comment_count": "19",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-03-21 11:12:08 +0000",
						"thetext": "The patch doesn't work on Windows yet, yes.  I am working with someone on adding Windows support based on functions similar to gettimeofday but supported on Windows."
					},
					{
						"isprivate": "0",
						"commentid": "9164601",
						"comment_count": "20",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-03-21 12:31:17 +0000",
						"thetext": "Since keyword \"Security\" has been added: Does this deserve/have a CVE?"
					},
					{
						"isprivate": "0",
						"commentid": "9165641",
						"comment_count": "21",
						"who": {
							"text": "yann",
							"name": "Yann Droneaud"
						},
						"bug_when": "2016-03-21 16:30:16 +0000",
						"thetext": "Hi,\n\nPatch in attachment #1137839 is using a large constant which is not going to be valid for ABIs where long are 32 bits (32 bits systems and Windows 64 bits).\n\nAnyway, I think the value from struct timeval.tv_usec can be used asis as it will be hashed with others items in CHAR_HASH().\n\nBy the way, may be you could xor tv_usec with struct XML_ParserStruct address to reduce the likeliness of having two parsers with the same salt.\n\nRegards."
					},
					{
						"isprivate": "0",
						"commentid": "9166252",
						"comment_count": "22",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-03-21 18:42:59 +0000",
						"thetext": "Hello Yann, I appreciate your input!\n\n> Patch in attachment #1137839 [details] is using a large constant which is not\n> going to be valid for ABIs where long are 32 bits (32 bits systems and Windows\n> 64 bits).\n\nI suppose on 32bit the constant would be cut down to 2**61-1 & 0xffffffff = 4294967295 = 3 * 5 * 17 * 257 * 65537 = not a prime?\n\nHow about we check sizeof(long) == 4 at runtime and use 2^31-1 then, 2^61-1 else? Both are Mersenne primes.\n\n\n> By the way, may be you could xor tv_usec with struct XML_ParserStruct address\n> to reduce the likeliness of having two parsers with the same salt.\n\nSounds like a great idea to gain a few free extra bits of cross-platform entropy."
					},
					{
						"isprivate": "0",
						"commentid": "9166373",
						"comment_count": "23",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-03-21 19:14:45 +0000",
						"thetext": "PS: The latest two commits on https://sourceforge.net/p/expat/code_git/ci/resolve-srand/log/ no implement just that."
					},
					{
						"isprivate": "0",
						"commentid": "9166669",
						"comment_count": "24",
						"who": {
							"text": "yann",
							"name": "Yann Droneaud"
						},
						"bug_when": "2016-03-21 21:34:29 +0000",
						"thetext": "At least on i386 and amd64, GCC turns that code\n\n  if (sizeof(unsigned long) == 4) {\n    return entropy * 2147483647;\n  } else {\n    return entropy * 2305843009213693951;\n  }\n\nto (roughly manually synthesized from assembler):\n\n  if (sizeof(unsigned long) == 4)\n     return (entropy << 31) - entropy;\n  else\n     return (entropy << 61) - entropy;\n\nI don't think this implements a valuable PRNG (look at the (lack of) avalanche effect).\n\nAnyway, as I said earlier, I don't think you need to implement a PRNG of your own here: it's probably easier to use (gather_time_entropy() ^ getpid() ^ (unsigned long)parser) directly.\n\nThe value is used as seed to initialize hash computation for one given parser.\n\nI think an attacker being able to find the value by extracting some bits of salt by looking at output of some expat's public functions (for example, the order of keys in a dictionary) won't be able to use the value further, attacker won't be able to use this knowledge to construct a new XML file that triggers hash collisions, as the salt for the new parser will likely be different.\n\nBy the way, if an attacker is able to observe hash output, then the hash function has to be hardened.\n\nRegards."
					},
					{
						"isprivate": "0",
						"commentid": "9169239",
						"comment_count": "25",
						"who": {
							"text": "marqin.pl+rh"
						},
						"bug_when": "2016-03-22 14:42:18 +0000",
						"thetext": "Btw. you can also use BSD style random() which allows to get previous state via setstate() and later restore that previous PRNG state. It's supported in glibc/muslc on Linux/BSD/Mac, but sadly it's not in Windows libc.\n\nRegards."
					},
					{
						"isprivate": "0",
						"commentid": "9182625",
						"comment_count": "26",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-03-28 18:12:48 +0000",
						"thetext": "(In reply to Yann Droneaud from comment #24)\n> At least on i386 and amd64, GCC turns that code\n> [..]\n> to (roughly manually synthesized from assembler):\n> \n>   if (sizeof(unsigned long) == 4)\n>      return (entropy << 31) - entropy;\n>   else\n>      return (entropy << 61) - entropy;\n> \n> I don't think this implements a valuable PRNG (look at the (lack of)\n> avalanche effect).\n\nAgreed.  Your translated assembly seems to still do what I was aiming at though: bijective transformation from monotonic to non-monotonic.  Play code:\n\n  #include <stdlib.h>\n  #include <stdio.h>\n  \n  static unsigned long process(unsigned long i) {\n      if (sizeof(unsigned long) == 4)\n          return (i << 31) - i;\n      else\n          return (i << 61) - i;\n  }\n  \n  int main(int argc, char ** argv) {\n      unsigned long i = 1;\n      unsigned long cur;\n      unsigned long prev = 0;\n      const long times = atol(argv[1]) + 1;\n      for (; i < times; i++) {\n          cur = process(i);\n          printf(\"%lu, %i\\n\", cur, (cur > prev) ? 1 : -1);\n          prev = cur;\n      }\n      return 0;\n  }\n\nAnd invocation:\n\n  # gcc yann.c && ./a.out 30\n\n\n(In reply to marqin.pl+rh from comment #25)\n> Btw. you can also use BSD style random() which allows to get previous state\n> via setstate() and later restore that previous PRNG state. It's supported in\n> glibc/muslc on Linux/BSD/Mac, but sadly it's not in Windows libc.\n\nI think with random(3) we have the issue of how/when to call srandom again and would mess with what the application may do with random(3) in the same thread else.  We would need a function getstate so we can restore previous state transparently after, I guess?"
					},
					{
						"isprivate": "0",
						"commentid": "9182917",
						"comment_count": "27",
						"who": {
							"text": "yann",
							"name": "Yann Droneaud"
						},
						"bug_when": "2016-03-28 20:19:57 +0000",
						"thetext": "(In reply to Sebastian Pipping from comment #26)\n> (In reply to Yann Droneaud from comment #24)\n> > At least on i386 and amd64, GCC turns that code\n> > [..]\n> > to (roughly manually synthesized from assembler):\n> > \n> >   if (sizeof(unsigned long) == 4)\n> >      return (entropy << 31) - entropy;\n> >   else\n> >      return (entropy << 61) - entropy;\n> > \n> > I don't think this implements a valuable PRNG (look at the (lack of)\n> > avalanche effect).\n> \n> Agreed.  Your translated assembly seems to still do what I was aiming at\n> though: bijective transformation from monotonic to non-monotonic.  Play code:\n> \n>   #include <stdlib.h>\n>   #include <stdio.h>\n>   \n>   static unsigned long process(unsigned long i) {\n>       if (sizeof(unsigned long) == 4)\n>           return (i << 31) - i;\n>       else\n>           return (i << 61) - i;\n>   }\n>   \n>   int main(int argc, char ** argv) {\n>       unsigned long i = 1;\n>       unsigned long cur;\n>       unsigned long prev = 0;\n>       const long times = atol(argv[1]) + 1;\n>       for (; i < times; i++) {\n>           cur = process(i);\n>           printf(\"%lu, %i\\n\", cur, (cur > prev) ? 1 : -1);\n>           prev = cur;\n>       }\n>       return 0;\n>   }\n> \n> And invocation:\n> \n>   # gcc yann.c && ./a.out 30\n> \n> \n\nThat doesn't look so good when formatted differently.\n\n  --- yann.c\t2016-03-28 21:52:34.278518801 +0200\n  +++ yann.c\t2016-03-28 21:51:14.088592915 +0200\n  @@ -15,7 +15,9 @@\n       const long times = atol(argv[1]) + 1;\n       for (; i < times; i++) {\n           cur = process(i);\n  -        printf(\"%lu, %i\\n\", cur, (cur > prev) ? 1 : -1);\n  +        printf(\"%0*lx, %i\\n\",\n  +               (int)sizeof(unsigned long) * 2,\n  +               cur, (cur > prev) ? 1 : -1);\n           prev = cur;\n       }\n       return 0;\n\n  $ ./a.out 20\n  1fffffffffffffff, 1\n  3ffffffffffffffe, 1\n  5ffffffffffffffd, 1\n  7ffffffffffffffc, 1\n  9ffffffffffffffb, 1\n  bffffffffffffffa, 1\n  dffffffffffffff9, 1\n  fffffffffffffff8, 1\n  1ffffffffffffff7, -1\n  3ffffffffffffff6, 1\n  5ffffffffffffff5, 1\n  7ffffffffffffff4, 1\n  9ffffffffffffff3, 1\n  bffffffffffffff2, 1\n  dffffffffffffff1, 1\n  fffffffffffffff0, 1\n  1fffffffffffffef, -1\n  3fffffffffffffee, 1\n  5fffffffffffffed, 1\n  7fffffffffffffec, 1\n  9fffffffffffffeb, 1\n  bfffffffffffffea, 1\n  dfffffffffffffe9, 1\n  ffffffffffffffe8, 1\n  1fffffffffffffe7, -1\n  3fffffffffffffe6, 1\n  5fffffffffffffe5, 1\n  7fffffffffffffe4, 1\n  9fffffffffffffe3, 1\n  bfffffffffffffe2, 1\n\n\nWith the following patch that formats the values as a binary stream\n\n  --- yann.c\t2016-03-28 21:52:34.278518801 +0200\n  +++ yann.c\t2016-03-28 22:00:27.815893604 +0200\n  @@ -8,15 +8,11 @@\n           return (i << 61) - i;\n   }\n   \n  -int main(int argc, char ** argv) {\n  -    unsigned long i = 1;\n  -    unsigned long cur;\n  -    unsigned long prev = 0;\n  -    const long times = atol(argv[1]) + 1;\n  -    for (; i < times; i++) {\n  -        cur = process(i);\n  -        printf(\"%lu, %i\\n\", cur, (cur > prev) ? 1 : -1);\n  -        prev = cur;\n  +int main(void) {\n  +    unsigned long i;\n  +    for (i = 0;; i++) {\n  +        unsigned long hash = process(i);\n  +        fwrite(&hash, sizeof(hash), 1, stdout);\n       }\n       return 0;\n   }\n\nYou can fed the output to dieharder -g 200 -a:\n\n  $ ./a.out | dieharder -g 200 -a\n  #===================================================================\n  #            dieharder version 3.31.1 Copyright 2003 Robert G. Brown\n  #===================================================================\n     rng_name    |rands/second|   Seed   |\n  stdin_input_raw|  3.71e+07  |1571883871|\n  #===================================================================\n          test_name   |ntup| tsamples |psamples|  p-value |Assessment\n  #===================================================================\n     diehard_birthdays|   0|       100|     100|0.00000000|  FAILED  \n        diehard_operm5|   0|   1000000|     100|0.00000000|  FAILED  \n    diehard_rank_32x32|   0|     40000|     100|0.00000000|  FAILED  \n      diehard_rank_6x8|   0|    100000|     100|0.00000000|  FAILED  \n     diehard_bitstream|   0|   2097152|     100|0.00000000|  FAILED  \n          diehard_opso|   0|   2097152|     100|0.00000000|  FAILED  \n          diehard_oqso|   0|   2097152|     100|0.00000000|  FAILED  \n           diehard_dna|   0|   2097152|     100|0.00000000|  FAILED  \n  diehard_count_1s_str|   0|    256000|     100|0.00000000|  FAILED  \n  diehard_count_1s_byt|   0|    256000|     100|0.00000000|  FAILED  \n   diehard_parking_lot|   0|     12000|     100|0.00000000|  FAILED  \n      diehard_2dsphere|   2|      8000|     100|0.00000000|  FAILED  \n      diehard_3dsphere|   3|      4000|     100|0.00000000|  FAILED  \n       diehard_squeeze|   0|    100000|     100|0.00000000|  FAILED  \n          diehard_sums|   0|       100|     100|0.00000000|  FAILED  \n          diehard_runs|   0|    100000|     100|0.00000000|  FAILED  \n          diehard_runs|   0|    100000|     100|0.00000000|  FAILED  \n         diehard_craps|   0|    200000|     100|0.00000000|  FAILED  \n         diehard_craps|   0|    200000|     100|0.00000000|  FAILED  \n   ...\n   <CTRL-C>\n\n\nRegards."
					},
					{
						"isprivate": "0",
						"commentid": "9185861",
						"comment_count": "28",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-03-29 00:39:26 +0000",
						"thetext": "Interesting!  I wouldn't have expected it to be that bad (and also not /dev/urandom performing so well, just tried).\n\nI have gotten a few of these to pass using a different number with more balance distribution of 1s and 0s, so far for 64 bit only.\n\nFor better randomness (that we do not need to initialize ourselves):\nFor Windows XP and later we may have CryptGenRandom, arc4random_buf on BSD, getrandom on Linux.  Any ideas how to fix the link issue with comment #10 ?"
					},
					{
						"isprivate": "0",
						"commentid": "9190323",
						"comment_count": "29",
						"who": {
							"text": "tc"
						},
						"bug_when": "2016-03-30 06:48:59 +0000",
						"thetext": "What is the sense of testing an entropy generator against dieharder? It is not a proper PRNG and hence it is very likely to fail."
					},
					{
						"isprivate": "0",
						"commentid": "9199471",
						"comment_count": "30",
						"who": {
							"text": "tc"
						},
						"bug_when": "2016-04-01 10:10:20 +0000",
						"thetext": "Created attachment 1142489\ngettimeofday of sys/time.h replacement for MSVC"
					},
					{
						"isprivate": "0",
						"commentid": "9199501",
						"comment_count": "31",
						"who": {
							"text": "tc"
						},
						"bug_when": "2016-04-01 10:12:10 +0000",
						"thetext": "attachment 1142489 is a substitude of header sys/time.h providing gettineofday for MSVC ."
					},
					{
						"isprivate": "0",
						"commentid": "9199745",
						"comment_count": "32",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-04-01 11:53:16 +0000",
						"thetext": "Thanks.  I should have mentioned we have Windows support on Git master by now, already."
					},
					{
						"isprivate": "0",
						"commentid": "9199754",
						"comment_count": "33",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-04-01 11:56:41 +0000",
						"thetext": "(In reply to tc from comment #29)\n> What is the sense of testing an entropy generator against dieharder? It is\n> not a proper PRNG and hence it is very likely to fail.\n\nSince generate_hash_secret_salt is called for each parser potentially, it is used like an RNG by Expat effectively, to my understanding."
					},
					{
						"isprivate": "0",
						"commentid": "9199829",
						"comment_count": "34",
						"who": {
							"text": "tc"
						},
						"bug_when": "2016-04-01 12:20:39 +0000",
						"thetext": "Well, then dieharder fails on the old and the nwe implementation.\n\nI actually like the idea of adding the low-level functions gettimeofday and _getpid on MSVC (instead of the used Win32-API functions."
					},
					{
						"isprivate": "0",
						"commentid": "9199877",
						"comment_count": "35",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-04-01 12:32:24 +0000",
						"thetext": "(In reply to tc from comment #34)\n> Well, then dieharder fails on the old and the nwe implementation.\n\nYes.  Still, the old one had more side-effects and used less entropy.\n\n\n> I actually like the idea of adding the low-level functions gettimeofday and\n> _getpid on MSVC (instead of the used Win32-API functions.\n\nI see the beauty in that but I'm not sure if it's the best road.  Maybe let's take that off-ticket."
					},
					{
						"isprivate": "0",
						"commentid": "9387153",
						"comment_count": "36",
						"who": {
							"text": "sebastian",
							"name": "Sebastian Pipping"
						},
						"bug_when": "2016-06-04 15:32:25 +0000",
						"thetext": "(In reply to Sebastian Pipping from comment #20)\n> Since keyword \"Security\" has been added: Does this deserve/have a CVE?\n\nUpdate: CVE-2012-6702 has been assigned to this issue."
					},
					{
						"isprivate": "0",
						"commentid": "9424350",
						"comment_count": "37",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:34:12 +0000",
						"thetext": "Commit: http://pkgs.fedoraproject.org/gitweb/?p=expat.git;a=commitdiff;h=27e66613e8e6f712d405820667e77a4cb08f9946"
					},
					{
						"isprivate": "0",
						"commentid": "9424393",
						"comment_count": "38",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:43:35 +0000",
						"thetext": "Package: expat-2.1.1-2.fc25\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773512"
					},
					{
						"isprivate": "0",
						"commentid": "9424405",
						"comment_count": "39",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:44:50 +0000",
						"thetext": "Commit: http://pkgs.fedoraproject.org/gitweb/?p=expat.git;a=commitdiff;h=27e66613e8e6f712d405820667e77a4cb08f9946"
					},
					{
						"isprivate": "0",
						"commentid": "9424440",
						"comment_count": "40",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:51:33 +0000",
						"thetext": "Package: expat-2.1.1-2.fc24\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773516"
					},
					{
						"isprivate": "0",
						"commentid": "9424477",
						"comment_count": "41",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-16 14:56:18 +0000",
						"thetext": "expat-2.1.1-2.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-7c6e7a9265"
					},
					{
						"isprivate": "0",
						"commentid": "9424489",
						"comment_count": "42",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:59:15 +0000",
						"thetext": "Package: expat-2.1.1-2.fc23\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773519"
					},
					{
						"isprivate": "0",
						"commentid": "9424518",
						"comment_count": "43",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-16 15:01:47 +0000",
						"thetext": "expat-2.1.1-2.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2016-60889583ab"
					},
					{
						"isprivate": "0",
						"commentid": "9424552",
						"comment_count": "44",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 15:10:08 +0000",
						"thetext": "Package: expat-2.1.1-2.fc22\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773523"
					},
					{
						"isprivate": "0",
						"commentid": "9424565",
						"comment_count": "45",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-16 15:11:34 +0000",
						"thetext": "expat-2.1.1-2.fc22 has been submitted as an update to Fedora 22. https://bodhi.fedoraproject.org/updates/FEDORA-2016-0fd6ca526a"
					},
					{
						"isprivate": "0",
						"commentid": "9429634",
						"comment_count": "46",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-18 05:24:23 +0000",
						"thetext": "expat-2.1.1-2.fc22 has been pushed to the Fedora 22 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-0fd6ca526a"
					},
					{
						"isprivate": "0",
						"commentid": "9429652",
						"comment_count": "47",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-18 05:25:05 +0000",
						"thetext": "expat-2.1.1-2.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-60889583ab"
					},
					{
						"isprivate": "0",
						"commentid": "9429977",
						"comment_count": "48",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-18 16:26:50 +0000",
						"thetext": "expat-2.1.1-2.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-7c6e7a9265"
					},
					{
						"isprivate": "0",
						"commentid": "9430568",
						"comment_count": "49",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-19 07:24:46 +0000",
						"thetext": "expat-2.1.1-2.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "9438037",
						"comment_count": "50",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-21 19:23:28 +0000",
						"thetext": "expat-2.1.1-2.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "9498560",
						"comment_count": "51",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-07-12 02:23:32 +0000",
						"thetext": "expat-2.1.1-2.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1319732,
			"feedback": [
				{
					"bug_id": 1319732,
					"comment": {
						"id": 447557,
						"karma": 1,
						"karma_critpath": 1,
						"text": "No regressions noted.",
						"timestamp": "2016-06-17 12:13:57",
						"update_id": 60655,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/e62cb974458dc33fcf2225462b8765e0aadcbbd698560c8f8dad6c3e23d5e47e?s=24&d=retro",
							"email": "dhgutteridge@hotmail.com",
							"groups": [
								{
									"name": "ipausers"
								}
							],
							"id": 194,
							"name": "dhgutteridge",
							"openid": "dhgutteridge.id.fedoraproject.org"
						},
						"user_id": 194
					},
					"comment_id": 447557
				}
			],
			"security": true,
			"title": "CVE-2012-6702 expat: Using XML_Parse before rand() results into non-random output [fedora-all]",
			"bugzilla": {
				"bug_id": "1319732",
				"creation_ts": "2016-03-21 11:56:13 +0000",
				"short_desc": "CVE-2012-6702 expat: Using XML_Parse before rand() results into non-random output [fedora-all]",
				"delta_ts": "2016-07-12 02:23:30 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security, SecurityTracking",
				"priority": "medium",
				"bug_severity": "medium",
				"blocked": [
					{
						"bug_id": "1319731",
						"alias": "CVE-2012-6702",
						"creation_ts": "2016-03-21 11:55:54 +0000",
						"short_desc": "CVE-2012-6702 expat: Using XML_Parse before rand() results into non-random output",
						"delta_ts": "2019-09-29 13:45:56 +0000",
						"bug_status": "CLOSED",
						"resolution": "WONTFIX",
						"keywords": "Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"1197087",
							"1319732",
							"1319733",
							"1319734",
							"1319735",
							"1319736"
						],
						"blocked": [
							{
								"bug_id": "1296104",
								"error": "NotPermitted"
							},
							{
								"bug_id": "1319739",
								"error": "NotPermitted"
							}
						],
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "9164418",
								"comment_count": "0",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-03-21 11:55:54 +0000",
								"thetext": "It was found that when calling XML_Parse ahead of rand(), it causes the pseudo random generator to generate non-random predictable numbers.\n\nProduct bug:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1197087"
							},
							{
								"isprivate": "0",
								"commentid": "9164431",
								"comment_count": "1",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-03-21 11:56:47 +0000",
								"thetext": "\nCreated compat-expat1 tracking bugs for this issue:\n\nAffects: fedora-all [bug 1319733]"
							},
							{
								"isprivate": "0",
								"commentid": "9164432",
								"comment_count": "2",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-03-21 11:56:56 +0000",
								"thetext": "\nCreated expat tracking bugs for this issue:\n\nAffects: fedora-all [bug 1319732]"
							},
							{
								"isprivate": "0",
								"commentid": "9164433",
								"comment_count": "3",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-03-21 11:57:03 +0000",
								"thetext": "\nCreated mingw-expat tracking bugs for this issue:\n\nAffects: fedora-all [bug 1319734]\nAffects: epel-7 [bug 1319736]"
							},
							{
								"isprivate": "0",
								"commentid": "9164434",
								"comment_count": "4",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-03-21 11:57:10 +0000",
								"thetext": "\nCreated expat21 tracking bugs for this issue:\n\nAffects: epel-all [bug 1319735]"
							},
							{
								"isprivate": "0",
								"commentid": "9389072",
								"comment_count": "5",
								"who": {
									"text": "anemec",
									"name": "Andrej Nemec"
								},
								"bug_when": "2016-06-06 07:50:05 +0000",
								"thetext": "CVE assignment:\n\nhttp://seclists.org/oss-sec/2016/q2/469"
							},
							{
								"isprivate": "0",
								"commentid": "9390240",
								"comment_count": "6",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-06-06 13:19:40 +0000",
								"thetext": "Created attachment 1165212\nProposed upstream patch"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "9164420",
						"comment_count": "0",
						"who": {
							"text": "amaris",
							"name": "Adam Mariš"
						},
						"bug_when": "2016-03-21 11:56:13 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof Fedora.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate.\n\n[bug automatically created by: add-tracking-bugs]"
					},
					{
						"isprivate": "0",
						"commentid": "9164421",
						"comment_count": "1",
						"who": {
							"text": "amaris",
							"name": "Adam Mariš"
						},
						"bug_when": "2016-03-21 11:56:18 +0000",
						"thetext": "\nUse the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1319731,1319732\n\n# Description of your update\nnotes=Security fix for \n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi web interface to submit updates:\n\nhttps://bodhi.fedoraproject.org/updates/new"
					},
					{
						"isprivate": "0",
						"commentid": "9424351",
						"comment_count": "2",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:34:12 +0000",
						"thetext": "Commit: http://pkgs.fedoraproject.org/gitweb/?p=expat.git;a=commitdiff;h=27e66613e8e6f712d405820667e77a4cb08f9946"
					},
					{
						"isprivate": "0",
						"commentid": "9424394",
						"comment_count": "3",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:43:35 +0000",
						"thetext": "Package: expat-2.1.1-2.fc25\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773512"
					},
					{
						"isprivate": "0",
						"commentid": "9424406",
						"comment_count": "4",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:44:50 +0000",
						"thetext": "Commit: http://pkgs.fedoraproject.org/gitweb/?p=expat.git;a=commitdiff;h=27e66613e8e6f712d405820667e77a4cb08f9946"
					},
					{
						"isprivate": "0",
						"commentid": "9424441",
						"comment_count": "5",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:51:33 +0000",
						"thetext": "Package: expat-2.1.1-2.fc24\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773516"
					},
					{
						"isprivate": "0",
						"commentid": "9424476",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-16 14:56:14 +0000",
						"thetext": "expat-2.1.1-2.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-7c6e7a9265"
					},
					{
						"isprivate": "0",
						"commentid": "9424490",
						"comment_count": "7",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:59:15 +0000",
						"thetext": "Package: expat-2.1.1-2.fc23\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773519"
					},
					{
						"isprivate": "0",
						"commentid": "9424516",
						"comment_count": "8",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-16 15:01:44 +0000",
						"thetext": "expat-2.1.1-2.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2016-60889583ab"
					},
					{
						"isprivate": "0",
						"commentid": "9424553",
						"comment_count": "9",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 15:10:08 +0000",
						"thetext": "Package: expat-2.1.1-2.fc22\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773523"
					},
					{
						"isprivate": "0",
						"commentid": "9424564",
						"comment_count": "10",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-16 15:11:31 +0000",
						"thetext": "expat-2.1.1-2.fc22 has been submitted as an update to Fedora 22. https://bodhi.fedoraproject.org/updates/FEDORA-2016-0fd6ca526a"
					},
					{
						"isprivate": "0",
						"commentid": "9429632",
						"comment_count": "11",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-18 05:24:20 +0000",
						"thetext": "expat-2.1.1-2.fc22 has been pushed to the Fedora 22 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-0fd6ca526a"
					},
					{
						"isprivate": "0",
						"commentid": "9429651",
						"comment_count": "12",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-18 05:25:03 +0000",
						"thetext": "expat-2.1.1-2.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-60889583ab"
					},
					{
						"isprivate": "0",
						"commentid": "9429976",
						"comment_count": "13",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-18 16:26:47 +0000",
						"thetext": "expat-2.1.1-2.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-7c6e7a9265"
					},
					{
						"isprivate": "0",
						"commentid": "9430567",
						"comment_count": "14",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-19 07:24:44 +0000",
						"thetext": "expat-2.1.1-2.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "9438036",
						"comment_count": "15",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-21 19:23:25 +0000",
						"thetext": "expat-2.1.1-2.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "9498559",
						"comment_count": "16",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-07-12 02:23:30 +0000",
						"thetext": "expat-2.1.1-2.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1337116,
			"feedback": [
				{
					"bug_id": 1337116,
					"comment": {
						"id": 447557,
						"karma": 1,
						"karma_critpath": 1,
						"text": "No regressions noted.",
						"timestamp": "2016-06-17 12:13:57",
						"update_id": 60655,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/e62cb974458dc33fcf2225462b8765e0aadcbbd698560c8f8dad6c3e23d5e47e?s=24&d=retro",
							"email": "dhgutteridge@hotmail.com",
							"groups": [
								{
									"name": "ipausers"
								}
							],
							"id": 194,
							"name": "dhgutteridge",
							"openid": "dhgutteridge.id.fedoraproject.org"
						},
						"user_id": 194
					},
					"comment_id": 447557
				}
			],
			"security": true,
			"title": "CVE-2016-0718 expat: Out-of-bounds heap read on crafted input causing crash [fedora-all]",
			"bugzilla": {
				"bug_id": "1337116",
				"creation_ts": "2016-05-18 10:43:00 +0000",
				"short_desc": "CVE-2016-0718 expat: Out-of-bounds heap read on crafted input causing crash [fedora-all]",
				"delta_ts": "2016-07-12 02:23:27 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security, SecurityTracking",
				"priority": "medium",
				"bug_severity": "medium",
				"blocked": [
					{
						"bug_id": "1296102",
						"alias": "CVE-2016-0718",
						"creation_ts": "2016-01-06 10:35:27 +0000",
						"short_desc": "CVE-2016-0718 expat: Out-of-bounds heap read on crafted input causing crash",
						"delta_ts": "2021-02-17 04:32:35 +0000",
						"bug_status": "CLOSED",
						"resolution": "ERRATA",
						"keywords": "Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"1337115",
							"1337116",
							"1337117",
							"1337118",
							"1337119",
							"1387550",
							"1387551",
							"1387552",
							"1387553",
							"1387554",
							"1387555",
							"1387556",
							"1387557",
							"1397638",
							"1397639",
							"1397640",
							"1397641",
							"1416777",
							"1512373",
							"1512374"
						],
						"blocked": [
							{
								"bug_id": "1296104",
								"error": "NotPermitted"
							}
						],
						"external_bugs": {
							"text": "RHSA-2018:2486",
							"name": "Red Hat Product Errata"
						},
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "8958020",
								"comment_count": "0",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-01-06 10:35:27 +0000",
								"thetext": "The Expat XML parser mishandles certain kinds of malformed input documents, resulting in buffer overflows during processing and error reporting. The overflows can manifest as a segmentation fault or as memory corruption during a parse operation. The bugs allow for a denial of service attack in many applications by an unauthenticated attacker, and could conceivably result in remote code execution."
							},
							{
								"isprivate": "0",
								"commentid": "8958937",
								"comment_count": "2",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-01-06 15:33:54 +0000",
								"thetext": "Acknowledgments:\n\nName: Gustavo Grieco"
							},
							{
								"isprivate": "0",
								"commentid": "9068637",
								"comment_count": "10",
								"who": {
									"text": "scorneli",
									"name": "Stefan Cornelius"
								},
								"bug_when": "2016-02-16 15:55:31 +0000",
								"thetext": "Thank you very much for your excellent work!\n\nSorry, I should really have seen your comments earlier but I haven't - a misunderstanding between me and my email filtering.\n\nIndeed, python is problematic here. Does python upstream have a release date yet? I'll whip this bug into good shape tomorrow-ish and check if we can prepare updates."
							},
							{
								"isprivate": "0",
								"commentid": "9068733",
								"comment_count": "11",
								"who": {
									"text": "cheimes",
									"name": "Christian Heimes"
								},
								"bug_when": "2016-02-16 16:19:38 +0000",
								"thetext": "Avahi also uses expat. It runs on most workstations + laptops and listens on network connections. I'm not familiar with ZeroConf, does it use XML for communication?\n\nWe are currently preparing a new release of Python 2.7 to 3.5 with three security fixes. One fix is still under development. Since Python ships its own copy of expat and uses the copy on Windows, I'd appreciate a coordinated release of the expat fix. It's going to take a week or two to prepare the releases on your side.\n\nBy the way I ran into trouble with expat's outdated autoconf / automake files. I hacked and messed around with the files until autoconf worked again for me: https://github.com/tiran/expat/commit/9c6ca6b0ae8a7c13153fdd48b5360988c2fdae80"
							},
							{
								"isprivate": "0",
								"commentid": "9315999",
								"comment_count": "16",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-05-11 08:27:32 +0000",
								"thetext": "Created attachment 1156016\nUpstream patch"
							},
							{
								"isprivate": "0",
								"commentid": "9336646",
								"comment_count": "17",
								"who": {
									"text": "anemec",
									"name": "Andrej Nemec"
								},
								"bug_when": "2016-05-18 10:43:28 +0000",
								"thetext": "\nCreated compat-expat1 tracking bugs for this issue:\n\nAffects: fedora-all [bug 1337115]"
							},
							{
								"isprivate": "0",
								"commentid": "9336647",
								"comment_count": "18",
								"who": {
									"text": "anemec",
									"name": "Andrej Nemec"
								},
								"bug_when": "2016-05-18 10:43:39 +0000",
								"thetext": "\nCreated expat tracking bugs for this issue:\n\nAffects: fedora-all [bug 1337116]"
							},
							{
								"isprivate": "0",
								"commentid": "9336648",
								"comment_count": "19",
								"who": {
									"text": "anemec",
									"name": "Andrej Nemec"
								},
								"bug_when": "2016-05-18 10:43:46 +0000",
								"thetext": "\nCreated mingw-expat tracking bugs for this issue:\n\nAffects: fedora-all [bug 1337118]\nAffects: epel-all [bug 1337119]"
							},
							{
								"isprivate": "0",
								"commentid": "9336651",
								"comment_count": "20",
								"who": {
									"text": "anemec",
									"name": "Andrej Nemec"
								},
								"bug_when": "2016-05-18 10:43:53 +0000",
								"thetext": "\nCreated expat21 tracking bugs for this issue:\n\nAffects: epel-all [bug 1337117]"
							},
							{
								"isprivate": "0",
								"commentid": "9336652",
								"comment_count": "21",
								"who": {
									"text": "anemec",
									"name": "Andrej Nemec"
								},
								"bug_when": "2016-05-18 10:44:14 +0000",
								"thetext": "Public via:\n\nhttp://seclists.org/oss-sec/2016/q2/360"
							},
							{
								"isprivate": "0",
								"commentid": "9344670",
								"comment_count": "22",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-05-20 13:33:00 +0000",
								"thetext": "Created attachment 1159904\nUpdated upstream patch\n\nThe patch was updated due to undefined behavior when computing larger blockSize and some signed integer overflows were fixed."
							},
							{
								"isprivate": "0",
								"commentid": "9901681",
								"comment_count": "27",
								"who": {
									"text": "dsafford",
									"name": "Dana Safford"
								},
								"bug_when": "2016-11-17 23:18:06 +0000",
								"thetext": "The customer called the Escalation Hotline to find out what is happening with this BZ.\n\nPlease get this going!!"
							},
							{
								"isprivate": "0",
								"commentid": "9936176",
								"comment_count": "36",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2016-11-28 19:36:15 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 7\n  Red Hat Enterprise Linux 6\n\nVia RHSA-2016:2824 https://rhn.redhat.com/errata/RHSA-2016-2824.html"
							},
							{
								"isprivate": "0",
								"commentid": "10019214",
								"comment_count": "37",
								"who": {
									"text": "dmitry",
									"name": "Dmitry Butskoy"
								},
								"bug_when": "2016-12-25 00:05:18 +0000",
								"thetext": "Regression found with an external product on RHEL6, after updating \nfrom expat-2.0.1-11.el6 to expat-2.0.1-13.el6:\n\nGoogleEarth, version of 6.2.2.6613\n\n(it is an old version, still i686, runing on x86_64, because newer versions have unresolved dependencies on RHEL6).\n\nAfter update to expat-2.0.1-13.el6_8.i686, googleearth crashes at startup with message:\n\n> Fatal error in __driConfigOptions line 1, column 0: out of memory.\n> Google Earth has caught signal 6.\n>\n>\n>\n> We apologize for the inconvenience\n...snip...\n\nThe first line is a report from /usr/lib/libGL.so.1 library.\n\nMesa code use some xml data in a form of hardcoded strings in various binaries, including /usr/lib/dri/*_dri.so drivers, as well as /usr/lib/libGL.so.1 itself (search the binary for <driinfo>, for example). It seems that expat is used to parse such data.\nProbably, after the update, something goes wrong with such cases.\n\nThe only interesting thing from strace is:\n\n> mmap2(NULL, 135168, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xfffffffff6634000\n> mremap(0xf6634000, 135168, 266240, MREMAP_MAYMOVE) = 0xfffffffff4527000\n> mremap(0xf4527000, 266240, 528384, MREMAP_MAYMOVE) = 0xfffffffff1e5e000\n> mremap(0xf1e5e000, 528384, 1052672, MREMAP_MAYMOVE) = 0xffffffffeb211000\n> mremap(0xeb211000, 1052672, 2101248, MREMAP_MAYMOVE) = 0xffffffffeb010000\n> mremap(0xeb010000, 2101248, 4198400, MREMAP_MAYMOVE) = 0xffffffffeac0f000\n> mremap(0xeac0f000, 4198400, 8392704, MREMAP_MAYMOVE) = 0xffffffffea40e000\n> mremap(0xea40e000, 8392704, 16781312, MREMAP_MAYMOVE) = 0xffffffffe940d000\n> mremap(0xe940d000, 16781312, 33558528, MREMAP_MAYMOVE) = 0xffffffffe740c000\n> mremap(0xe740c000, 33558528, 67112960, MREMAP_MAYMOVE) = 0xffffffffe340b000\n> mremap(0xe340b000, 67112960, 134221824, MREMAP_MAYMOVE) = 0xffffffffdb40a000\n> mremap(0xdb40a000, 134221824, 268439552, MREMAP_MAYMOVE) = 0xffffffffcb409000\n> mremap(0xcb409000, 268439552, 536875008, MREMAP_MAYMOVE) = 0xffffffffab408000\n> mremap(0xab408000, 536875008, 1073745920, MREMAP_MAYMOVE) = 0x6b407000\n> mremap(0x6b407000, 1073745920, 2147487744, MREMAP_MAYMOVE) = -1 ENOMEM (Cannot allocate memory)\n> mmap2(NULL, 2147487744, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\n> mmap2(NULL, 2147618816, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\n> mmap2(NULL, 2097152, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_NORESERVE, -1, 0) = 0xffffffffeb112000\n> munmap(0xeb112000, 974848)        = 0\n> munmap(0xeb300000, 73728)         = 0\n> mprotect(0xeb200000, 135168, PROT_READ|PROT_WRITE) = 0\n> mmap2(NULL, 2147487744, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\n> write(2, \"Fatal error in __driConfigOption\"..., 67) = 67"
							},
							{
								"isprivate": "0",
								"commentid": "10042696",
								"comment_count": "38",
								"who": {
									"text": "dmitry",
									"name": "Dmitry Butskoy"
								},
								"bug_when": "2017-01-07 21:15:25 +0000",
								"thetext": "Created attachment 1238300\nThe patch fixing the issue with i686 GoogleEarth"
							},
							{
								"isprivate": "0",
								"commentid": "10042698",
								"comment_count": "39",
								"who": {
									"text": "dmitry",
									"name": "Dmitry Butskoy"
								},
								"bug_when": "2017-01-07 21:16:30 +0000",
								"thetext": "Created attachment 1238301\ndiffs between original and fixed patches"
							},
							{
								"isprivate": "0",
								"commentid": "10042699",
								"comment_count": "40",
								"who": {
									"text": "dmitry",
									"name": "Dmitry Butskoy"
								},
								"bug_when": "2017-01-07 21:17:04 +0000",
								"thetext": "Created attachment 1238302\ncomplete fixed patch"
							},
							{
								"isprivate": "0",
								"commentid": "10042701",
								"comment_count": "41",
								"who": {
									"text": "dmitry",
									"name": "Dmitry Butskoy"
								},
								"bug_when": "2017-01-07 21:18:50 +0000",
								"thetext": "Some investigations:\n\nAltering the patch a little resolves the issue (see attachments).\n\nLooks strange, but probably it might be some side effects of the running 32-bit application under 64-bit environment...\n\nCould anybody look on it further?\n\n(For best visibility, see attachment 1238301 for diffs of the patches.)\n\n\nBTW, the latest upstream 2.2.0 (with all security patches applied etc.) has the issue as well."
							},
							{
								"isprivate": "0",
								"commentid": "10043536",
								"comment_count": "42",
								"who": {
									"text": "dmitry",
									"name": "Dmitry Butskoy"
								},
								"bug_when": "2017-01-08 22:52:16 +0000",
								"thetext": "Created attachment 1238499\noriginal vs.modified patches diffs"
							},
							{
								"isprivate": "0",
								"commentid": "10043547",
								"comment_count": "43",
								"who": {
									"text": "dmitry",
									"name": "Dmitry Butskoy"
								},
								"bug_when": "2017-01-08 23:13:07 +0000",
								"thetext": "Well,\n\nconsider the original and modified patches changes in attachment 1238499 .\n\nThe original patch implements a returned value for function XmlConvert().\n\nActually, XmlConvert is a macro, which finally expanded either to (enc->utf8Convert) or (enc->utf16Convert) .\n\nThe problem seems to be that enc->utf8Convert or env->utf16Convert might be initialized externally -- and an application which doing such an init by its own way can still knows nothing that these methods now must return a value.\n\nProbably GoogleEarth version 6 behaves so. I see a lot of calls to XmlConvert() which returns random values (as usual for void/integer misbehavior).\n\n\nIOW, applying the current CVE-2016-0718 security patch can break third party utf{8,16}Convert functions, which can lead to the random returned value.\n(Upstream 2.2.0 has the issue as well)."
							},
							{
								"isprivate": "0",
								"commentid": "10051104",
								"comment_count": "44",
								"who": {
									"text": "dmitry",
									"name": "Dmitry Butskoy"
								},
								"bug_when": "2017-01-11 00:55:02 +0000",
								"thetext": "GoogleEarth 6 has duplications of some 'Xml*' symbols -- the same provided both by GE and by the system libexpat.so.1 . It leads to misbehavior.\n\nThe simple working solution for GE 6 is just to use \"LD_PRELOAD=/lib/libexpat.so.1\", to avoid linking of system libraries with GE binaries. OTOH this way GE binaries link with the system one instead of its own (don't know what happens here exactly, but GE works).\n\n\nIt seems that previous reports about broken patch look like a noise. :( Sorry."
							},
							{
								"isprivate": "0",
								"commentid": "11921385",
								"comment_count": "49",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2018-08-16 16:06:24 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat JBoss Core Services\n\nVia RHSA-2018:2486 https://access.redhat.com/errata/RHSA-2018:2486"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "9336637",
						"comment_count": "0",
						"who": {
							"text": "anemec",
							"name": "Andrej Nemec"
						},
						"bug_when": "2016-05-18 10:43:00 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof Fedora.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate.\n\n[bug automatically created by: add-tracking-bugs]"
					},
					{
						"isprivate": "0",
						"commentid": "9336638",
						"comment_count": "1",
						"who": {
							"text": "anemec",
							"name": "Andrej Nemec"
						},
						"bug_when": "2016-05-18 10:43:05 +0000",
						"thetext": "\nUse the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1296102,1337116\n\n# Description of your update\nnotes=Security fix for CVE-2016-0718\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi web interface to submit updates:\n\nhttps://bodhi.fedoraproject.org/updates/new"
					},
					{
						"isprivate": "0",
						"commentid": "9424352",
						"comment_count": "2",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:34:12 +0000",
						"thetext": "Commit: http://pkgs.fedoraproject.org/gitweb/?p=expat.git;a=commitdiff;h=27e66613e8e6f712d405820667e77a4cb08f9946"
					},
					{
						"isprivate": "0",
						"commentid": "9424395",
						"comment_count": "3",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:43:35 +0000",
						"thetext": "Package: expat-2.1.1-2.fc25\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773512"
					},
					{
						"isprivate": "0",
						"commentid": "9424407",
						"comment_count": "4",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:44:50 +0000",
						"thetext": "Commit: http://pkgs.fedoraproject.org/gitweb/?p=expat.git;a=commitdiff;h=27e66613e8e6f712d405820667e77a4cb08f9946"
					},
					{
						"isprivate": "0",
						"commentid": "9424442",
						"comment_count": "5",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:51:33 +0000",
						"thetext": "Package: expat-2.1.1-2.fc24\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773516"
					},
					{
						"isprivate": "0",
						"commentid": "9424475",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-16 14:56:11 +0000",
						"thetext": "expat-2.1.1-2.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-7c6e7a9265"
					},
					{
						"isprivate": "0",
						"commentid": "9424491",
						"comment_count": "7",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:59:15 +0000",
						"thetext": "Package: expat-2.1.1-2.fc23\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773519"
					},
					{
						"isprivate": "0",
						"commentid": "9424514",
						"comment_count": "8",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-16 15:01:40 +0000",
						"thetext": "expat-2.1.1-2.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2016-60889583ab"
					},
					{
						"isprivate": "0",
						"commentid": "9424554",
						"comment_count": "9",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 15:10:08 +0000",
						"thetext": "Package: expat-2.1.1-2.fc22\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773523"
					},
					{
						"isprivate": "0",
						"commentid": "9424563",
						"comment_count": "10",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-16 15:11:27 +0000",
						"thetext": "expat-2.1.1-2.fc22 has been submitted as an update to Fedora 22. https://bodhi.fedoraproject.org/updates/FEDORA-2016-0fd6ca526a"
					},
					{
						"isprivate": "0",
						"commentid": "9429630",
						"comment_count": "11",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-18 05:24:18 +0000",
						"thetext": "expat-2.1.1-2.fc22 has been pushed to the Fedora 22 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-0fd6ca526a"
					},
					{
						"isprivate": "0",
						"commentid": "9429650",
						"comment_count": "12",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-18 05:25:00 +0000",
						"thetext": "expat-2.1.1-2.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-60889583ab"
					},
					{
						"isprivate": "0",
						"commentid": "9429975",
						"comment_count": "13",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-18 16:26:45 +0000",
						"thetext": "expat-2.1.1-2.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-7c6e7a9265"
					},
					{
						"isprivate": "0",
						"commentid": "9430566",
						"comment_count": "14",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-19 07:24:42 +0000",
						"thetext": "expat-2.1.1-2.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "9438034",
						"comment_count": "15",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-21 19:23:20 +0000",
						"thetext": "expat-2.1.1-2.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "9498558",
						"comment_count": "16",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-07-12 02:23:27 +0000",
						"thetext": "expat-2.1.1-2.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1343086,
			"feedback": [
				{
					"bug_id": 1343086,
					"comment": {
						"id": 447557,
						"karma": 1,
						"karma_critpath": 1,
						"text": "No regressions noted.",
						"timestamp": "2016-06-17 12:13:57",
						"update_id": 60655,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/e62cb974458dc33fcf2225462b8765e0aadcbbd698560c8f8dad6c3e23d5e47e?s=24&d=retro",
							"email": "dhgutteridge@hotmail.com",
							"groups": [
								{
									"name": "ipausers"
								}
							],
							"id": 194,
							"name": "dhgutteridge",
							"openid": "dhgutteridge.id.fedoraproject.org"
						},
						"user_id": 194
					},
					"comment_id": 447557
				}
			],
			"security": true,
			"title": "CVE-2016-5300 expat: Little entropy used for hash initialization [fedora-all]",
			"bugzilla": {
				"bug_id": "1343086",
				"creation_ts": "2016-06-06 13:15:10 +0000",
				"short_desc": "CVE-2016-5300 expat: Little entropy used for hash initialization [fedora-all]",
				"delta_ts": "2016-07-12 02:23:25 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security, SecurityTracking",
				"priority": "medium",
				"bug_severity": "medium",
				"blocked": [
					{
						"bug_id": "1343085",
						"alias": "CVE-2016-5300",
						"creation_ts": "2016-06-06 13:14:47 +0000",
						"short_desc": "CVE-2016-5300 expat: Little entropy used for hash initialization",
						"delta_ts": "2019-09-29 13:50:54 +0000",
						"bug_status": "CLOSED",
						"resolution": "WONTFIX",
						"keywords": "Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"1343086",
							"1343087",
							"1343088",
							"1343089",
							"1343090"
						],
						"blocked": [
							{
								"bug_id": "1296104",
								"error": "NotPermitted"
							},
							{
								"bug_id": "1319739",
								"error": "NotPermitted"
							}
						],
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "9390211",
								"comment_count": "0",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-06-06 13:14:47 +0000",
								"thetext": "It was found that original fix for CVE-2012-0876 used too little entropy for the hash intilization.\n\nCVE assignment:\n\nhttp://seclists.org/oss-sec/2016/q2/473"
							},
							{
								"isprivate": "0",
								"commentid": "9390223",
								"comment_count": "1",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-06-06 13:15:47 +0000",
								"thetext": "\nCreated compat-expat1 tracking bugs for this issue:\n\nAffects: fedora-all [bug 1343087]"
							},
							{
								"isprivate": "0",
								"commentid": "9390224",
								"comment_count": "2",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-06-06 13:15:57 +0000",
								"thetext": "\nCreated expat tracking bugs for this issue:\n\nAffects: fedora-all [bug 1343086]"
							},
							{
								"isprivate": "0",
								"commentid": "9390225",
								"comment_count": "3",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-06-06 13:16:05 +0000",
								"thetext": "\nCreated mingw-expat tracking bugs for this issue:\n\nAffects: fedora-all [bug 1343088]\nAffects: epel-7 [bug 1343090]"
							},
							{
								"isprivate": "0",
								"commentid": "9390226",
								"comment_count": "4",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-06-06 13:16:12 +0000",
								"thetext": "\nCreated expat21 tracking bugs for this issue:\n\nAffects: epel-all [bug 1343089]"
							},
							{
								"isprivate": "0",
								"commentid": "9390235",
								"comment_count": "5",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-06-06 13:19:01 +0000",
								"thetext": "Created attachment 1165210\nProposed upstream patch"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "9390212",
						"comment_count": "0",
						"who": {
							"text": "amaris",
							"name": "Adam Mariš"
						},
						"bug_when": "2016-06-06 13:15:10 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof Fedora.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate.\n\n[bug automatically created by: add-tracking-bugs]"
					},
					{
						"isprivate": "0",
						"commentid": "9390213",
						"comment_count": "1",
						"who": {
							"text": "amaris",
							"name": "Adam Mariš"
						},
						"bug_when": "2016-06-06 13:15:16 +0000",
						"thetext": "\nUse the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1343085,1343086\n\n# Description of your update\nnotes=Security fix for CVE-2016-5300\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi web interface to submit updates:\n\nhttps://bodhi.fedoraproject.org/updates/new"
					},
					{
						"isprivate": "0",
						"commentid": "9424353",
						"comment_count": "2",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:34:12 +0000",
						"thetext": "Commit: http://pkgs.fedoraproject.org/gitweb/?p=expat.git;a=commitdiff;h=27e66613e8e6f712d405820667e77a4cb08f9946"
					},
					{
						"isprivate": "0",
						"commentid": "9424396",
						"comment_count": "3",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:43:35 +0000",
						"thetext": "Package: expat-2.1.1-2.fc25\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773512"
					},
					{
						"isprivate": "0",
						"commentid": "9424408",
						"comment_count": "4",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:44:50 +0000",
						"thetext": "Commit: http://pkgs.fedoraproject.org/gitweb/?p=expat.git;a=commitdiff;h=27e66613e8e6f712d405820667e77a4cb08f9946"
					},
					{
						"isprivate": "0",
						"commentid": "9424443",
						"comment_count": "5",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:51:33 +0000",
						"thetext": "Package: expat-2.1.1-2.fc24\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773516"
					},
					{
						"isprivate": "0",
						"commentid": "9424474",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-16 14:56:09 +0000",
						"thetext": "expat-2.1.1-2.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-7c6e7a9265"
					},
					{
						"isprivate": "0",
						"commentid": "9424492",
						"comment_count": "7",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:59:15 +0000",
						"thetext": "Package: expat-2.1.1-2.fc23\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773519"
					},
					{
						"isprivate": "0",
						"commentid": "9424513",
						"comment_count": "8",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-16 15:01:38 +0000",
						"thetext": "expat-2.1.1-2.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2016-60889583ab"
					},
					{
						"isprivate": "0",
						"commentid": "9424555",
						"comment_count": "9",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 15:10:08 +0000",
						"thetext": "Package: expat-2.1.1-2.fc22\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773523"
					},
					{
						"isprivate": "0",
						"commentid": "9424562",
						"comment_count": "10",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-16 15:11:25 +0000",
						"thetext": "expat-2.1.1-2.fc22 has been submitted as an update to Fedora 22. https://bodhi.fedoraproject.org/updates/FEDORA-2016-0fd6ca526a"
					},
					{
						"isprivate": "0",
						"commentid": "9429628",
						"comment_count": "11",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-18 05:24:15 +0000",
						"thetext": "expat-2.1.1-2.fc22 has been pushed to the Fedora 22 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-0fd6ca526a"
					},
					{
						"isprivate": "0",
						"commentid": "9429649",
						"comment_count": "12",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-18 05:24:58 +0000",
						"thetext": "expat-2.1.1-2.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-60889583ab"
					},
					{
						"isprivate": "0",
						"commentid": "9429974",
						"comment_count": "13",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-18 16:26:43 +0000",
						"thetext": "expat-2.1.1-2.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-7c6e7a9265"
					},
					{
						"isprivate": "0",
						"commentid": "9430565",
						"comment_count": "14",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-19 07:24:40 +0000",
						"thetext": "expat-2.1.1-2.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "9438033",
						"comment_count": "15",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-21 19:23:18 +0000",
						"thetext": "expat-2.1.1-2.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "9498557",
						"comment_count": "16",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-07-12 02:23:25 +0000",
						"thetext": "expat-2.1.1-2.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		},
		{
			"bug_id": 1344252,
			"feedback": [
				{
					"bug_id": 1344252,
					"comment": {
						"id": 447557,
						"karma": 1,
						"karma_critpath": 1,
						"text": "No regressions noted.",
						"timestamp": "2016-06-17 12:13:57",
						"update_id": 60655,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/e62cb974458dc33fcf2225462b8765e0aadcbbd698560c8f8dad6c3e23d5e47e?s=24&d=retro",
							"email": "dhgutteridge@hotmail.com",
							"groups": [
								{
									"name": "ipausers"
								}
							],
							"id": 194,
							"name": "dhgutteridge",
							"openid": "dhgutteridge.id.fedoraproject.org"
						},
						"user_id": 194
					},
					"comment_id": 447557
				}
			],
			"security": true,
			"title": "CVE-2016-4472 expat: Undefined behavior and pointer overflows [fedora-all]",
			"bugzilla": {
				"bug_id": "1344252",
				"creation_ts": "2016-06-09 09:32:40 +0000",
				"short_desc": "CVE-2016-4472 expat: Undefined behavior and pointer overflows [fedora-all]",
				"delta_ts": "2016-07-12 02:23:23 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security, SecurityTracking",
				"priority": "medium",
				"bug_severity": "medium",
				"blocked": [
					{
						"bug_id": "1344251",
						"alias": "CVE-2016-4472",
						"creation_ts": "2016-06-09 09:31:33 +0000",
						"short_desc": "CVE-2016-4472 expat: Undefined behavior and pointer overflows",
						"delta_ts": "2021-02-17 03:43:37 +0000",
						"bug_status": "CLOSED",
						"resolution": "WONTFIX",
						"keywords": "Security",
						"priority": "medium",
						"bug_severity": "medium",
						"depends_on": [
							"1344252",
							"1344253",
							"1344254",
							"1344255",
							"1344256",
							"1387550",
							"1387551",
							"1387552",
							"1387553",
							"1387554",
							"1387555",
							"1387556",
							"1387557"
						],
						"blocked": [
							{
								"bug_id": "1296104",
								"error": "NotPermitted"
							},
							{
								"bug_id": "1344258",
								"error": "NotPermitted"
							}
						],
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "9400370",
								"comment_count": "0",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-06-09 09:31:33 +0000",
								"thetext": "It was found that original patch for issues CVE-2015-1283 and CVE-2015-2716 used overflow checks that could be optimized out by some compilers applying certain optimization settings, which can cause the vulnerability to remain even after applying the patch.\n\nOne pattern in the fix for CVE-2015-1283/CVE-2015-2716 is:\n\n/* bufferSize is positive here */\ndo {\nbufferSize *= 2;\n} while (bufferSize < neededSize && bufferSize > 0);\nif (bufferSize <= 0) {\nerrorCode = XML_ERROR_NO_MEMORY;\nreturn NULL;\n\nAny of the modern optimizing compiler, IF able to infer that bufferSize is initially positive (which is true but not obvious to see through local reasoning), will eliminate bufferSize > 0 as always true when the execution is defined, and bufferSize <= 0 as always false when the execution is defined.\n\n\nWithout knowing that bufferSize starts positive, an optimizing compiler could also move the test bufferSize > 0 out of the loop, that is, compile the code as if it had been written:\n\nif (bufferSize <= 0)\nerrorCode = XML_ERROR_NO_MEMORY;\nreturn NULL;\nelse {\ndo {\nbufferSize *= 2;\n} while (bufferSize < neededSize);\n}\n\nBoth cases leads to not eliminating the vulnerability.\n\nUpstream patch:\n\nhttps://sourceforge.net/p/expat/code_git/ci/f0bec73b018caa07d3e75ec8dd967f3785d71bde/tree/expat/lib/xmlparse.c?diff=a238d7ea7a715ef3850c4cbdd86aeda7077b6bbc"
							},
							{
								"isprivate": "0",
								"commentid": "9400373",
								"comment_count": "1",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-06-09 09:31:52 +0000",
								"thetext": "Acknowledgments:\n\nName: the Expat project\nUpstream: Pascal Cuoq (TrustInSoft)"
							},
							{
								"isprivate": "0",
								"commentid": "9400388",
								"comment_count": "2",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-06-09 09:33:15 +0000",
								"thetext": "\nCreated compat-expat1 tracking bugs for this issue:\n\nAffects: fedora-all [bug 1344253]"
							},
							{
								"isprivate": "0",
								"commentid": "9400393",
								"comment_count": "3",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-06-09 09:33:28 +0000",
								"thetext": "\nCreated expat tracking bugs for this issue:\n\nAffects: fedora-all [bug 1344252]"
							},
							{
								"isprivate": "0",
								"commentid": "9400394",
								"comment_count": "4",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-06-09 09:33:39 +0000",
								"thetext": "\nCreated mingw-expat tracking bugs for this issue:\n\nAffects: fedora-all [bug 1344254]\nAffects: epel-7 [bug 1344256]"
							},
							{
								"isprivate": "0",
								"commentid": "9400395",
								"comment_count": "5",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-06-09 09:33:49 +0000",
								"thetext": "\nCreated expat21 tracking bugs for this issue:\n\nAffects: epel-all [bug 1344255]"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "9400375",
						"comment_count": "0",
						"who": {
							"text": "amaris",
							"name": "Adam Mariš"
						},
						"bug_when": "2016-06-09 09:32:40 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof Fedora.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate.\n\n[bug automatically created by: add-tracking-bugs]"
					},
					{
						"isprivate": "0",
						"commentid": "9400376",
						"comment_count": "1",
						"who": {
							"text": "amaris",
							"name": "Adam Mariš"
						},
						"bug_when": "2016-06-09 09:32:45 +0000",
						"thetext": "\nUse the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1344251,1344252\n\n# Description of your update\nnotes=Security fix for CVE-2016-4472\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi web interface to submit updates:\n\nhttps://bodhi.fedoraproject.org/updates/new"
					},
					{
						"isprivate": "0",
						"commentid": "9424354",
						"comment_count": "2",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:34:12 +0000",
						"thetext": "Commit: http://pkgs.fedoraproject.org/gitweb/?p=expat.git;a=commitdiff;h=27e66613e8e6f712d405820667e77a4cb08f9946"
					},
					{
						"isprivate": "0",
						"commentid": "9424397",
						"comment_count": "3",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:43:35 +0000",
						"thetext": "Package: expat-2.1.1-2.fc25\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773512"
					},
					{
						"isprivate": "0",
						"commentid": "9424409",
						"comment_count": "4",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:44:50 +0000",
						"thetext": "Commit: http://pkgs.fedoraproject.org/gitweb/?p=expat.git;a=commitdiff;h=27e66613e8e6f712d405820667e77a4cb08f9946"
					},
					{
						"isprivate": "0",
						"commentid": "9424444",
						"comment_count": "5",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:51:33 +0000",
						"thetext": "Package: expat-2.1.1-2.fc24\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773516"
					},
					{
						"isprivate": "0",
						"commentid": "9424473",
						"comment_count": "6",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-16 14:56:06 +0000",
						"thetext": "expat-2.1.1-2.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-7c6e7a9265"
					},
					{
						"isprivate": "0",
						"commentid": "9424493",
						"comment_count": "7",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 14:59:15 +0000",
						"thetext": "Package: expat-2.1.1-2.fc23\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773519"
					},
					{
						"isprivate": "0",
						"commentid": "9424511",
						"comment_count": "8",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-16 15:01:35 +0000",
						"thetext": "expat-2.1.1-2.fc23 has been submitted as an update to Fedora 23. https://bodhi.fedoraproject.org/updates/FEDORA-2016-60889583ab"
					},
					{
						"isprivate": "0",
						"commentid": "9424556",
						"comment_count": "9",
						"who": {
							"text": "jorton",
							"name": "Joe Orton"
						},
						"bug_when": "2016-06-16 15:10:08 +0000",
						"thetext": "Package: expat-2.1.1-2.fc22\nBuild: https://koji.fedoraproject.org/koji/buildinfo?buildID=773523"
					},
					{
						"isprivate": "0",
						"commentid": "9424561",
						"comment_count": "10",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-16 15:11:22 +0000",
						"thetext": "expat-2.1.1-2.fc22 has been submitted as an update to Fedora 22. https://bodhi.fedoraproject.org/updates/FEDORA-2016-0fd6ca526a"
					},
					{
						"isprivate": "0",
						"commentid": "9429627",
						"comment_count": "11",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-18 05:24:12 +0000",
						"thetext": "expat-2.1.1-2.fc22 has been pushed to the Fedora 22 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-0fd6ca526a"
					},
					{
						"isprivate": "0",
						"commentid": "9429648",
						"comment_count": "12",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-18 05:24:56 +0000",
						"thetext": "expat-2.1.1-2.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-60889583ab"
					},
					{
						"isprivate": "0",
						"commentid": "9429973",
						"comment_count": "13",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-18 16:26:41 +0000",
						"thetext": "expat-2.1.1-2.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-7c6e7a9265"
					},
					{
						"isprivate": "0",
						"commentid": "9430564",
						"comment_count": "14",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-19 07:24:38 +0000",
						"thetext": "expat-2.1.1-2.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "9438032",
						"comment_count": "15",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-06-21 19:23:16 +0000",
						"thetext": "expat-2.1.1-2.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "9498556",
						"comment_count": "16",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-07-12 02:23:23 +0000",
						"thetext": "expat-2.1.1-2.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		}
	],
	"builds": [
		{
			"epoch": 0,
			"nvr": "expat-2.1.1-2.fc23",
			"release_id": 11,
			"signed": true,
			"type": "rpm",
			"package": {
				"armv7hl": [
					{
						"name": "expat",
						"version": "2.1.1",
						"release": "2.fc23",
						"arch": "armv7hl"
					},
					{
						"name": "expat-devel",
						"version": "2.1.1",
						"release": "2.fc23",
						"arch": "armv7hl"
					},
					{
						"name": "expat-static",
						"version": "2.1.1",
						"release": "2.fc23",
						"arch": "armv7hl"
					},
					{
						"name": "expat-debuginfo",
						"version": "2.1.1",
						"release": "2.fc23",
						"arch": "armv7hl"
					}
				],
				"i686": [
					{
						"name": "expat-debuginfo",
						"version": "2.1.1",
						"release": "2.fc23",
						"arch": "i686"
					},
					{
						"name": "expat",
						"version": "2.1.1",
						"release": "2.fc23",
						"arch": "i686"
					},
					{
						"name": "expat-devel",
						"version": "2.1.1",
						"release": "2.fc23",
						"arch": "i686"
					},
					{
						"name": "expat-static",
						"version": "2.1.1",
						"release": "2.fc23",
						"arch": "i686"
					}
				],
				"src": [
					{
						"name": "expat",
						"version": "2.1.1",
						"release": "2.fc23",
						"arch": "src"
					}
				],
				"x86_64": [
					{
						"name": "expat",
						"version": "2.1.1",
						"release": "2.fc23",
						"arch": "x86_64"
					},
					{
						"name": "expat-static",
						"version": "2.1.1",
						"release": "2.fc23",
						"arch": "x86_64"
					},
					{
						"name": "expat-debuginfo",
						"version": "2.1.1",
						"release": "2.fc23",
						"arch": "x86_64"
					},
					{
						"name": "expat-devel",
						"version": "2.1.1",
						"release": "2.fc23",
						"arch": "x86_64"
					}
				]
			}
		}
	],
	"close_bugs": true,
	"comments": [
		{
			"id": 447267,
			"text": "This update has been submitted for testing by jorton. ",
			"timestamp": "2016-06-16 15:01:31",
			"update_id": 60655,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 447271,
			"text": "jorton edited this update.",
			"timestamp": "2016-06-16 15:11:39",
			"update_id": 60655,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 447272,
			"text": "jorton edited this update.",
			"timestamp": "2016-06-16 15:11:58",
			"update_id": 60655,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"bug_feedback": [
				{
					"bug": {
						"bug_id": 1344252,
						"security": true,
						"title": "CVE-2016-4472 expat: Undefined behavior and pointer overflows [fedora-all]"
					},
					"bug_id": 1344252,
					"comment_id": 447557
				},
				{
					"bug": {
						"bug_id": 1343086,
						"security": true,
						"title": "CVE-2016-5300 expat: Little entropy used for hash initialization [fedora-all]"
					},
					"bug_id": 1343086,
					"comment_id": 447557
				},
				{
					"bug": {
						"bug_id": 1337116,
						"security": true,
						"title": "CVE-2016-0718 expat: Out-of-bounds heap read on crafted input causing crash [fedora-all]"
					},
					"bug_id": 1337116,
					"comment_id": 447557
				},
				{
					"bug": {
						"bug_id": 1319732,
						"security": true,
						"title": "CVE-2012-6702 expat: Using XML_Parse before rand() results into non-random output [fedora-all]"
					},
					"bug_id": 1319732,
					"comment_id": 447557
				},
				{
					"bug": {
						"bug_id": 1197087,
						"security": true,
						"title": "XML_Parse breaks rand() function"
					},
					"bug_id": 1197087,
					"comment_id": 447557
				}
			],
			"id": 447557,
			"karma": 1,
			"karma_critpath": 1,
			"text": "No regressions noted.",
			"timestamp": "2016-06-17 12:13:57",
			"update_id": 60655,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/e62cb974458dc33fcf2225462b8765e0aadcbbd698560c8f8dad6c3e23d5e47e?s=24&d=retro",
				"email": "dhgutteridge@hotmail.com",
				"groups": [
					{
						"name": "ipausers"
					}
				],
				"id": 194,
				"name": "dhgutteridge",
				"openid": "dhgutteridge.id.fedoraproject.org"
			},
			"user_id": 194
		},
		{
			"id": 447878,
			"text": "This update has been pushed to testing.",
			"timestamp": "2016-06-18 05:25:15",
			"update_id": 60655,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 447927,
			"karma": 1,
			"text": "works for me",
			"timestamp": "2016-06-18 11:11:24",
			"update_id": 60655,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/054959f4db5d1ad8f22cae1ba73e26ebfd3edd6690c21cc7ee00608f294ff22a?s=24&d=retro",
				"email": "cserpentis@gmail.com",
				"groups": [
					{
						"name": "packager"
					},
					{
						"name": "ipausers"
					},
					{
						"name": "fedora-contributor"
					},
					{
						"name": "signed_fpca"
					},
					{
						"name": "fedorabugs"
					},
					{
						"name": "trust admins"
					}
				],
				"id": 739,
				"name": "cserpentis",
				"openid": "cserpentis.id.fedoraproject.org"
			},
			"user_id": 739
		},
		{
			"id": 447958,
			"text": "This update has been submitted for stable by bodhi. ",
			"timestamp": "2016-06-18 14:21:18",
			"update_id": 60655,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 447959,
			"karma": 1,
			"text": "no regressions noted",
			"timestamp": "2016-06-18 14:21:18",
			"update_id": 60655,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/d826994e83ce867281f73d85986dd475938841874b75a83a82cdb184f6af8749?s=24&d=retro",
				"email": "rosset.filipe@gmail.com",
				"groups": [
					{
						"name": "proventesters"
					},
					{
						"name": "packager"
					},
					{
						"name": "provenpackager"
					},
					{
						"name": "ipausers"
					},
					{
						"name": "fedora-contributor"
					},
					{
						"name": "signed_fpca"
					},
					{
						"name": "fedorabugs"
					},
					{
						"name": "ambassadors"
					},
					{
						"name": "l10n"
					},
					{
						"name": "cvsl10n"
					},
					{
						"name": "fedora-br"
					}
				],
				"id": 124,
				"name": "filiperosset",
				"openid": "filiperosset.id.fedoraproject.org"
			},
			"user_id": 124
		},
		{
			"id": 448599,
			"text": "This update has been pushed to stable.",
			"timestamp": "2016-06-19 07:27:07",
			"update_id": 60655,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		}
	],
	"content_type": "rpm",
	"critpath": true,
	"date_modified": "2016-06-16 15:11:59",
	"date_pushed": "2016-06-19 01:30:38",
	"date_stable": "2016-06-19 01:30:38",
	"date_submitted": "2016-06-16 15:01:31",
	"date_testing": "2016-06-18 04:30:35",
	"karma": 3,
	"meets_testing_requirements": true,
	"notes": "Security fixes for CVE-2016-4472, CVE-2016-5300, CVE-2016-0718 and CVE-2012-6702.\n\n",
	"pushed": true,
	"release": {
		"branch": "f23",
		"candidate_tag": "f23-updates-candidate",
		"composed_by_bodhi": true,
		"dist_tag": "f23",
		"id_prefix": "FEDORA",
		"long_name": "Fedora 23",
		"mail_template": "fedora_errata_template",
		"name": "F23",
		"override_tag": "f23-override",
		"package_manager": "dnf",
		"pending_signing_tag": "f23-signing-pending",
		"pending_stable_tag": "f23-updates-pending",
		"pending_testing_tag": "f23-updates-testing-pending",
		"stable_tag": "f23-updates",
		"state": "archived",
		"testing_repository": "updates-testing",
		"testing_tag": "f23-updates-testing",
		"version": "23"
	},
	"require_bugs": true,
	"require_testcases": true,
	"severity": "unspecified",
	"stable_karma": 3,
	"status": "stable",
	"suggest": "unspecified",
	"title": "expat-2.1.1-2.fc23",
	"type": "security",
	"url": "https://bodhi.fedoraproject.org/updates/FEDORA-2016-60889583ab",
	"unstable_karma": -3,
	"updateid": "FEDORA-2016-60889583ab",
	"user": {
		"avatar": "https://seccdn.libravatar.org/avatar/f1ce49c60394f15608b490e8f273947afc84257f0159fb5ebe286bbbda096de3?s=24&d=retro",
		"email": "jorton@redhat.com",
		"groups": [
			{
				"name": "packager"
			},
			{
				"name": "provenpackager"
			},
			{
				"name": "ipausers"
			},
			{
				"name": "fedora-contributor"
			},
			{
				"name": "signed_fpca"
			},
			{
				"name": "fedorabugs"
			},
			{
				"name": "centosproject-email-aliases"
			},
			{
				"name": "cla_redhat"
			},
			{
				"name": "gitmod_auth_xkerb"
			},
			{
				"name": "sig-sclo"
			}
		],
		"id": 297,
		"name": "jorton",
		"openid": "jorton.id.fedoraproject.org"
	},
	"version_hash": "ab956818fc7b02ca0ee674b8daf383fa5ecc5224"
}
