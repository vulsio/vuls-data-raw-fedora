{
	"alias": "FEDORA-2016-0901301dff",
	"autokarma": true,
	"bugs": [
		{
			"bug_id": 1375198,
			"feedback": [
				{
					"bug_id": 1375198,
					"comment": {
						"id": 489468,
						"karma": 1,
						"text": "Works in several basic scenarios.",
						"timestamp": "2016-09-17 21:44:13",
						"update_id": 67848,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/16a5fa3536fe8a9d2ee5c116d12b9c097fa9cf9d98afff576e2c17b4c8c2ce95?s=24&d=retro",
							"email": "hhorak@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "centosproject-email-aliases"
								},
								{
									"name": "modularity-wg"
								},
								{
									"name": "sig-sclo"
								},
								{
									"name": "qa-beaker-user"
								},
								{
									"name": "cla_redhat"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "qa-automation-shell"
								},
								{
									"name": "sig-extras"
								},
								{
									"name": "db-sig"
								},
								{
									"name": "fedorabugs"
								}
							],
							"id": 997,
							"name": "hhorak",
							"openid": "hhorak.id.fedoraproject.org"
						},
						"user_id": 997
					},
					"comment_id": 489468
				},
				{
					"bug_id": 1375198,
					"comment": {
						"id": 490082,
						"karma": 1,
						"text": "Works fine here.",
						"timestamp": "2016-09-19 08:17:27",
						"update_id": 67848,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/fb56ed145be8a9c6464c4de3b43691a8f62270537cfe68464059fd8fc1d2e9b0?s=24&d=retro",
							"email": "terjeros@gmail.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								}
							],
							"id": 525,
							"name": "terjeros",
							"openid": "terjeros.id.fedoraproject.org"
						},
						"user_id": 525
					},
					"comment_id": 490082,
					"karma": 1
				}
			],
			"parent": true,
			"security": true,
			"title": "CVE-2016-6662 mysql: general_log can write to configuration files, leading to privilege escalation",
			"bugzilla": {
				"bug_id": "1375198",
				"alias": "CVE-2016-6662",
				"creation_ts": "2016-09-12 13:16:58 +0000",
				"short_desc": "CVE-2016-6662 mysql: general_log can write to configuration files, leading to privilege escalation (CPU Oct 2016)",
				"delta_ts": "2022-03-13 14:06:18 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security",
				"priority": "high",
				"bug_severity": "high",
				"depends_on": [
					"1375200",
					"1375201",
					"1375202",
					"1377974",
					"1379492",
					"1379493",
					"1379494",
					"1379495",
					"1379496",
					"1379497",
					"1379498",
					"1379499",
					"1384960",
					"1384961",
					"1384962",
					"1384963",
					"1386744",
					"1386745",
					"1393306",
					"1393309",
					"1393313",
					"1393314",
					"1397309",
					"1397310",
					"1429972",
					"1429973"
				],
				"blocked": [
					{
						"bug_id": "1323912",
						"error": "NotPermitted"
					},
					{
						"bug_id": "1375204",
						"error": "NotPermitted"
					},
					{
						"bug_id": "1386598",
						"error": "NotPermitted"
					}
				],
				"external_bugs": {
					"text": "RHSA-2017:0184",
					"name": "Red Hat Product Errata"
				},
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "9698938",
						"comment_count": "0",
						"who": {
							"text": "amaris",
							"name": "Adam Mariš"
						},
						"bug_when": "2016-09-12 13:16:58 +0000",
						"thetext": "A vulnerability in MySQL was found that allows:\n\n1. injecting malicious configuration into existing MySQL configuration files on systems with weak/improper permissions (configs owned by/writable by mysql user)\n\n2. creating new configuration files within a MySQL data directory (writable by MySQL by default) on _default_ MySQL installs without the need to rely on improper config permisions.\n\n3. gaining access to logging functions (normally only available to MySQL admin users) to attackers with only SELECT/FILE permissions on all of the default_ MySQL installations and thus be in position to add/modify MySQL config files.\n\nPublic via:\n\nhttp://seclists.org/oss-sec/2016/q3/481\n\nExternal References:\n\nhttps://legalhackers.com/advisories/MySQL-Exploit-Remote-Root-Code-Execution-Privesc-CVE-2016-6662.txt"
					},
					{
						"isprivate": "0",
						"commentid": "9698953",
						"comment_count": "1",
						"who": {
							"text": "amaris",
							"name": "Adam Mariš"
						},
						"bug_when": "2016-09-12 13:18:06 +0000",
						"thetext": "\nCreated mariadb tracking bugs for this issue:\n\nAffects: fedora-all [bug 1375201]"
					},
					{
						"isprivate": "0",
						"commentid": "9698956",
						"comment_count": "2",
						"who": {
							"text": "amaris",
							"name": "Adam Mariš"
						},
						"bug_when": "2016-09-12 13:18:22 +0000",
						"thetext": "\nCreated community-mysql tracking bugs for this issue:\n\nAffects: fedora-all [bug 1375200]"
					},
					{
						"isprivate": "0",
						"commentid": "9698958",
						"comment_count": "3",
						"who": {
							"text": "amaris",
							"name": "Adam Mariš"
						},
						"bug_when": "2016-09-12 13:18:34 +0000",
						"thetext": "\nCreated mariadb-galera tracking bugs for this issue:\n\nAffects: fedora-all [bug 1375202]"
					},
					{
						"isprivate": "0",
						"commentid": "9700634",
						"comment_count": "4",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2016-09-12 22:00:01 +0000",
						"thetext": "MariaDB upstream bug report:\n\nhttps://jira.mariadb.org/browse/MDEV-10465\n\nIt does not have any details on how this bug was addressed, but its id can be used to locate relevant commits in changelogs for the versions listed as correcting this issue:\n\nhttps://mariadb.com/kb/en/mariadb/mariadb-5551-changelog/\nhttps://mariadb.com/kb/en/mariadb/mariadb-10027-changelog/\nhttps://mariadb.com/kb/en/mariadb/mariadb-10117-changelog/\n\nThese link the following commits as related to MDEV-10465:\n\nhttps://github.com/MariaDB/server/commit/470f259\nhttps://github.com/MariaDB/server/commit/2a54a53\nhttps://github.com/MariaDB/server/commit/0098d78\n\nThese commits prevent general_log from writing into files with names ending with my.cnf or my.ini."
					},
					{
						"isprivate": "0",
						"commentid": "9700651",
						"comment_count": "5",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2016-09-12 22:10:51 +0000",
						"thetext": "MySQL seems to be fixed in versions 5.5.52, 5.6.33, and 5.7.15:\n\nhttps://dev.mysql.com/doc/relnotes/mysql/5.5/en/news-5-5-52.html\nhttps://dev.mysql.com/doc/relnotes/mysql/5.6/en/news-5-6-33.html\nhttps://dev.mysql.com/doc/relnotes/mysql/5.7/en/news-5-7-15.html\n\nThe following changes are described, corresponding to the linked commits:\n\n  For mysqld_safe, the argument to --malloc-lib now must be one of the\n  directories /usr/lib, /usr/lib64, /usr/lib/i386-linux-gnu, or\n  /usr/lib/x86_64-linux-gnu. In addition, the --mysqld and --mysqld-version\n  options can be used only on the command line and not in an option file.\n  (Bug #24464380)\n\nhttps://github.com/mysql/mysql-server/commit/684a165f28b3718160a3e4c5ebd18a465d85e97c\nhttps://github.com/mysql/mysql-server/commit/754e7eff2872995e2b6e62f9da7448587a411c7b\n\n  It was possible to write log files ending with .ini or .cnf that later\n  could be parsed as option files. The general query log and slow query\n  log can no longer be written to a file ending with .ini or .cnf.\n  (Bug #24388753)\n\nhttps://github.com/mysql/mysql-server/commit/48bd8b16fe382be302c6f0b45931be5aa6f29a0e\n\nThe second change is similar to MariaDB fix, but is more strict by preventing overwrite of any file ending with .cnf or .ini.\n\nMySQL 5.7.15 also includes this additional change:\n\n  mysqld_safe attempted to read my.cnf in the data directory, although\n  that is no longer a standard option file location. (Bug #24482156)\n\nhttps://github.com/mysql/mysql-server/commit/71f48ab393bce80a59e5a2e498cd1f46f6b43f9a\n\nOracle is probably not going to acknowledge these fixes with CVEs until the next CPU scheduled for mid-October."
					},
					{
						"isprivate": "0",
						"commentid": "9708899",
						"comment_count": "12",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2016-09-14 21:40:22 +0000",
						"thetext": "All MySQL and MariaDB packages in Red Hat Enterprise Linux and Red Hat Software Collections install my.cnf configuration file as root-owned and not writeable to the mysql user under which mysqld is run.  The configuration file is created in /etc and not inside the data directory.\n\nAll MySQL and MariaDB packages in at least Red Hat Enterprise Linux 6 and later, and Red Hat Software Collections allow database users with FILE privileges to create my.cnf file inside data directory that is not world-writeable, and hence is not ignored by mysqld / mysqld_safe.\n\nAll MySQL and MariaDB packages for Red Hat Enterprise Linux 7 (either directly from Red Hat Enterprise Linux 7 or from Red Hat Software Collections for Red Hat Enterprise Linux 7) run mysqld_safe with mysql user privileges and not root privileges.  Therefore, the worst impact of this issue on Red Hat Enterprise Linux 7 is escalation form database user with FILE privileges to arbitrary code execution as mysql system user.  Additionally, the init script / systemd unit for rh-mariadb101 collection for Red Hat Enterprise Linux 7 does not use mysqld_safe at all and is therefore not vulnerable to the published exploit.\n\nThe MySQL 5.1 packages in Red Hat Enterprise Linux 6 include the version of mysqld_safe that does not implement support for library preloading.  Therefore, the published remote exploit does not affect those packages.  Note that there is still a possibility of local privilege escalation - a database user with FILE privileges that also has local unprivileged shell access can escalate their privileges to root.\n\nFor certain MySQL / MariaDB packages running on Red Hat Enterprise Linux 7, the issue is further mitigated by SELinux, which prevents loading of the injected shared library.\n\nMitigating factors:\n\n- The attack can only be performed by an attacker with database access with FILE privileges.  The FILE privilege is not commonly granted to non-administrative database users, and as noted in the reporter's advisory, it allows gaining full administrative privileges (unless restricted with the secure_file_priv setting).  As noted in the advisory, SQL injection flaws in web applications may open up this issue to attackers who are not meant to have direct database access.  Ensure that the FILE privilege is not granted to any non-administrative database user.  Note that reporter claims existence of another, not yet disclosed vulnerability which makes exploitation of this issue possible without FILE privilege.  The CVE-2016-6663 was reserved for the additional vulnerability.\n\n- Published exploit depends on an already existing my.cnf that is writeable to the mysql user.  As noted above, in the default configuration of MySQL/MariaDB packages in Red Hat Enterprise Linux and Red Hat Software Collections, the configuration file is not writeable to the mysql user.  While the advisory describes how to create a new my.cnf in the data directory that is read by mysqld / mysqld_safe, the newly created file is rejected as malformed as it does not start with a valid INI file section delimiter.  The advisory does not mention any way to avoid this exploitation obstacle.\n\nThe combination of the above two factors imply that the published exploit does not work against the default configuration of MySQL and MariaDB in Red Hat products."
					},
					{
						"isprivate": "0",
						"commentid": "9710455",
						"comment_count": "13",
						"who": {
							"text": "scorneli",
							"name": "Stefan Cornelius"
						},
						"bug_when": "2016-09-15 10:12:14 +0000",
						"thetext": "Statement:\n\nAll MySQL and MariaDB packages in Red Hat Enterprise Linux and Red Hat Software Collections install the my.cnf configuration file in /etc as root-owned and not writeable to mysqld's mysql user. This default configuration stops the published exploit for this issue.\n\nAll MySQL and MariaDB packages for Red Hat Enterprise Linux 7 (either those directly included in Red Hat Enterprise Linux 7 or from Red Hat Software Collections for Red Hat Enterprise Linux 7) run mysqld_safe with mysql user privileges and not root privileges, limiting the potential impact to code execution as mysql system user.\n\nThe MySQL 5.1 packages in Red Hat Enterprise Linux 6 do not implement support for library preloading, completely preventing the remote attack vector used by the published exploit.\n\nFor additional details, refer to:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1375198#c12\n\n\nMitigation:\n\n- Ensure all MySQL / MariaDB configuration files are not writeable to the mysql user. This is the default configuration in Red Hat products.\n\n- Ensure that non-administrative database users are not granted FILE privilege. Applications accessing data in MySQL / MariaDB databases, including web application potentially vulnerable to SQL injections, should use database accounts with the lowest privileges required.\n\n- If FILE permission needs to be granted to some non-administrative database users, use secure_file_priv setting to limit where files can be written to or read from."
					},
					{
						"isprivate": "0",
						"commentid": "9713572",
						"comment_count": "14",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2016-09-16 08:10:13 +0000",
						"thetext": "(In reply to Tomas Hoger from comment #12)\n> The MySQL 5.1 packages in Red Hat Enterprise Linux 6 include the version of\n> mysqld_safe that does not implement support for library preloading. \n> Therefore, the published remote exploit does not affect those packages.\n \nThe same applies to MySQL 5.0 packages in Red Hat Enterprise Linux 5.  Additionally, MySQL 5.0 does not support general_log, which is also required by this exploit.  The support for general_log was added in version 5.1.29:\n\n  Important Change: The --log option now is deprecated and will be removed\n  (along with the log system variable) in the future. Instead, use the\n  --general_log option to enable the general query log and the\n  --general_log_file=file_name option to set the general query log file name.\n  The values of these options are available in the general_log and\n  general_log_file system variables, which can be changed at runtime.\n\n  http://downloads.mysql.com/docs/mysql-5.1-relnotes-en.pdf\n\nAs hinted by the above, --log could not be changed at runtime."
					},
					{
						"isprivate": "0",
						"commentid": "9728514",
						"comment_count": "18",
						"who": {
							"text": "gerald.prock",
							"name": "Gerald Prock"
						},
						"bug_when": "2016-09-21 05:38:56 +0000",
						"thetext": "It seams, that the bug is already abused in the wild.\n\nWe have some LAMP server with infected configuration files in the /var/lib/mysql/ folder and with the logrotate the restart fails. At the moment we have been lucky and there was no link to a *.so file but otherwise the mysql_safe would load them on start with root permissions.\n\nExample for RHEL7:\n---------------------------------------\n1) Write file to /var/lib/mysql/my.cnf als user:\n\n$ mysql\nWelcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 17828\nServer version: 5.5.47-MariaDB MariaDB Server\n\nCopyright (c) 2000, 2015, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nMariaDB [(none)]> \nMariaDB [(none)]> set global general_log_file = '/var/lib/mysql/my.cnf';\nQuery OK, 0 rows affected (0.00 sec)\n\nMariaDB [(none)]> set global general_log = on;\nQuery OK, 0 rows affected (0.02 sec)\n\nMariaDB [(none)]> select 'blablablub ... i kill the restart ... ggg';\n+-------------------------------------------+\n| blablablub ... i kill the restart ... ggg |\n+-------------------------------------------+\n| blablablub ... i kill the restart ... ggg |\n+-------------------------------------------+\n1 row in set (0.00 sec)\n\nMariaDB [(none)]> set global general_log = off;\nQuery OK, 0 rows affected (0.00 sec)\n\nMariaDB [(none)]> quit\nBye\n\n---------------------------------------\n2) Content of the created file:\n\n$ cat /var/lib/mysql/my.cnf \n/usr/libexec/mysqld, Version: 5.5.47-MariaDB (MariaDB Server). started with:\nTcp port: 3306  Unix socket: /var/lib/mysql/mysql.sock\nTime                 Id Command    Argument\n160920 16:07:21\t17828 Query\tselect 'blablablub ... i kill the restart ... ggg'\n160920 16:07:33\t17828 Query\tset global general_log = off\n\n---------------------------------------\n3) Restart of the database:\n\n# systemctl restart mariadb\nJob for mariadb.service failed because the control process exited with error code. See \"systemctl status mariadb.service\" and \"journalctl -xe\" for details.\n\n---------------------------------------\n4) Log of the start:\n\n# systemctl status mariadb.service\n● mariadb.service - MariaDB database server\n   Loaded: loaded (/usr/lib/systemd/system/mariadb.service; enabled; vendor preset: disabled)\n   Active: failed (Result: exit-code) since Tue 2016-09-20 16:08:49 CEST; 9s ago\n  Process: 12779 ExecStartPost=/usr/libexec/mariadb-wait-ready $MAINPID (code=exited, status=1/FAILURE)\n  Process: 12778 ExecStart=/usr/bin/mysqld_safe --basedir=/usr (code=exited, status=0/SUCCESS)\n  Process: 12750 ExecStartPre=/usr/libexec/mariadb-prepare-db-dir %n (code=exited, status=0/SUCCESS)\n Main PID: 12778 (code=exited, status=0/SUCCESS)\n\nSep 20 16:08:48 rhel7test.vtirol.local mysqld_safe[12778]: Fatal error in defaults handling. Program aborted\nSep 20 16:08:48 rhel7test.vtirol.local mysqld_safe[12778]: error: Found option without preceding group in config file: /var/lib/mysql/my.cnf at line: 1\nSep 20 16:08:48 rhel7test.vtirol.local mysqld_safe[12778]: Fatal error in defaults handling. Program aborted\nSep 20 16:08:48 rhel7test.vtirol.local mysqld_safe[12778]: 160920 16:08:48 mysqld_safe Logging to '/var/lib/mysql/rhel7test.vtirol.local.err'.\nSep 20 16:08:48 rhel7test.vtirol.local mysqld_safe[12778]: 160920 16:08:48 mysqld_safe Starting mysqld daemon with databases from /var/lib/mysql\nSep 20 16:08:48 rhel7test.vtirol.local mysqld_safe[12778]: 160920 16:08:48 mysqld_safe mysqld from pid file /var/lib/mysql/rhel7test.vtirol.local.pid ended\nSep 20 16:08:49 rhel7test.vtirol.local systemd[1]: mariadb.service: control process exited, code=exited status=1\nSep 20 16:08:49 rhel7test.vtirol.local systemd[1]: Failed to start MariaDB database server.\nSep 20 16:08:49 rhel7test.vtirol.local systemd[1]: Unit mariadb.service entered failed state.\nSep 20 16:08:49 rhel7test.vtirol.local systemd[1]: mariadb.service failed.\n\n---------------------------------------\n\nAs you see the mysqld_safe is reading the file /var/lib/mysql/my.cnf on startup.\nIt also works with /var/lib/mysql/.my.cnf and with a ~/.my.cnf file.\n\nAs hotfix a root owned file with 644 in all of the folders would work. But how to identify all folders the database is looking on startup? It would be nice if the rpm would contain that empty files ..."
					},
					{
						"isprivate": "0",
						"commentid": "9735563",
						"comment_count": "21",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2016-09-22 20:58:35 +0000",
						"thetext": "(In reply to Gerald Prock from comment #18)\n> It seams, that the bug is already abused in the wild.\n> \n> We have some LAMP server with infected configuration files in the\n> /var/lib/mysql/ folder and with the logrotate the restart fails. At the\n> moment we have been lucky and there was no link to a *.so file\n\nFor this attack, attacker needs to have ability to execute arbitrary SQL queries.  Have you figured out how they were able to do so, as that's likely an issue of its own?  Do you have untrusted DB users with high privileges, or vulnerable web app which also connects to DB using a privileged DB account?\n\n> but otherwise the mysql_safe would load them on start with root permissions.\n> \n> Example for RHEL7:\n\nYour example is on RHEL-7, where mysqld_safe is not run with root permissions, but as mysql OS user.  See above for details.\n\n> 1) Write file to /var/lib/mysql/my.cnf als user:\n> \n> $ mysql\n\nIt seems you're connecting as DB admin / root.  Comments above note that DB user with sufficient privileges can create new my.cnf file inside of the data directory.  That file is read by mysqld, and as it's not valid INI file, it leads to the service restart failure as you describe."
					},
					{
						"isprivate": "0",
						"commentid": "9749498",
						"comment_count": "29",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2016-09-28 09:11:22 +0000",
						"thetext": "Reporter's advisory (linked in comment 0) has been updated few times since the original publication.  The most notable changes include:\n\n* The list of affected MySQL versions was updated to note that the issue was fixed in versions 5.5.52, 5.6.33, and 5.7.15, as noted in comment 5 above.\n\n* Author now more explicitly claims that even though published exploit requires existing my.cnf file that is writeable to the mysql system user, there is a different exploit that has not been published yet, which does not require existing my.cnf with weak permissions.\n\nAdvisory explains that it is possible to create new my.cnf file in the data directory, which has to be writeable to the mysql user.  Such file does not typically exist.  When created using the general_log mechanism used by the exploit, it will not start with INI file [section] label, causing it to be rejected by MySQL as invalid and its content ignored.  It is unclear if a mechanism used to create a well-formed my.cnf using MySQL logging would be classified as a separate vulnerability.\n\nThe advisory includes the following mitigation instructions:\n\n  As temporary mitigations, users should ensure that no mysql config files\n  are owned by mysql user, and create root-owned dummy my.cnf files that\n  are not in use.\n  These are by no means a complete solution and users should apply official\n  vendor patches as soon as they become available.\n\nIt is unclear why this contradicting information is given, and if the private exploit can work if root-owned my.cnf exist in the data directory."
					},
					{
						"isprivate": "0",
						"commentid": "9749543",
						"comment_count": "30",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2016-09-28 09:33:28 +0000",
						"thetext": "Various MySQL and MariaDB packages in Red Hat Enterprise Linux and Red Hat Software Collections may different default locations for the data directory.  A subset of these files are used by each version:\n\n/var/lib/mysql/.my.cnf\n/var/lib/mysql/my.cnf\n/opt/rh/mysql55/root/var/lib/mysql/my.cnf\n/var/opt/rh/rh-mysql56/lib/mysql/my.cnf\n/opt/rh/mariadb55/root/var/lib/mysql/my.cnf\n/var/opt/rh/rh-mariadb100/lib/mysql/my.cnf\n/var/opt/rh/rh-mariadb101/lib/mysql/my.cnf\n\nCreating the above files if their parent directory exists on a system as root-owned and not writeable to the mysql user follows the mitigation advice from the reporter's advisory."
					},
					{
						"isprivate": "0",
						"commentid": "9762680",
						"comment_count": "33",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-10-03 20:20:15 +0000",
						"thetext": "mariadb-10.0.27-1.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report."
					},
					{
						"isprivate": "0",
						"commentid": "9788785",
						"comment_count": "34",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2016-10-13 14:04:17 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux OpenStack Platform 7.0 (Kilo) for RHEL 7\n\nVia RHSA-2016:2061 https://rhn.redhat.com/errata/RHSA-2016-2061.html"
					},
					{
						"isprivate": "0",
						"commentid": "9788796",
						"comment_count": "35",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2016-10-13 14:05:18 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat OpenStack Platform 9.0 (Mitaka)\n\nVia RHSA-2016:2062 https://rhn.redhat.com/errata/RHSA-2016-2062.html"
					},
					{
						"isprivate": "0",
						"commentid": "9788828",
						"comment_count": "36",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2016-10-13 14:14:03 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux OpenStack Platform 5.0 (Icehouse) for RHEL 7\n\nVia RHSA-2016:2059 https://rhn.redhat.com/errata/RHSA-2016-2059.html"
					},
					{
						"isprivate": "0",
						"commentid": "9788925",
						"comment_count": "37",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2016-10-13 14:34:10 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux OpenStack Platform 6.0 (Juno) for RHEL 7\n\nVia RHSA-2016:2060 https://rhn.redhat.com/errata/RHSA-2016-2060.html"
					},
					{
						"isprivate": "0",
						"commentid": "9789728",
						"comment_count": "38",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2016-10-13 19:35:41 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux OpenStack Platform 5.0 (Icehouse) for RHEL 6\n\nVia RHSA-2016:2058 https://rhn.redhat.com/errata/RHSA-2016-2058.html"
					},
					{
						"isprivate": "0",
						"commentid": "9791756",
						"comment_count": "39",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2016-10-14 12:13:34 +0000",
						"thetext": "Additional related changes appeared in MySQL versions 5.5.53, 5.6.34, and 5.7.16.  Those versions change change the default for secure_file_priv, the setting which controls where database user with FILE privileges can write files.  Depending on the build, it's either NULL (preventing use of FILE privilege), or an empty dedicated directory that is created by Oracle distributed binary packages.  Additionally, mysqld now tries to detect insecure secure_file_priv setting at startup and refuse to start if it's insecure.  The following settings are considered insecure:\n\n- empty secure_file_priv, allowing read/write to any directory\n- secure_file_priv pointing to data directory or its subdirectory\n- secure_file_priv pointing to directory accessible to all users\n\nhttp://dev.mysql.com/doc/relnotes/mysql/5.5/en/news-5-5-53.html\nhttp://dev.mysql.com/doc/relnotes/mysql/5.6/en/news-5-6-34.html\nhttp://dev.mysql.com/doc/relnotes/mysql/5.7/en/news-5-7-16.html\n\nThis commit adds these changes:\n\nhttps://github.com/mysql/mysql-server/commit/7cb79a65ba6286ac66d5ebbebea3243ef97f5c41"
					},
					{
						"isprivate": "0",
						"commentid": "9802452",
						"comment_count": "42",
						"who": {
							"text": "thoger",
							"name": "Tomas Hoger"
						},
						"bug_when": "2016-10-18 21:22:27 +0000",
						"thetext": "This CVE is not mentioned in the Oracle CPU Oct 2016:\n\nhttp://www.oracle.com/technetwork/security-advisory/cpuoct2016-2881722.html#AppendixMSQL\n\nNote that the CPU lists version 5.5.52, 5.6.33, and 5.7.15 as affected by this issue despite fixes that were applied in those versions - see comment 5.  Apparently, changes applied in versions 5.5.53, 5.6.34, and 5.7.16 - see comment 39 - got all listed under the original CVE."
					},
					{
						"isprivate": "0",
						"commentid": "9802617",
						"comment_count": "43",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2016-10-18 23:06:03 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat OpenStack Platform 8.0 (Liberty)\n\nVia RHSA-2016:2077 https://rhn.redhat.com/errata/RHSA-2016-2077.html"
					},
					{
						"isprivate": "0",
						"commentid": "9835187",
						"comment_count": "46",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2016-10-31 19:53:18 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Software Collections for Red Hat Enterprise Linux 6\n  Red Hat Software Collections for Red Hat Enterprise Linux 6.6 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 6.7 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.1 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.2 EUS\n\nVia RHSA-2016:2130 https://rhn.redhat.com/errata/RHSA-2016-2130.html"
					},
					{
						"isprivate": "0",
						"commentid": "9835400",
						"comment_count": "47",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2016-10-31 22:23:41 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Software Collections for Red Hat Enterprise Linux 6\n  Red Hat Software Collections for Red Hat Enterprise Linux 6.6 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 6.7 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.1 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.2 EUS\n\nVia RHSA-2016:2131 https://rhn.redhat.com/errata/RHSA-2016-2131.html"
					},
					{
						"isprivate": "0",
						"commentid": "9855413",
						"comment_count": "48",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2016-11-03 20:50:47 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 7\n\nVia RHSA-2016:2595 https://rhn.redhat.com/errata/RHSA-2016-2595.html"
					},
					{
						"isprivate": "0",
						"commentid": "9892091",
						"comment_count": "52",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2016-11-15 11:30:28 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Software Collections for Red Hat Enterprise Linux 6\n  Red Hat Software Collections for Red Hat Enterprise Linux 6.7 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.1 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.2 EUS\n\nVia RHSA-2016:2749 https://rhn.redhat.com/errata/RHSA-2016-2749.html"
					},
					{
						"isprivate": "0",
						"commentid": "9909203",
						"comment_count": "53",
						"who": {
							"text": "vigneshb4u",
							"name": "Vignesh"
						},
						"bug_when": "2016-11-21 16:59:49 +0000",
						"thetext": "(In reply to Stefan Cornelius from comment #13)\n> Statement:\n> \n> All MySQL and MariaDB packages in Red Hat Enterprise Linux and Red Hat\n> Software Collections install the my.cnf configuration file in /etc as\n> root-owned and not writeable to mysqld's mysql user. This default\n> configuration stops the published exploit for this issue.\n> \n> All MySQL and MariaDB packages for Red Hat Enterprise Linux 7 (either those\n> directly included in Red Hat Enterprise Linux 7 or from Red Hat Software\n> Collections for Red Hat Enterprise Linux 7) run mysqld_safe with mysql user\n> privileges and not root privileges, limiting the potential impact to code\n> execution as mysql system user.\n> \n> The MySQL 5.1 packages in Red Hat Enterprise Linux 6 do not implement\n> support for library preloading, completely preventing the remote attack\n> vector used by the published exploit.\n> \n> For additional details, refer to:\n> \n> https://bugzilla.redhat.com/show_bug.cgi?id=1375198#c12\n> \n> \n> Mitigation:\n> \n\nConfused if these mitigations are also applicable for MySQL versions >= 5.5.53, 5.6.34, and 5.7.16 too which have the MySQL fix (per https://bugzilla.redhat.com/show_bug.cgi?id=1375198#c5).\n\n> - Ensure all MySQL / MariaDB configuration files are not writeable to the\n> mysql user. This is the default configuration in Red Hat products.\n> \nBased on new fix, Even if they are writeable by mysql user (per file permissions), general query log and slow query log can no longer be written to a file ending with .ini or .cnf\n\n> - Ensure that non-administrative database users are not granted FILE\n> privilege. Applications accessing data in MySQL / MariaDB databases,\n> including web application potentially vulnerable to SQL injections, should\n> use database accounts with the lowest privileges required.\n> \nBased on new fix, Even if non-admin database users are granted FILE privilege, they won't be able to write into .ini or .cnf files.\n\n> - If FILE permission needs to be granted to some non-administrative database\n> users, use secure_file_priv setting to limit where files can be written to\n> or read from.\n\nAs I understand, the fix MySQL versions 5.5.53, 5.6.34, and 5.7.16, mitigates this issue completely and there is no need for any additional mitigations. Am I missing something?"
					},
					{
						"isprivate": "0",
						"commentid": "9968746",
						"comment_count": "56",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2016-12-08 16:06:20 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Software Collections for Red Hat Enterprise Linux 6.7 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.3 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 6\n  Red Hat Software Collections for Red Hat Enterprise Linux 7\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.2 EUS\n\nVia RHSA-2016:2928 https://rhn.redhat.com/errata/RHSA-2016-2928.html"
					},
					{
						"isprivate": "0",
						"commentid": "9968788",
						"comment_count": "57",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2016-12-08 16:12:26 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Software Collections for Red Hat Enterprise Linux 6\n  Red Hat Software Collections for Red Hat Enterprise Linux 6.7 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.2 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.3 EUS\n\nVia RHSA-2016:2927 https://rhn.redhat.com/errata/RHSA-2016-2927.html"
					},
					{
						"isprivate": "0",
						"commentid": "10091584",
						"comment_count": "58",
						"who": {
							"text": "errata-xmlrpc",
							"name": "errata-xmlrpc"
						},
						"bug_when": "2017-01-24 11:45:52 +0000",
						"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 6\n\nVia RHSA-2017:0184 https://rhn.redhat.com/errata/RHSA-2017-0184.html"
					}
				]
			}
		},
		{
			"bug_id": 1375200,
			"feedback": [
				{
					"bug_id": 1375200,
					"comment": {
						"id": 489468,
						"karma": 1,
						"text": "Works in several basic scenarios.",
						"timestamp": "2016-09-17 21:44:13",
						"update_id": 67848,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/16a5fa3536fe8a9d2ee5c116d12b9c097fa9cf9d98afff576e2c17b4c8c2ce95?s=24&d=retro",
							"email": "hhorak@redhat.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "centosproject-email-aliases"
								},
								{
									"name": "modularity-wg"
								},
								{
									"name": "sig-sclo"
								},
								{
									"name": "qa-beaker-user"
								},
								{
									"name": "cla_redhat"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "qa-automation-shell"
								},
								{
									"name": "sig-extras"
								},
								{
									"name": "db-sig"
								},
								{
									"name": "fedorabugs"
								}
							],
							"id": 997,
							"name": "hhorak",
							"openid": "hhorak.id.fedoraproject.org"
						},
						"user_id": 997
					},
					"comment_id": 489468
				},
				{
					"bug_id": 1375200,
					"comment": {
						"id": 490082,
						"karma": 1,
						"text": "Works fine here.",
						"timestamp": "2016-09-19 08:17:27",
						"update_id": 67848,
						"user": {
							"avatar": "https://seccdn.libravatar.org/avatar/fb56ed145be8a9c6464c4de3b43691a8f62270537cfe68464059fd8fc1d2e9b0?s=24&d=retro",
							"email": "terjeros@gmail.com",
							"groups": [
								{
									"name": "packager"
								},
								{
									"name": "ipausers"
								},
								{
									"name": "fedora-contributor"
								},
								{
									"name": "signed_fpca"
								},
								{
									"name": "fedorabugs"
								}
							],
							"id": 525,
							"name": "terjeros",
							"openid": "terjeros.id.fedoraproject.org"
						},
						"user_id": 525
					},
					"comment_id": 490082,
					"karma": 1
				}
			],
			"security": true,
			"title": "CVE-2016-6662 community-mysql: mysql: Privilege escalation by abusing MySQL logging functions [fedora-all]",
			"bugzilla": {
				"bug_id": "1375200",
				"creation_ts": "2016-09-12 13:17:28 +0000",
				"short_desc": "CVE-2016-6662 community-mysql: mysql: Privilege escalation by abusing MySQL logging functions [fedora-all]",
				"delta_ts": "2016-09-27 03:52:21 +0000",
				"bug_status": "CLOSED",
				"resolution": "ERRATA",
				"keywords": "Security, SecurityTracking",
				"priority": "high",
				"bug_severity": "high",
				"blocked": [
					{
						"bug_id": "1375198",
						"alias": "CVE-2016-6662",
						"creation_ts": "2016-09-12 13:16:58 +0000",
						"short_desc": "CVE-2016-6662 mysql: general_log can write to configuration files, leading to privilege escalation (CPU Oct 2016)",
						"delta_ts": "2022-03-13 14:06:18 +0000",
						"bug_status": "CLOSED",
						"resolution": "ERRATA",
						"keywords": "Security",
						"priority": "high",
						"bug_severity": "high",
						"depends_on": [
							"1375200",
							"1375201",
							"1375202",
							"1377974",
							"1379492",
							"1379493",
							"1379494",
							"1379495",
							"1379496",
							"1379497",
							"1379498",
							"1379499",
							"1384960",
							"1384961",
							"1384962",
							"1384963",
							"1386744",
							"1386745",
							"1393306",
							"1393309",
							"1393313",
							"1393314",
							"1397309",
							"1397310",
							"1429972",
							"1429973"
						],
						"blocked": [
							{
								"bug_id": "1323912",
								"error": "NotPermitted"
							},
							{
								"bug_id": "1375204",
								"error": "NotPermitted"
							},
							{
								"bug_id": "1386598",
								"error": "NotPermitted"
							}
						],
						"external_bugs": {
							"text": "RHSA-2017:0184",
							"name": "Red Hat Product Errata"
						},
						"long_desc": [
							{
								"isprivate": "0",
								"commentid": "9698938",
								"comment_count": "0",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-09-12 13:16:58 +0000",
								"thetext": "A vulnerability in MySQL was found that allows:\n\n1. injecting malicious configuration into existing MySQL configuration files on systems with weak/improper permissions (configs owned by/writable by mysql user)\n\n2. creating new configuration files within a MySQL data directory (writable by MySQL by default) on _default_ MySQL installs without the need to rely on improper config permisions.\n\n3. gaining access to logging functions (normally only available to MySQL admin users) to attackers with only SELECT/FILE permissions on all of the default_ MySQL installations and thus be in position to add/modify MySQL config files.\n\nPublic via:\n\nhttp://seclists.org/oss-sec/2016/q3/481\n\nExternal References:\n\nhttps://legalhackers.com/advisories/MySQL-Exploit-Remote-Root-Code-Execution-Privesc-CVE-2016-6662.txt"
							},
							{
								"isprivate": "0",
								"commentid": "9698953",
								"comment_count": "1",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-09-12 13:18:06 +0000",
								"thetext": "\nCreated mariadb tracking bugs for this issue:\n\nAffects: fedora-all [bug 1375201]"
							},
							{
								"isprivate": "0",
								"commentid": "9698956",
								"comment_count": "2",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-09-12 13:18:22 +0000",
								"thetext": "\nCreated community-mysql tracking bugs for this issue:\n\nAffects: fedora-all [bug 1375200]"
							},
							{
								"isprivate": "0",
								"commentid": "9698958",
								"comment_count": "3",
								"who": {
									"text": "amaris",
									"name": "Adam Mariš"
								},
								"bug_when": "2016-09-12 13:18:34 +0000",
								"thetext": "\nCreated mariadb-galera tracking bugs for this issue:\n\nAffects: fedora-all [bug 1375202]"
							},
							{
								"isprivate": "0",
								"commentid": "9700634",
								"comment_count": "4",
								"who": {
									"text": "thoger",
									"name": "Tomas Hoger"
								},
								"bug_when": "2016-09-12 22:00:01 +0000",
								"thetext": "MariaDB upstream bug report:\n\nhttps://jira.mariadb.org/browse/MDEV-10465\n\nIt does not have any details on how this bug was addressed, but its id can be used to locate relevant commits in changelogs for the versions listed as correcting this issue:\n\nhttps://mariadb.com/kb/en/mariadb/mariadb-5551-changelog/\nhttps://mariadb.com/kb/en/mariadb/mariadb-10027-changelog/\nhttps://mariadb.com/kb/en/mariadb/mariadb-10117-changelog/\n\nThese link the following commits as related to MDEV-10465:\n\nhttps://github.com/MariaDB/server/commit/470f259\nhttps://github.com/MariaDB/server/commit/2a54a53\nhttps://github.com/MariaDB/server/commit/0098d78\n\nThese commits prevent general_log from writing into files with names ending with my.cnf or my.ini."
							},
							{
								"isprivate": "0",
								"commentid": "9700651",
								"comment_count": "5",
								"who": {
									"text": "thoger",
									"name": "Tomas Hoger"
								},
								"bug_when": "2016-09-12 22:10:51 +0000",
								"thetext": "MySQL seems to be fixed in versions 5.5.52, 5.6.33, and 5.7.15:\n\nhttps://dev.mysql.com/doc/relnotes/mysql/5.5/en/news-5-5-52.html\nhttps://dev.mysql.com/doc/relnotes/mysql/5.6/en/news-5-6-33.html\nhttps://dev.mysql.com/doc/relnotes/mysql/5.7/en/news-5-7-15.html\n\nThe following changes are described, corresponding to the linked commits:\n\n  For mysqld_safe, the argument to --malloc-lib now must be one of the\n  directories /usr/lib, /usr/lib64, /usr/lib/i386-linux-gnu, or\n  /usr/lib/x86_64-linux-gnu. In addition, the --mysqld and --mysqld-version\n  options can be used only on the command line and not in an option file.\n  (Bug #24464380)\n\nhttps://github.com/mysql/mysql-server/commit/684a165f28b3718160a3e4c5ebd18a465d85e97c\nhttps://github.com/mysql/mysql-server/commit/754e7eff2872995e2b6e62f9da7448587a411c7b\n\n  It was possible to write log files ending with .ini or .cnf that later\n  could be parsed as option files. The general query log and slow query\n  log can no longer be written to a file ending with .ini or .cnf.\n  (Bug #24388753)\n\nhttps://github.com/mysql/mysql-server/commit/48bd8b16fe382be302c6f0b45931be5aa6f29a0e\n\nThe second change is similar to MariaDB fix, but is more strict by preventing overwrite of any file ending with .cnf or .ini.\n\nMySQL 5.7.15 also includes this additional change:\n\n  mysqld_safe attempted to read my.cnf in the data directory, although\n  that is no longer a standard option file location. (Bug #24482156)\n\nhttps://github.com/mysql/mysql-server/commit/71f48ab393bce80a59e5a2e498cd1f46f6b43f9a\n\nOracle is probably not going to acknowledge these fixes with CVEs until the next CPU scheduled for mid-October."
							},
							{
								"isprivate": "0",
								"commentid": "9708899",
								"comment_count": "12",
								"who": {
									"text": "thoger",
									"name": "Tomas Hoger"
								},
								"bug_when": "2016-09-14 21:40:22 +0000",
								"thetext": "All MySQL and MariaDB packages in Red Hat Enterprise Linux and Red Hat Software Collections install my.cnf configuration file as root-owned and not writeable to the mysql user under which mysqld is run.  The configuration file is created in /etc and not inside the data directory.\n\nAll MySQL and MariaDB packages in at least Red Hat Enterprise Linux 6 and later, and Red Hat Software Collections allow database users with FILE privileges to create my.cnf file inside data directory that is not world-writeable, and hence is not ignored by mysqld / mysqld_safe.\n\nAll MySQL and MariaDB packages for Red Hat Enterprise Linux 7 (either directly from Red Hat Enterprise Linux 7 or from Red Hat Software Collections for Red Hat Enterprise Linux 7) run mysqld_safe with mysql user privileges and not root privileges.  Therefore, the worst impact of this issue on Red Hat Enterprise Linux 7 is escalation form database user with FILE privileges to arbitrary code execution as mysql system user.  Additionally, the init script / systemd unit for rh-mariadb101 collection for Red Hat Enterprise Linux 7 does not use mysqld_safe at all and is therefore not vulnerable to the published exploit.\n\nThe MySQL 5.1 packages in Red Hat Enterprise Linux 6 include the version of mysqld_safe that does not implement support for library preloading.  Therefore, the published remote exploit does not affect those packages.  Note that there is still a possibility of local privilege escalation - a database user with FILE privileges that also has local unprivileged shell access can escalate their privileges to root.\n\nFor certain MySQL / MariaDB packages running on Red Hat Enterprise Linux 7, the issue is further mitigated by SELinux, which prevents loading of the injected shared library.\n\nMitigating factors:\n\n- The attack can only be performed by an attacker with database access with FILE privileges.  The FILE privilege is not commonly granted to non-administrative database users, and as noted in the reporter's advisory, it allows gaining full administrative privileges (unless restricted with the secure_file_priv setting).  As noted in the advisory, SQL injection flaws in web applications may open up this issue to attackers who are not meant to have direct database access.  Ensure that the FILE privilege is not granted to any non-administrative database user.  Note that reporter claims existence of another, not yet disclosed vulnerability which makes exploitation of this issue possible without FILE privilege.  The CVE-2016-6663 was reserved for the additional vulnerability.\n\n- Published exploit depends on an already existing my.cnf that is writeable to the mysql user.  As noted above, in the default configuration of MySQL/MariaDB packages in Red Hat Enterprise Linux and Red Hat Software Collections, the configuration file is not writeable to the mysql user.  While the advisory describes how to create a new my.cnf in the data directory that is read by mysqld / mysqld_safe, the newly created file is rejected as malformed as it does not start with a valid INI file section delimiter.  The advisory does not mention any way to avoid this exploitation obstacle.\n\nThe combination of the above two factors imply that the published exploit does not work against the default configuration of MySQL and MariaDB in Red Hat products."
							},
							{
								"isprivate": "0",
								"commentid": "9710455",
								"comment_count": "13",
								"who": {
									"text": "scorneli",
									"name": "Stefan Cornelius"
								},
								"bug_when": "2016-09-15 10:12:14 +0000",
								"thetext": "Statement:\n\nAll MySQL and MariaDB packages in Red Hat Enterprise Linux and Red Hat Software Collections install the my.cnf configuration file in /etc as root-owned and not writeable to mysqld's mysql user. This default configuration stops the published exploit for this issue.\n\nAll MySQL and MariaDB packages for Red Hat Enterprise Linux 7 (either those directly included in Red Hat Enterprise Linux 7 or from Red Hat Software Collections for Red Hat Enterprise Linux 7) run mysqld_safe with mysql user privileges and not root privileges, limiting the potential impact to code execution as mysql system user.\n\nThe MySQL 5.1 packages in Red Hat Enterprise Linux 6 do not implement support for library preloading, completely preventing the remote attack vector used by the published exploit.\n\nFor additional details, refer to:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1375198#c12\n\n\nMitigation:\n\n- Ensure all MySQL / MariaDB configuration files are not writeable to the mysql user. This is the default configuration in Red Hat products.\n\n- Ensure that non-administrative database users are not granted FILE privilege. Applications accessing data in MySQL / MariaDB databases, including web application potentially vulnerable to SQL injections, should use database accounts with the lowest privileges required.\n\n- If FILE permission needs to be granted to some non-administrative database users, use secure_file_priv setting to limit where files can be written to or read from."
							},
							{
								"isprivate": "0",
								"commentid": "9713572",
								"comment_count": "14",
								"who": {
									"text": "thoger",
									"name": "Tomas Hoger"
								},
								"bug_when": "2016-09-16 08:10:13 +0000",
								"thetext": "(In reply to Tomas Hoger from comment #12)\n> The MySQL 5.1 packages in Red Hat Enterprise Linux 6 include the version of\n> mysqld_safe that does not implement support for library preloading. \n> Therefore, the published remote exploit does not affect those packages.\n \nThe same applies to MySQL 5.0 packages in Red Hat Enterprise Linux 5.  Additionally, MySQL 5.0 does not support general_log, which is also required by this exploit.  The support for general_log was added in version 5.1.29:\n\n  Important Change: The --log option now is deprecated and will be removed\n  (along with the log system variable) in the future. Instead, use the\n  --general_log option to enable the general query log and the\n  --general_log_file=file_name option to set the general query log file name.\n  The values of these options are available in the general_log and\n  general_log_file system variables, which can be changed at runtime.\n\n  http://downloads.mysql.com/docs/mysql-5.1-relnotes-en.pdf\n\nAs hinted by the above, --log could not be changed at runtime."
							},
							{
								"isprivate": "0",
								"commentid": "9728514",
								"comment_count": "18",
								"who": {
									"text": "gerald.prock",
									"name": "Gerald Prock"
								},
								"bug_when": "2016-09-21 05:38:56 +0000",
								"thetext": "It seams, that the bug is already abused in the wild.\n\nWe have some LAMP server with infected configuration files in the /var/lib/mysql/ folder and with the logrotate the restart fails. At the moment we have been lucky and there was no link to a *.so file but otherwise the mysql_safe would load them on start with root permissions.\n\nExample for RHEL7:\n---------------------------------------\n1) Write file to /var/lib/mysql/my.cnf als user:\n\n$ mysql\nWelcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 17828\nServer version: 5.5.47-MariaDB MariaDB Server\n\nCopyright (c) 2000, 2015, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nMariaDB [(none)]> \nMariaDB [(none)]> set global general_log_file = '/var/lib/mysql/my.cnf';\nQuery OK, 0 rows affected (0.00 sec)\n\nMariaDB [(none)]> set global general_log = on;\nQuery OK, 0 rows affected (0.02 sec)\n\nMariaDB [(none)]> select 'blablablub ... i kill the restart ... ggg';\n+-------------------------------------------+\n| blablablub ... i kill the restart ... ggg |\n+-------------------------------------------+\n| blablablub ... i kill the restart ... ggg |\n+-------------------------------------------+\n1 row in set (0.00 sec)\n\nMariaDB [(none)]> set global general_log = off;\nQuery OK, 0 rows affected (0.00 sec)\n\nMariaDB [(none)]> quit\nBye\n\n---------------------------------------\n2) Content of the created file:\n\n$ cat /var/lib/mysql/my.cnf \n/usr/libexec/mysqld, Version: 5.5.47-MariaDB (MariaDB Server). started with:\nTcp port: 3306  Unix socket: /var/lib/mysql/mysql.sock\nTime                 Id Command    Argument\n160920 16:07:21\t17828 Query\tselect 'blablablub ... i kill the restart ... ggg'\n160920 16:07:33\t17828 Query\tset global general_log = off\n\n---------------------------------------\n3) Restart of the database:\n\n# systemctl restart mariadb\nJob for mariadb.service failed because the control process exited with error code. See \"systemctl status mariadb.service\" and \"journalctl -xe\" for details.\n\n---------------------------------------\n4) Log of the start:\n\n# systemctl status mariadb.service\n● mariadb.service - MariaDB database server\n   Loaded: loaded (/usr/lib/systemd/system/mariadb.service; enabled; vendor preset: disabled)\n   Active: failed (Result: exit-code) since Tue 2016-09-20 16:08:49 CEST; 9s ago\n  Process: 12779 ExecStartPost=/usr/libexec/mariadb-wait-ready $MAINPID (code=exited, status=1/FAILURE)\n  Process: 12778 ExecStart=/usr/bin/mysqld_safe --basedir=/usr (code=exited, status=0/SUCCESS)\n  Process: 12750 ExecStartPre=/usr/libexec/mariadb-prepare-db-dir %n (code=exited, status=0/SUCCESS)\n Main PID: 12778 (code=exited, status=0/SUCCESS)\n\nSep 20 16:08:48 rhel7test.vtirol.local mysqld_safe[12778]: Fatal error in defaults handling. Program aborted\nSep 20 16:08:48 rhel7test.vtirol.local mysqld_safe[12778]: error: Found option without preceding group in config file: /var/lib/mysql/my.cnf at line: 1\nSep 20 16:08:48 rhel7test.vtirol.local mysqld_safe[12778]: Fatal error in defaults handling. Program aborted\nSep 20 16:08:48 rhel7test.vtirol.local mysqld_safe[12778]: 160920 16:08:48 mysqld_safe Logging to '/var/lib/mysql/rhel7test.vtirol.local.err'.\nSep 20 16:08:48 rhel7test.vtirol.local mysqld_safe[12778]: 160920 16:08:48 mysqld_safe Starting mysqld daemon with databases from /var/lib/mysql\nSep 20 16:08:48 rhel7test.vtirol.local mysqld_safe[12778]: 160920 16:08:48 mysqld_safe mysqld from pid file /var/lib/mysql/rhel7test.vtirol.local.pid ended\nSep 20 16:08:49 rhel7test.vtirol.local systemd[1]: mariadb.service: control process exited, code=exited status=1\nSep 20 16:08:49 rhel7test.vtirol.local systemd[1]: Failed to start MariaDB database server.\nSep 20 16:08:49 rhel7test.vtirol.local systemd[1]: Unit mariadb.service entered failed state.\nSep 20 16:08:49 rhel7test.vtirol.local systemd[1]: mariadb.service failed.\n\n---------------------------------------\n\nAs you see the mysqld_safe is reading the file /var/lib/mysql/my.cnf on startup.\nIt also works with /var/lib/mysql/.my.cnf and with a ~/.my.cnf file.\n\nAs hotfix a root owned file with 644 in all of the folders would work. But how to identify all folders the database is looking on startup? It would be nice if the rpm would contain that empty files ..."
							},
							{
								"isprivate": "0",
								"commentid": "9735563",
								"comment_count": "21",
								"who": {
									"text": "thoger",
									"name": "Tomas Hoger"
								},
								"bug_when": "2016-09-22 20:58:35 +0000",
								"thetext": "(In reply to Gerald Prock from comment #18)\n> It seams, that the bug is already abused in the wild.\n> \n> We have some LAMP server with infected configuration files in the\n> /var/lib/mysql/ folder and with the logrotate the restart fails. At the\n> moment we have been lucky and there was no link to a *.so file\n\nFor this attack, attacker needs to have ability to execute arbitrary SQL queries.  Have you figured out how they were able to do so, as that's likely an issue of its own?  Do you have untrusted DB users with high privileges, or vulnerable web app which also connects to DB using a privileged DB account?\n\n> but otherwise the mysql_safe would load them on start with root permissions.\n> \n> Example for RHEL7:\n\nYour example is on RHEL-7, where mysqld_safe is not run with root permissions, but as mysql OS user.  See above for details.\n\n> 1) Write file to /var/lib/mysql/my.cnf als user:\n> \n> $ mysql\n\nIt seems you're connecting as DB admin / root.  Comments above note that DB user with sufficient privileges can create new my.cnf file inside of the data directory.  That file is read by mysqld, and as it's not valid INI file, it leads to the service restart failure as you describe."
							},
							{
								"isprivate": "0",
								"commentid": "9749498",
								"comment_count": "29",
								"who": {
									"text": "thoger",
									"name": "Tomas Hoger"
								},
								"bug_when": "2016-09-28 09:11:22 +0000",
								"thetext": "Reporter's advisory (linked in comment 0) has been updated few times since the original publication.  The most notable changes include:\n\n* The list of affected MySQL versions was updated to note that the issue was fixed in versions 5.5.52, 5.6.33, and 5.7.15, as noted in comment 5 above.\n\n* Author now more explicitly claims that even though published exploit requires existing my.cnf file that is writeable to the mysql system user, there is a different exploit that has not been published yet, which does not require existing my.cnf with weak permissions.\n\nAdvisory explains that it is possible to create new my.cnf file in the data directory, which has to be writeable to the mysql user.  Such file does not typically exist.  When created using the general_log mechanism used by the exploit, it will not start with INI file [section] label, causing it to be rejected by MySQL as invalid and its content ignored.  It is unclear if a mechanism used to create a well-formed my.cnf using MySQL logging would be classified as a separate vulnerability.\n\nThe advisory includes the following mitigation instructions:\n\n  As temporary mitigations, users should ensure that no mysql config files\n  are owned by mysql user, and create root-owned dummy my.cnf files that\n  are not in use.\n  These are by no means a complete solution and users should apply official\n  vendor patches as soon as they become available.\n\nIt is unclear why this contradicting information is given, and if the private exploit can work if root-owned my.cnf exist in the data directory."
							},
							{
								"isprivate": "0",
								"commentid": "9749543",
								"comment_count": "30",
								"who": {
									"text": "thoger",
									"name": "Tomas Hoger"
								},
								"bug_when": "2016-09-28 09:33:28 +0000",
								"thetext": "Various MySQL and MariaDB packages in Red Hat Enterprise Linux and Red Hat Software Collections may different default locations for the data directory.  A subset of these files are used by each version:\n\n/var/lib/mysql/.my.cnf\n/var/lib/mysql/my.cnf\n/opt/rh/mysql55/root/var/lib/mysql/my.cnf\n/var/opt/rh/rh-mysql56/lib/mysql/my.cnf\n/opt/rh/mariadb55/root/var/lib/mysql/my.cnf\n/var/opt/rh/rh-mariadb100/lib/mysql/my.cnf\n/var/opt/rh/rh-mariadb101/lib/mysql/my.cnf\n\nCreating the above files if their parent directory exists on a system as root-owned and not writeable to the mysql user follows the mitigation advice from the reporter's advisory."
							},
							{
								"isprivate": "0",
								"commentid": "9762680",
								"comment_count": "33",
								"who": {
									"text": "updates",
									"name": "Fedora Update System"
								},
								"bug_when": "2016-10-03 20:20:15 +0000",
								"thetext": "mariadb-10.0.27-1.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report."
							},
							{
								"isprivate": "0",
								"commentid": "9788785",
								"comment_count": "34",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2016-10-13 14:04:17 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux OpenStack Platform 7.0 (Kilo) for RHEL 7\n\nVia RHSA-2016:2061 https://rhn.redhat.com/errata/RHSA-2016-2061.html"
							},
							{
								"isprivate": "0",
								"commentid": "9788796",
								"comment_count": "35",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2016-10-13 14:05:18 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat OpenStack Platform 9.0 (Mitaka)\n\nVia RHSA-2016:2062 https://rhn.redhat.com/errata/RHSA-2016-2062.html"
							},
							{
								"isprivate": "0",
								"commentid": "9788828",
								"comment_count": "36",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2016-10-13 14:14:03 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux OpenStack Platform 5.0 (Icehouse) for RHEL 7\n\nVia RHSA-2016:2059 https://rhn.redhat.com/errata/RHSA-2016-2059.html"
							},
							{
								"isprivate": "0",
								"commentid": "9788925",
								"comment_count": "37",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2016-10-13 14:34:10 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux OpenStack Platform 6.0 (Juno) for RHEL 7\n\nVia RHSA-2016:2060 https://rhn.redhat.com/errata/RHSA-2016-2060.html"
							},
							{
								"isprivate": "0",
								"commentid": "9789728",
								"comment_count": "38",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2016-10-13 19:35:41 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux OpenStack Platform 5.0 (Icehouse) for RHEL 6\n\nVia RHSA-2016:2058 https://rhn.redhat.com/errata/RHSA-2016-2058.html"
							},
							{
								"isprivate": "0",
								"commentid": "9791756",
								"comment_count": "39",
								"who": {
									"text": "thoger",
									"name": "Tomas Hoger"
								},
								"bug_when": "2016-10-14 12:13:34 +0000",
								"thetext": "Additional related changes appeared in MySQL versions 5.5.53, 5.6.34, and 5.7.16.  Those versions change change the default for secure_file_priv, the setting which controls where database user with FILE privileges can write files.  Depending on the build, it's either NULL (preventing use of FILE privilege), or an empty dedicated directory that is created by Oracle distributed binary packages.  Additionally, mysqld now tries to detect insecure secure_file_priv setting at startup and refuse to start if it's insecure.  The following settings are considered insecure:\n\n- empty secure_file_priv, allowing read/write to any directory\n- secure_file_priv pointing to data directory or its subdirectory\n- secure_file_priv pointing to directory accessible to all users\n\nhttp://dev.mysql.com/doc/relnotes/mysql/5.5/en/news-5-5-53.html\nhttp://dev.mysql.com/doc/relnotes/mysql/5.6/en/news-5-6-34.html\nhttp://dev.mysql.com/doc/relnotes/mysql/5.7/en/news-5-7-16.html\n\nThis commit adds these changes:\n\nhttps://github.com/mysql/mysql-server/commit/7cb79a65ba6286ac66d5ebbebea3243ef97f5c41"
							},
							{
								"isprivate": "0",
								"commentid": "9802452",
								"comment_count": "42",
								"who": {
									"text": "thoger",
									"name": "Tomas Hoger"
								},
								"bug_when": "2016-10-18 21:22:27 +0000",
								"thetext": "This CVE is not mentioned in the Oracle CPU Oct 2016:\n\nhttp://www.oracle.com/technetwork/security-advisory/cpuoct2016-2881722.html#AppendixMSQL\n\nNote that the CPU lists version 5.5.52, 5.6.33, and 5.7.15 as affected by this issue despite fixes that were applied in those versions - see comment 5.  Apparently, changes applied in versions 5.5.53, 5.6.34, and 5.7.16 - see comment 39 - got all listed under the original CVE."
							},
							{
								"isprivate": "0",
								"commentid": "9802617",
								"comment_count": "43",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2016-10-18 23:06:03 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat OpenStack Platform 8.0 (Liberty)\n\nVia RHSA-2016:2077 https://rhn.redhat.com/errata/RHSA-2016-2077.html"
							},
							{
								"isprivate": "0",
								"commentid": "9835187",
								"comment_count": "46",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2016-10-31 19:53:18 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Software Collections for Red Hat Enterprise Linux 6\n  Red Hat Software Collections for Red Hat Enterprise Linux 6.6 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 6.7 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.1 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.2 EUS\n\nVia RHSA-2016:2130 https://rhn.redhat.com/errata/RHSA-2016-2130.html"
							},
							{
								"isprivate": "0",
								"commentid": "9835400",
								"comment_count": "47",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2016-10-31 22:23:41 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Software Collections for Red Hat Enterprise Linux 6\n  Red Hat Software Collections for Red Hat Enterprise Linux 6.6 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 6.7 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.1 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.2 EUS\n\nVia RHSA-2016:2131 https://rhn.redhat.com/errata/RHSA-2016-2131.html"
							},
							{
								"isprivate": "0",
								"commentid": "9855413",
								"comment_count": "48",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2016-11-03 20:50:47 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 7\n\nVia RHSA-2016:2595 https://rhn.redhat.com/errata/RHSA-2016-2595.html"
							},
							{
								"isprivate": "0",
								"commentid": "9892091",
								"comment_count": "52",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2016-11-15 11:30:28 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Software Collections for Red Hat Enterprise Linux 6\n  Red Hat Software Collections for Red Hat Enterprise Linux 6.7 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.1 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.2 EUS\n\nVia RHSA-2016:2749 https://rhn.redhat.com/errata/RHSA-2016-2749.html"
							},
							{
								"isprivate": "0",
								"commentid": "9909203",
								"comment_count": "53",
								"who": {
									"text": "vigneshb4u",
									"name": "Vignesh"
								},
								"bug_when": "2016-11-21 16:59:49 +0000",
								"thetext": "(In reply to Stefan Cornelius from comment #13)\n> Statement:\n> \n> All MySQL and MariaDB packages in Red Hat Enterprise Linux and Red Hat\n> Software Collections install the my.cnf configuration file in /etc as\n> root-owned and not writeable to mysqld's mysql user. This default\n> configuration stops the published exploit for this issue.\n> \n> All MySQL and MariaDB packages for Red Hat Enterprise Linux 7 (either those\n> directly included in Red Hat Enterprise Linux 7 or from Red Hat Software\n> Collections for Red Hat Enterprise Linux 7) run mysqld_safe with mysql user\n> privileges and not root privileges, limiting the potential impact to code\n> execution as mysql system user.\n> \n> The MySQL 5.1 packages in Red Hat Enterprise Linux 6 do not implement\n> support for library preloading, completely preventing the remote attack\n> vector used by the published exploit.\n> \n> For additional details, refer to:\n> \n> https://bugzilla.redhat.com/show_bug.cgi?id=1375198#c12\n> \n> \n> Mitigation:\n> \n\nConfused if these mitigations are also applicable for MySQL versions >= 5.5.53, 5.6.34, and 5.7.16 too which have the MySQL fix (per https://bugzilla.redhat.com/show_bug.cgi?id=1375198#c5).\n\n> - Ensure all MySQL / MariaDB configuration files are not writeable to the\n> mysql user. This is the default configuration in Red Hat products.\n> \nBased on new fix, Even if they are writeable by mysql user (per file permissions), general query log and slow query log can no longer be written to a file ending with .ini or .cnf\n\n> - Ensure that non-administrative database users are not granted FILE\n> privilege. Applications accessing data in MySQL / MariaDB databases,\n> including web application potentially vulnerable to SQL injections, should\n> use database accounts with the lowest privileges required.\n> \nBased on new fix, Even if non-admin database users are granted FILE privilege, they won't be able to write into .ini or .cnf files.\n\n> - If FILE permission needs to be granted to some non-administrative database\n> users, use secure_file_priv setting to limit where files can be written to\n> or read from.\n\nAs I understand, the fix MySQL versions 5.5.53, 5.6.34, and 5.7.16, mitigates this issue completely and there is no need for any additional mitigations. Am I missing something?"
							},
							{
								"isprivate": "0",
								"commentid": "9968746",
								"comment_count": "56",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2016-12-08 16:06:20 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Software Collections for Red Hat Enterprise Linux 6.7 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.3 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 6\n  Red Hat Software Collections for Red Hat Enterprise Linux 7\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.2 EUS\n\nVia RHSA-2016:2928 https://rhn.redhat.com/errata/RHSA-2016-2928.html"
							},
							{
								"isprivate": "0",
								"commentid": "9968788",
								"comment_count": "57",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2016-12-08 16:12:26 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Software Collections for Red Hat Enterprise Linux 6\n  Red Hat Software Collections for Red Hat Enterprise Linux 6.7 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.2 EUS\n  Red Hat Software Collections for Red Hat Enterprise Linux 7.3 EUS\n\nVia RHSA-2016:2927 https://rhn.redhat.com/errata/RHSA-2016-2927.html"
							},
							{
								"isprivate": "0",
								"commentid": "10091584",
								"comment_count": "58",
								"who": {
									"text": "errata-xmlrpc",
									"name": "errata-xmlrpc"
								},
								"bug_when": "2017-01-24 11:45:52 +0000",
								"thetext": "This issue has been addressed in the following products:\n\n  Red Hat Enterprise Linux 6\n\nVia RHSA-2017:0184 https://rhn.redhat.com/errata/RHSA-2017-0184.html"
							}
						]
					}
				],
				"long_desc": [
					{
						"isprivate": "0",
						"commentid": "9698940",
						"comment_count": "0",
						"who": {
							"text": "amaris",
							"name": "Adam Mariš"
						},
						"bug_when": "2016-09-12 13:17:28 +0000",
						"thetext": "\nThis is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof Fedora.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:\nhttp://fedoraproject.org/wiki/Security/TrackingBugs\n\nWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate.\n\n[bug automatically created by: add-tracking-bugs]"
					},
					{
						"isprivate": "0",
						"commentid": "9698941",
						"comment_count": "1",
						"who": {
							"text": "amaris",
							"name": "Adam Mariš"
						},
						"bug_when": "2016-09-12 13:17:37 +0000",
						"thetext": "\nUse the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=1375198,1375200\n\n# Description of your update\nnotes=Security fix for CVE-2016-6662\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi web interface to submit updates:\n\nhttps://bodhi.fedoraproject.org/updates/new"
					},
					{
						"isprivate": "0",
						"commentid": "9715760",
						"comment_count": "2",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-09-16 22:11:33 +0000",
						"thetext": "community-mysql-5.7.15-1.fc24 has been submitted as an update to Fedora 24. https://bodhi.fedoraproject.org/updates/FEDORA-2016-0901301dff"
					},
					{
						"isprivate": "0",
						"commentid": "9718732",
						"comment_count": "3",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-09-18 06:51:47 +0000",
						"thetext": "community-mysql-5.7.15-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report.\nSee https://fedoraproject.org/wiki/QA:Updates_Testing for\ninstructions on how to install test updates.\nYou can provide feedback for this update here: https://bodhi.fedoraproject.org/updates/FEDORA-2016-0901301dff"
					},
					{
						"isprivate": "0",
						"commentid": "9744814",
						"comment_count": "4",
						"who": {
							"text": "updates",
							"name": "Fedora Update System"
						},
						"bug_when": "2016-09-27 03:52:21 +0000",
						"thetext": "community-mysql-5.7.15-1.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report."
					}
				]
			}
		}
	],
	"builds": [
		{
			"epoch": 0,
			"nvr": "community-mysql-5.7.15-1.fc24",
			"release_id": 14,
			"signed": true,
			"type": "rpm",
			"package": {
				"armv7hl": [
					{
						"name": "community-mysql-errmsg",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "armv7hl"
					},
					{
						"name": "community-mysql-libs",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "armv7hl"
					},
					{
						"name": "community-mysql-embedded-devel",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "armv7hl"
					},
					{
						"name": "community-mysql-debuginfo",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "armv7hl"
					},
					{
						"name": "community-mysql-test",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "armv7hl"
					},
					{
						"name": "community-mysql-devel",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "armv7hl"
					},
					{
						"name": "community-mysql-common",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "armv7hl"
					},
					{
						"name": "community-mysql",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "armv7hl"
					},
					{
						"name": "community-mysql-server",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "armv7hl"
					},
					{
						"name": "community-mysql-embedded",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "armv7hl"
					}
				],
				"i686": [
					{
						"name": "community-mysql-common",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "i686"
					},
					{
						"name": "community-mysql-debuginfo",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "i686"
					},
					{
						"name": "community-mysql-embedded-devel",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "i686"
					},
					{
						"name": "community-mysql-server",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "i686"
					},
					{
						"name": "community-mysql-embedded",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "i686"
					},
					{
						"name": "community-mysql-devel",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "i686"
					},
					{
						"name": "community-mysql",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "i686"
					},
					{
						"name": "community-mysql-test",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "i686"
					},
					{
						"name": "community-mysql-errmsg",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "i686"
					},
					{
						"name": "community-mysql-libs",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "i686"
					}
				],
				"src": [
					{
						"name": "community-mysql",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "src"
					}
				],
				"x86_64": [
					{
						"name": "community-mysql-embedded",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "x86_64"
					},
					{
						"name": "community-mysql-embedded-devel",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "x86_64"
					},
					{
						"name": "community-mysql",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "x86_64"
					},
					{
						"name": "community-mysql-errmsg",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "x86_64"
					},
					{
						"name": "community-mysql-devel",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "x86_64"
					},
					{
						"name": "community-mysql-server",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "x86_64"
					},
					{
						"name": "community-mysql-debuginfo",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "x86_64"
					},
					{
						"name": "community-mysql-common",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "x86_64"
					},
					{
						"name": "community-mysql-libs",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "x86_64"
					},
					{
						"name": "community-mysql-test",
						"version": "5.7.15",
						"release": "1.fc24",
						"arch": "x86_64"
					}
				]
			}
		}
	],
	"close_bugs": true,
	"comments": [
		{
			"id": 489030,
			"text": "This update has been submitted for testing by jdornak. ",
			"timestamp": "2016-09-16 22:11:28",
			"update_id": 67848,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"bug_feedback": [
				{
					"bug": {
						"bug_id": 1375198,
						"parent": true,
						"security": true,
						"title": "CVE-2016-6662 mysql: general_log can write to configuration files, leading to privilege escalation"
					},
					"bug_id": 1375198,
					"comment_id": 489468
				},
				{
					"bug": {
						"bug_id": 1375200,
						"security": true,
						"title": "CVE-2016-6662 community-mysql: mysql: Privilege escalation by abusing MySQL logging functions [fedora-all]"
					},
					"bug_id": 1375200,
					"comment_id": 489468
				}
			],
			"id": 489468,
			"karma": 1,
			"text": "Works in several basic scenarios.",
			"timestamp": "2016-09-17 21:44:13",
			"update_id": 67848,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/16a5fa3536fe8a9d2ee5c116d12b9c097fa9cf9d98afff576e2c17b4c8c2ce95?s=24&d=retro",
				"email": "hhorak@redhat.com",
				"groups": [
					{
						"name": "packager"
					},
					{
						"name": "ipausers"
					},
					{
						"name": "centosproject-email-aliases"
					},
					{
						"name": "modularity-wg"
					},
					{
						"name": "sig-sclo"
					},
					{
						"name": "qa-beaker-user"
					},
					{
						"name": "cla_redhat"
					},
					{
						"name": "fedora-contributor"
					},
					{
						"name": "signed_fpca"
					},
					{
						"name": "qa-automation-shell"
					},
					{
						"name": "sig-extras"
					},
					{
						"name": "db-sig"
					},
					{
						"name": "fedorabugs"
					}
				],
				"id": 997,
				"name": "hhorak",
				"openid": "hhorak.id.fedoraproject.org"
			},
			"user_id": 997
		},
		{
			"id": 489642,
			"text": "This update has been pushed to testing.",
			"timestamp": "2016-09-18 06:51:59",
			"update_id": 67848,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"bug_feedback": [
				{
					"bug": {
						"bug_id": 1375198,
						"parent": true,
						"security": true,
						"title": "CVE-2016-6662 mysql: general_log can write to configuration files, leading to privilege escalation"
					},
					"bug_id": 1375198,
					"comment_id": 490082,
					"karma": 1
				},
				{
					"bug": {
						"bug_id": 1375200,
						"security": true,
						"title": "CVE-2016-6662 community-mysql: mysql: Privilege escalation by abusing MySQL logging functions [fedora-all]"
					},
					"bug_id": 1375200,
					"comment_id": 490082,
					"karma": 1
				}
			],
			"id": 490082,
			"karma": 1,
			"text": "Works fine here.",
			"timestamp": "2016-09-19 08:17:27",
			"update_id": 67848,
			"user": {
				"avatar": "https://seccdn.libravatar.org/avatar/fb56ed145be8a9c6464c4de3b43691a8f62270537cfe68464059fd8fc1d2e9b0?s=24&d=retro",
				"email": "terjeros@gmail.com",
				"groups": [
					{
						"name": "packager"
					},
					{
						"name": "ipausers"
					},
					{
						"name": "fedora-contributor"
					},
					{
						"name": "signed_fpca"
					},
					{
						"name": "fedorabugs"
					}
				],
				"id": 525,
				"name": "terjeros",
				"openid": "terjeros.id.fedoraproject.org"
			},
			"user_id": 525
		},
		{
			"id": 494399,
			"text": "This update has been submitted for stable by jdornak. ",
			"timestamp": "2016-09-26 09:12:31",
			"update_id": 67848,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		},
		{
			"id": 495330,
			"text": "This update has been pushed to stable.",
			"timestamp": "2016-09-27 03:54:10",
			"update_id": 67848,
			"user": {
				"avatar": "https://apps.fedoraproject.org/img/icons/bodhi-24.png",
				"id": 91,
				"name": "bodhi",
				"openid": "bodhi.id.fedoraproject.org"
			},
			"user_id": 91
		}
	],
	"content_type": "rpm",
	"date_pushed": "2016-09-27 00:26:31",
	"date_stable": "2016-09-27 00:26:31",
	"date_submitted": "2016-09-16 22:11:28",
	"date_testing": "2016-09-18 05:27:19",
	"karma": 2,
	"meets_testing_requirements": true,
	"notes": "Update to MySQL 5.7.15, Security fix for CVE-2016-6662",
	"pushed": true,
	"release": {
		"branch": "f24",
		"candidate_tag": "f24-updates-candidate",
		"composed_by_bodhi": true,
		"dist_tag": "f24",
		"id_prefix": "FEDORA",
		"long_name": "Fedora 24",
		"mail_template": "fedora_errata_template",
		"name": "F24",
		"override_tag": "f24-override",
		"package_manager": "dnf",
		"pending_signing_tag": "f24-signing-pending",
		"pending_stable_tag": "f24-updates-pending",
		"pending_testing_tag": "f24-updates-testing-pending",
		"stable_tag": "f24-updates",
		"state": "archived",
		"testing_repository": "updates-testing",
		"testing_tag": "f24-updates-testing",
		"version": "24"
	},
	"require_bugs": true,
	"require_testcases": true,
	"severity": "unspecified",
	"stable_karma": 3,
	"status": "stable",
	"suggest": "unspecified",
	"title": "community-mysql-5.7.15-1.fc24",
	"type": "security",
	"url": "https://bodhi.fedoraproject.org/updates/FEDORA-2016-0901301dff",
	"unstable_karma": -3,
	"updateid": "FEDORA-2016-0901301dff",
	"user": {
		"avatar": "https://seccdn.libravatar.org/avatar/e08b833ed22f4aeb8ba2b0ba196dc37264a079f6e6b4d2899353f1861dc74f1a?s=24&d=retro",
		"email": "jakub.dornak@misli.cz",
		"groups": [
			{
				"name": "packager"
			}
		],
		"id": 974,
		"name": "jdornak",
		"openid": "jdornak.id.fedoraproject.org"
	},
	"version_hash": "7006da0e4dd777f20f78eaddfe930ab558ff0883"
}
